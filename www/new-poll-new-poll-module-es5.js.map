{"version":3,"sources":["webpack:///src/app/new-poll/new-poll.module.ts","webpack:///src/app/new-poll/new-poll.page.html","webpack:///src/app/new-poll/new-poll.page.scss","webpack:///src/app/new-poll/new-poll.page.ts","webpack:///src/app/validators/checkbox-checked.validator.ts"],"names":["routes","path","component","NewPollPageModule","imports","forChild","declarations","NewPollPage","dataProvider","loadingProvider","route","router","firestore","postTags","step","validations","name","type","message","description","pollOption1","pollOption2","tags","groupId","snapshot","params","id","group","pollForm","compose","required","pollOption3","pollOption4","tagsSelected","ionViewDidEnter","ngOnInit","getCurrentUser","then","u","snapshotChanges","subscribe","value","user","payload","data","addedByUser","addedByKey","userId","addedByUsername","username","addedByImg","img","poll","date","title","groupName","totalReactionCount","totalReviewCount","totalPollCount","groups","collection","ref","where","FieldPath","documentId","get","forEach","g","key","addOrUpdateUserGroup","getGroup","groupTags","element","push","val","isChecked","addTagControls","index","i","length","o","control","controls","submitPollForm","show","Date","today","dd","getDate","mm","getMonth","yyyy","getFullYear","dateEnding","dateCreated","pollOptions","trim","addPost","success","pollId","polls","undefined","update","posts","hide","navigateByUrl","selectGroup","console","log","selector","template","CheckboxCheckedValidator","min","validator","formArray","totalSelected","map","reduce","prev","next"],"mappings":"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","file":"new-poll-new-poll-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport { IonicModule } from '@ionic/angular';\nimport { NewPollPage } from './new-poll.page';\nimport { SharedModule } from '../services/share.module';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: NewPollPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    SharedModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [NewPollPage]\n})\nexport class NewPollPageModule {}\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>{{title}}</ion-title>\\n    <ion-buttons *ngIf=\\\"step==2\\\" slot=\\\"end\\\">\\n      <ion-button color=\\\"secondary\\\" class=\\\"ion-text-capitalize\\\" [disabled]=\\\"!pollForm.valid\\\" (click)=\\\"submitPollForm()\\\">Post</ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header> \\n\\n<ion-content class=\\\"forms-validations-content\\\">\\n  <div *ngIf=\\\"step==1\\\"> \\n    <div *ngIf=\\\"groups && groups.length > 0\\\"> \\n      <ion-list>\\n        <ion-item text-wrap *ngFor=\\\"let group of groups\\\" (click)=\\\"selectGroup(group.key)\\\">\\n          <ion-thumbnail slot=\\\"start\\\">\\n            <img src=\\\"{{group.img}}\\\" onError=\\\"this.src='./assets/images/default-group.png'\\\">\\n          </ion-thumbnail>\\n          <ion-label>\\n              <b>{{group.name}}</b><br/>\\n              {{group.description}}\\n          </ion-label>\\n        </ion-item>\\n      </ion-list>\\n    </div>\\n  </div>\\n  <div *ngIf=\\\"step==2\\\">\\n    <form class=\\\"validations-form\\\" [formGroup]=\\\"pollForm\\\" (ngSubmit)=\\\"submitPollForm()\\\">\\n      <ion-list class=\\\"inputs-list\\\" lines=\\\"full\\\">\\n        <ion-list-header class=\\\"header\\\">\\n          posting in &nbsp;<ion-label><b>{{group.name}}</b></ion-label>\\n        </ion-list-header>\\n        <ion-item class=\\\"input-item\\\">\\n          <ion-input type=\\\"text\\\" formControlName=\\\"description\\\" clearInput placeholder=\\\"What would like to ask?\\\"></ion-input>\\n        </ion-item>\\n        <ion-item class=\\\"input-item\\\">\\n          <ion-input type=\\\"text\\\" formControlName=\\\"pollOption1\\\" clearInput placeholder=\\\"Enter the first option\\\"></ion-input>\\n        </ion-item>\\n        <ion-item class=\\\"input-item\\\">\\n          <ion-input type=\\\"text\\\" formControlName=\\\"pollOption2\\\" clearInput placeholder=\\\"Enter the second option\\\"></ion-input>\\n        </ion-item>\\n        <ion-item class=\\\"input-item\\\">\\n          <ion-input type=\\\"text\\\" formControlName=\\\"pollOption3\\\" clearInput placeholder=\\\"This is optional\\\"></ion-input>\\n        </ion-item>\\n        <ion-item class=\\\"input-item\\\">\\n          <ion-input type=\\\"text\\\" formControlName=\\\"pollOption4\\\" clearInput placeholder=\\\"This is optional\\\"></ion-input>\\n        </ion-item>\\n      </ion-list>\\n \\n      <ion-list class=\\\"inputs-list\\\" lines=\\\"full\\\">\\n        <ion-list-header>\\n          <ion-label class=\\\"header-title\\\">Select relevant tags</ion-label>\\n        </ion-list-header>\\n  \\n        <div class=\\\"reviews-wrapper\\\">\\n        <ion-row>\\n          <div class=\\\"tags\\\" formArrayName=\\\"tags\\\" *ngFor=\\\"let entry of pollForm.controls.tags.controls; let i = index\\\">\\n            <ion-label *ngIf=\\\"postTags[i] === undefined || !postTags[i].isChecked\\\" class=\\\"item-rating\\\" [attr.ratingBase]=\\\"0\\\">{{postTags[i].val}}</ion-label>\\n            <ion-label *ngIf=\\\"postTags[i] !== undefined && postTags[i].isChecked\\\" class=\\\"item-rating\\\" [attr.ratingBase]=\\\"1\\\">{{postTags[i].val}}</ion-label>  \\n            <ion-checkbox slot=\\\"start\\\" [formControlName]=\\\"i\\\" [(ngModel)]=\\\"postTags[i].isChecked\\\"></ion-checkbox>\\n          </div>\\n        </ion-row>\\n\\n        <div class=\\\"error-container\\\">\\n          <ng-container *ngFor=\\\"let validation of validations.tags\\\">\\n            <div class=\\\"error-message\\\" *ngIf=\\\"pollForm.get('tags').hasError(validation.type) && (pollForm.get('tags').dirty || pollForm.get('tags').touched)\\\">\\n              <ion-icon name=\\\"information-circle-outline\\\"></ion-icon>\\n              <span>{{ validation.message }}</span>\\n            </div>\\n          </ng-container>\\n        </div>\\n        </div>\\n      </ion-list>\\n      <!-- <ion-button class=\\\"submit-btn\\\" type=\\\"submit\\\" expand=\\\"block\\\" fill=\\\"outline\\\" [disabled]=\\\"!pollForm.valid\\\">Submit</ion-button> -->\\n  </form>\\n  </div>\\n</ion-content>\\n\";","export default \":host {\\n  --page-margin: var(--app-narrow-margin);\\n}\\n\\n.forms-validations-content .validations-form {\\n  margin-bottom: calc(var(--page-margin) * 2);\\n}\\n\\n.forms-validations-content .validations-form .inputs-list {\\n  padding: var(--page-margin) var(--page-margin) calc(var(--page-margin) * 2);\\n}\\n\\n.forms-validations-content .validations-form .inputs-list .header {\\n  font-size: 14px;\\n}\\n\\n.forms-validations-content .validations-form .inputs-list .error-container .error-message {\\n  margin: calc(var(--page-margin) / 2) 0px;\\n  display: flex;\\n  align-items: center;\\n  color: var(--ion-color-danger);\\n  font-size: 14px;\\n}\\n\\n.forms-validations-content .validations-form .inputs-list .error-container .error-message ion-icon {\\n  padding-inline-end: calc(var(--page-margin) / 2);\\n  flex-shrink: 0;\\n}\\n\\n.forms-validations-content .validations-form .submit-btn {\\n  margin: var(--page-margin);\\n}\\n\\n.forms-validations-content .tags {\\n  padding-right: 5px;\\n  padding-bottom: 5px;\\n}\\n\\n.forms-validations-content .tags .item-rating {\\n  background-color: rgba(var(--page-color-rgb), 0.35);\\n  color: var(--ion-color-lightest);\\n  border-radius: var(--app-narrow-radius);\\n  padding-top: calc(var(--page-margin) / 3);\\n  padding-bottom: calc(var(--page-margin) / 3);\\n  padding-left: calc(var(--page-margin) / 2);\\n  padding-right: calc(var(--page-margin) / 2);\\n  font-size: 12px;\\n  font-weight: 600;\\n  width: 100%;\\n  display: block;\\n  text-align: center;\\n}\\n\\n.forms-validations-content .tags .item-rating[ratingBase=\\\"0\\\"] {\\n  background-color: #bbb2b2;\\n}\\n\\n.forms-validations-content .tags .item-rating[ratingBase=\\\"1\\\"] {\\n  background-color: #e0c77c;\\n}\\n\\n.forms-validations-content .tags ion-checkbox {\\n  margin: 0px;\\n  width: 50px;\\n  align-content: center;\\n  --border-width: 0px;\\n  --color-checked: transparent;\\n  margin-left: 9px;\\n  margin-top: -20px;\\n  display: block;\\n  opacity: 0;\\n}\\n\\n.uploads {\\n  margin: 5px;\\n}\\n\\n.uploads .img-wrap {\\n  position: relative;\\n  display: inline-block;\\n  font-size: 0;\\n  padding: 5px;\\n}\\n\\n.uploads .img-wrap .close {\\n  position: absolute;\\n  top: -2px;\\n  right: -7px;\\n  z-index: 100;\\n  background-color: #FFF;\\n  padding: 5px 2px 2px;\\n  color: #000;\\n  cursor: pointer;\\n  text-align: center;\\n  font-size: 22px;\\n  line-height: 10px;\\n  border-radius: 50%;\\n}\\n\\n.uploads .img-wrap:hover .close {\\n  opacity: 1;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbmV3LXBvbGwvbmV3LXBvbGwucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsdUNBQUE7QUFDRjs7QUFHRztFQUNDLDJDQUFBO0FBQUo7O0FBRUk7RUFDRSwyRUFBQTtBQUFOOztBQUVNO0VBQ0UsZUFBQTtBQUFSOztBQUdRO0VBQ0Usd0NBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSw4QkFBQTtFQUNBLGVBQUE7QUFEVjs7QUFHVTtFQUNFLGdEQUFBO0VBQ0EsY0FBQTtBQURaOztBQU9JO0VBQ0UsMEJBQUE7QUFMTjs7QUFTRTtFQUNFLGtCQUFBO0VBQ0EsbUJBQUE7QUFQSjs7QUFRRTtFQUVFLG1EQUFBO0VBQ1EsZ0NBQUE7RUFDQSx1Q0FBQTtFQUNBLHlDQUFBO0VBQ0EsNENBQUE7RUFDQSwwQ0FBQTtFQUNBLDJDQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0VBQ0EsV0FBQTtFQUNBLGNBQUE7RUFDQSxrQkFBQTtBQVBaOztBQVFZO0VBQ0UseUJBQUE7QUFOZDs7QUFRWTtFQUNFLHlCQUFBO0FBTmQ7O0FBU0U7RUFDRSxXQUFBO0VBQ0EsV0FBQTtFQUNBLHFCQUFBO0VBQ0EsbUJBQUE7RUFDQSw0QkFBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7RUFDQSxjQUFBO0VBQ0EsVUFBQTtBQVBKOztBQWFBO0VBQ0UsV0FBQTtBQVZGOztBQVdBO0VBQ0Usa0JBQUE7RUFDQSxxQkFBQTtFQUNBLFlBQUE7RUFDQSxZQUFBO0FBVEY7O0FBV0E7RUFDRSxrQkFBQTtFQUNBLFNBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLHNCQUFBO0VBQ0Esb0JBQUE7RUFDQSxXQUFBO0VBQ0EsZUFBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7QUFURjs7QUFXQTtFQUNFLFVBQUE7QUFURiIsImZpbGUiOiJzcmMvYXBwL25ldy1wb2xsL25ldy1wb2xsLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcbiAgLS1wYWdlLW1hcmdpbjogdmFyKC0tYXBwLW5hcnJvdy1tYXJnaW4pO1xufVxuXG4uZm9ybXMtdmFsaWRhdGlvbnMtY29udGVudCB7XG4gICAudmFsaWRhdGlvbnMtZm9ybSB7XG4gICAgbWFyZ2luLWJvdHRvbTogY2FsYyh2YXIoLS1wYWdlLW1hcmdpbikgKiAyKTtcblxuICAgIC5pbnB1dHMtbGlzdCB7XG4gICAgICBwYWRkaW5nOiB2YXIoLS1wYWdlLW1hcmdpbikgdmFyKC0tcGFnZS1tYXJnaW4pIGNhbGModmFyKC0tcGFnZS1tYXJnaW4pICogMik7XG5cbiAgICAgIC5oZWFkZXIge1xuICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICB9XG4gICAgICAuZXJyb3ItY29udGFpbmVyIHtcbiAgICAgICAgLmVycm9yLW1lc3NhZ2Uge1xuICAgICAgICAgIG1hcmdpbjogY2FsYyh2YXIoLS1wYWdlLW1hcmdpbikgLyAyKSAwcHg7XG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFuZ2VyKTtcbiAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG5cbiAgICAgICAgICBpb24taWNvbiB7XG4gICAgICAgICAgICBwYWRkaW5nLWlubGluZS1lbmQ6IGNhbGModmFyKC0tcGFnZS1tYXJnaW4pIC8gMik7XG4gICAgICAgICAgICBmbGV4LXNocmluazogMDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC5zdWJtaXQtYnRuIHtcbiAgICAgIG1hcmdpbjogdmFyKC0tcGFnZS1tYXJnaW4pO1xuICAgIH1cbiAgfVxuXG4gIC50YWdzIHtcbiAgICBwYWRkaW5nLXJpZ2h0OiA1cHg7XG4gICAgcGFkZGluZy1ib3R0b206IDVweDtcbiAgLml0ZW0tcmF0aW5nIHtcbiAgICAvLyBEZWZhdWx0IGJhY2tncm91bmRcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKHZhcigtLXBhZ2UtY29sb3ItcmdiKSwgLjM1KTtcbiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItbGlnaHRlc3QpO1xuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogdmFyKC0tYXBwLW5hcnJvdy1yYWRpdXMpO1xuICAgICAgICAgICAgcGFkZGluZy10b3A6IGNhbGModmFyKC0tcGFnZS1tYXJnaW4pIC8gMyk7XG4gICAgICAgICAgICBwYWRkaW5nLWJvdHRvbTogY2FsYyh2YXIoLS1wYWdlLW1hcmdpbikgLyAzKTtcbiAgICAgICAgICAgIHBhZGRpbmctbGVmdDogY2FsYyh2YXIoLS1wYWdlLW1hcmdpbikgLyAyKTtcbiAgICAgICAgICAgIHBhZGRpbmctcmlnaHQ6IGNhbGModmFyKC0tcGFnZS1tYXJnaW4pIC8gMik7XG4gICAgICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICAgICZbcmF0aW5nQmFzZT1cIjBcIl0ge1xuICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjYmJiMmIyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJltyYXRpbmdCYXNlPVwiMVwiXSB7XG4gICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNlMGM3N2M7XG4gICAgICAgICAgICB9XG4gIH1cbiAgaW9uLWNoZWNrYm94IHtcbiAgICBtYXJnaW46IDBweDtcbiAgICB3aWR0aDogNTBweDtcbiAgICBhbGlnbi1jb250ZW50OiBjZW50ZXI7XG4gICAgLS1ib3JkZXItd2lkdGg6IDBweDtcbiAgICAtLWNvbG9yLWNoZWNrZWQ6IHRyYW5zcGFyZW50O1xuICAgIG1hcmdpbi1sZWZ0OiA5cHg7XG4gICAgbWFyZ2luLXRvcDogLTIwcHg7XG4gICAgZGlzcGxheTpibG9jaztcbiAgICBvcGFjaXR5OiAwO1xuICB9XG4gIFxufVxufVxuXG4udXBsb2FkcyB7XG4gIG1hcmdpbjogNXB4O1xuLmltZy13cmFwIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIGZvbnQtc2l6ZTogMDtcbiAgcGFkZGluZzogNXB4O1xufVxuLmltZy13cmFwIC5jbG9zZSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAtMnB4O1xuICByaWdodDogLTdweDtcbiAgei1pbmRleDogMTAwO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjRkZGO1xuICBwYWRkaW5nOiA1cHggMnB4IDJweDtcbiAgY29sb3I6ICMwMDA7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBmb250LXNpemU6IDIycHg7XG4gIGxpbmUtaGVpZ2h0OiAxMHB4O1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG59XG4uaW1nLXdyYXA6aG92ZXIgLmNsb3NlIHtcbiAgb3BhY2l0eTogMTtcbn1cbn1cblxuIl19 */\";","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Validators, FormGroup, FormControl, FormArray } from '@angular/forms';\nimport { DataService } from '../services/data.service';\nimport { LoadingService } from '../services/loading.service';\nimport { CheckboxCheckedValidator } from '../validators/checkbox-checked.validator';\nimport * as firebase from 'firebase/app';\nimport { AngularFirestore } from '@angular/fire/firestore';\n\n@Component({\n  selector: 'app-new-poll', \n  templateUrl: './new-poll.page.html',\n  styleUrls: ['./new-poll.page.scss'],\n})\nexport class NewPollPage implements OnInit {\n  private poll: any;\n  private user: any;\n  private title: any;\n  private pollForm: FormGroup;\n  private groupId: any;\n  private group: any;\n  private pollId: any;\n  private postTags: any = [];\n  private addedByUser: any;\n  private step: any = 1;\n  groups: any;\n\n  validations = {\n    name: [\n      { type: 'required', message: 'Title is required.' },\n      { type: 'minlength', message: 'Title must be at least 5 characters long.' },\n      { type: 'maxlength', message: 'Title cannot be more than 25 characters long.' }\n    ],\n    description: [\n      { type: 'required', message: 'Poll Question is required.' },\n      { type: 'minlength', message: 'Poll Question must be at least 10 characters long.' },\n      { type: 'maxlength', message: 'Poll Question cannot be more than 50 characters long.' }\n    ],\n    pollOption1: [\n      { type: 'required', message: 'Poll Question is required.' },\n      { type: 'minlength', message: 'Poll Question must be at least 10 characters long.' },\n      { type: 'maxlength', message: 'Poll Question cannot be more than 50 characters long.' }\n    ],\n    pollOption2: [\n      { type: 'required', message: 'Poll Question is required.' },\n      { type: 'minlength', message: 'Poll Question must be at least 10 characters long.' },\n      { type: 'maxlength', message: 'Poll Question cannot be more than 50 characters long.' }\n    ],\n    tags: [\n      { type: 'required', message: 'Please select at least one tag.' }\n    ]\n    };\n\n  constructor(\n    public dataProvider: DataService,\n    public loadingProvider: LoadingService,\n    private route: ActivatedRoute,\n    private router: Router,\n    public firestore: AngularFirestore\n  ) {\n    this.groupId = this.route.snapshot.params.id;\n\n    this.group = {name:''}\n    if (this.groupId === 'undefined') {\n      this.step = 1;\n    } else {\n      this.step = 2;\n    }\n\n    this.pollForm = new FormGroup({\n      description: new FormControl('', Validators.compose([\n        // Validators.minLength(10),\n        // Validators.maxLength(50),\n        Validators.required\n      ])),\n      pollOption1: new FormControl('', Validators.compose([\n        // Validators.minLength(1),\n        // Validators.maxLength(20),\n        Validators.required\n      ])),\n      pollOption2: new FormControl('', Validators.compose([\n        // Validators.minLength(1),\n        // Validators.maxLength(20),\n        Validators.required\n      ])),\n      pollOption3: new FormControl(''),\n      pollOption4: new FormControl(''),\n      tags: new FormArray([], CheckboxCheckedValidator.tagsSelected(1))\n      });\n   }\n\n   ionViewDidEnter() {}\n\n  ngOnInit() {\n     // Initialize\n\n     this.dataProvider.getCurrentUser().then((u) => {\n      u.snapshotChanges().subscribe((value: any) => {\n        this.user = value.payload.data();\n        this.addedByUser = {\n        addedByKey: value.payload.data().userId,\n        addedByUsername: value.payload.data().username,\n        addedByImg: value.payload.data().img\n      };\n  \n        this.poll = {\n        addedByUser: this.addedByUser,\n        date: '',\n        title: '',\n        postTags: [],\n        groupId: '',\n        groupName: '',\n        type: 'poll',\n        data: {},\n        totalReactionCount: 0,\n        totalReviewCount: 0,\n        totalPollCount: 0\n      };\n  \n        if (this.step === 1) {\n        this.title = 'Select a group ...';\n        // Get User Groups List\n        if (this.user.groups) {\n          this.firestore.collection('groups').ref\n          .where(firebase.default.firestore.FieldPath.documentId(), 'in', this.user.groups)\n          .get().then((group: any) => {\n            this.groups = [];\n            group.forEach(g => {\n              let group: any;\n              group = g.data();\n              group.key = g.id;\n              this.addOrUpdateUserGroup(group);\n            });\n          });\n          }\n        } else {\n          this.title = 'Poll';\n    \n          this.dataProvider.getGroup(this.groupId).snapshotChanges().subscribe((group) => {\n            this.group = group.payload.data();\n            this.group.groupTags.forEach((element: any) => {\n              this.postTags.push({val: element, isChecked: false});\n            });\n            this.addTagControls();\n          });   \n        }\n    });\n     })\n\n  }\n\n  addOrUpdateUserGroup(group) {\n    if (!this.groups) {\n      this.groups = [group];\n    } else {\n      let index = -1;\n      for (let i = 0; i < this.groups.length; i++) {\n        if (this.groups[i].key == group.key) {\n          index = i;\n        }\n      }\n      if (index > -1) {\n        this.groups[index] = group;\n      } else {\n        this.groups.push(group);\n      }\n    }\n  }\n\n  addTagControls() {\n    this.postTags.forEach((o, i) => {\n      const control = new FormControl(i === 0); // if first item set to true, else false\n      (this.pollForm.controls.tags as FormArray).push(control);\n    });\n  }\n\n  submitPollForm() {\n    this.loadingProvider.show();\n\n    // Add poll info and date.\n    this.poll.groupId = this.groupId;\n    this.poll.groupName = this.group.name;\n    this.poll.date = new Date();\n    this.poll.title = this.pollForm.value.description;\n    this.poll.postTags = [];\n    this.poll.postTags = this.postTags;\n\n    const today = new Date();\n    const dd = today.getDate();\n    const mm = today.getMonth(); // January is 0!\n    const yyyy = today.getFullYear();\n\n    const date: Date = new Date(yyyy, mm, dd + 2);\n    const dateEnding = date;\n\n    this.poll.data = {\n      dateCreated: new Date(),\n      dateEnding,\n      pollOptions: []\n    };\n\n\n    if (this.pollForm.value.pollOption1 != null\n          && this.pollForm.value.pollOption1.trim() !== '') {\n          this.poll.data.pollOptions.push({\n            name : this.pollForm.value.pollOption1.trim()});\n        }\n    if (this.pollForm.value.pollOption2 != null\n            && this.pollForm.value.pollOption2.trim() !== '') {\n            this.poll.data.pollOptions.push({\n              name : this.pollForm.value.pollOption2.trim()});\n        }\n    if (this.pollForm.value.pollOption3 != null\n            && this.pollForm.value.pollOption3.trim() !== '') {\n            this.poll.data.pollOptions.push({\n               name : this.pollForm.value.pollOption3.trim()});\n        }\n    if (this.pollForm.value.pollOption4 != null\n          && this.pollForm.value.pollOption4.trim() !== '') {\n        this.poll.data.pollOptions.push({\n          name : this.pollForm.value.pollOption4.trim()});\n    }\n\n\n    this.dataProvider.addPost(this.poll).then((success) => {\n          const pollId = success.id;\n          this.pollId = pollId;\n          if (this.group.polls === undefined) {\n            this.group.polls = [];\n          }\n          this.group.polls.push(this.pollId);\n\n          // Update group data on the database.\n          this.dataProvider.getGroup(this.groupId).update({\n            posts: this.group.posts\n          }).then(() => {\n          // Back.\n          this.loadingProvider.hide();\n          this.router.navigateByUrl('tabs/tab2');\n          });\n      });\n    }\n\n  selectGroup(groupId) {\n    this.groupId = groupId;\n    console.log('groupId', groupId);\n    this.step = 2;\n    this.title = 'Event';\n\n    this.dataProvider.getGroup(this.groupId).snapshotChanges().subscribe((group) => {\n      this.group = group.payload.data();\n      this.group.groupTags.forEach((element: any) => {\n        this.postTags.push({val: element, isChecked: false});\n      });\n      this.addTagControls();\n\n  });\n\n    }\n\n}\n","import { ValidatorFn, FormArray } from '@angular/forms';\n\nexport class CheckboxCheckedValidator {\n\n  static tagsSelected(min) {\n    const validator: ValidatorFn = (formArray: FormArray) => {\n      const totalSelected = formArray.controls\n        .map(control => control.value)\n        .reduce((prev, next) => next ? prev + next : prev, 0);\n      return totalSelected >= min ? null : { required: true };\n    };\n\n    return validator;\n  }\n}\n"]}