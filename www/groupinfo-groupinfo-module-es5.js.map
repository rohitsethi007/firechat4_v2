{"version":3,"sources":["webpack:///src/app/groupinfo/groupinfo.page.html","webpack:///src/app/groupinfo/groupinfo.page.ts","webpack:///src/app/groupinfo/groupinfo.page.scss","webpack:///src/app/groupinfo/groupinfo.module.ts"],"names":["GroupinfoPage","router","route","dataProvider","firestore","loadingProvider","alertCtrl","groupMembers","groupPosts","groupId","snapshot","params","id","getGroup","snapshotChanges","subscribe","p","group","payload","data","key","show","members","forEach","memberId","getUser","memberRes","member","$key","addUpdateOrRemoveMember","posts","collection","ref","where","FieldPath","documentId","get","then","po","loadEachPostData","hide","navigateByUrl","getCurrentUser","accounts","account","user","userId","post","postTags","filter","x","isChecked","index","i","length","push","indexOf","index1","j","splice","getCurrentUserId","alert","create","header","message","buttons","text","handler","messages","date","Date","toString","sender","type","name","icon","update","success","doc","setTimeout","error","showToast","r","present","selector","template","routes","path","component","GroupinfoPageModule","imports","forChild","declarations"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCaFA,aAAa;AASxB;AACA;AACA,+BACSC,MADT,EAESC,KAFT,EAGSC,YAHT,EAISC,SAJT,EAKSC,eALT,EAMSC,SANT,EAMmC;AAAA;;AAL1B,eAAAL,MAAA,GAAAA,MAAA;AACA,eAAAC,KAAA,GAAAA,KAAA;AACA,eAAAC,YAAA,GAAAA,YAAA;AACA,eAAAC,SAAA,GAAAA,SAAA;AACA,eAAAC,eAAA,GAAAA,eAAA;AACA,eAAAC,SAAA,GAAAA,SAAA;AAbT,eAAAC,YAAA,GAAoB,EAApB;AAGA,eAAAC,UAAA,GAAkB,EAAlB;AAWK;;AAlBmB;AAAA;AAAA,qCAoBb,CACV;AArBuB;AAAA;AAAA,4CAuBN;AAAA;;AAChB;AAEA,iBAAKC,OAAL,GAAe,KAAKP,KAAL,CAAWQ,QAAX,CAAoBC,MAApB,CAA2BC,EAA1C,CAHgB,CAKhB;;AACA,iBAAKT,YAAL,CAAkBU,QAAlB,CAA2B,KAAKJ,OAAhC,EAAyCK,eAAzC,GAA2DC,SAA3D,CAAqE,UAACC,CAAD,EAAY;AAC/E,kBAAIC,KAAK,GAAGD,CAAC,CAACE,OAAF,CAAUC,IAAV,EAAZ;AACAF,mBAAK,CAACG,GAAN,GAAYJ,CAAC,CAACI,GAAd;;AACA,kBAAIH,KAAK,IAAI,IAAb,EAAmB;AACjB,qBAAI,CAACZ,eAAL,CAAqBgB,IAArB;;AACA,qBAAI,CAACJ,KAAL,GAAaA,KAAb;AACAA,qBAAK,CAACK,OAAN,CAAcC,OAAd,CAAsB,UAACC,QAAD,EAAc;AAChC,uBAAI,CAACrB,YAAL,CAAkBsB,OAAlB,CAA0BD,QAA1B,EAAoCV,eAApC,GAAsDC,SAAtD,CAAgE,UAACW,SAAD,EAAoB;AAClF,wBAAIC,MAAM,GAAG,MAAH,OAAG,CAAH;AAAKC,0BAAI,EAAEF,SAAS,CAACR,OAAV,CAAkBN;AAA7B,qBAAG,EAAiCc,SAAS,CAACR,OAAV,CAAkBC,IAAlB,EAAjC,CAAb;;AACA,yBAAI,CAACU,uBAAL,CAA6BF,MAA7B;AACD,mBAHD;AAID,iBALH,EAHiB,CAUjB;;AACA,oBAAI,KAAI,CAACV,KAAL,CAAWa,KAAf,EAAsB;AACpB,uBAAI,CAAC1B,SAAL,CAAe2B,UAAf,CAA0B,OAA1B,EAAmCC,GAAnC,CACCC,KADD,CACO,uDAAmBC,SAAnB,CAA6BC,UAA7B,EADP,EACkD,IADlD,EACwD,KAAI,CAAClB,KAAL,CAAWa,KADnE,EAECM,GAFD,GAEOC,IAFP,CAEY,UAACC,EAAD,EAAa;AACvB,yBAAI,CAAC9B,UAAL,GAAkB,EAAlB;;AACA,yBAAI,CAAC+B,gBAAL,CAAsBD,EAAtB;AACD,mBALD;AAMD;;AACD,qBAAI,CAACjC,eAAL,CAAqBmC,IAArB;AACD,eApBD,MAoBO;AACL,qBAAI,CAACvC,MAAL,CAAYwC,aAAZ,CAA0B,GAA1B;AACD;AACF,aA1BD,EANgB,CAkChB;;AACA,iBAAKtC,YAAL,CAAkBuC,cAAlB,GAAmC5B,eAAnC,GAAqDC,SAArD,CAA+D,UAAC4B,QAAD,EAAmB;AAChF,kBAAIC,OAAO,GAAGD,QAAQ,CAACzB,OAAT,CAAiBC,IAAjB,EAAd;AACA,mBAAI,CAAC0B,IAAL,GAAY,MAAH,OAAG,CAAH;AAAKjB,oBAAI,EAAEgB,OAAO,CAACE;AAAnB,eAAG,EAA2BF,OAA3B,CAAZ;AACD,aAHD;AAID;AA9DuB;AAAA;AAAA,2CAgEPN,EAhEO,EAgEE;AAAA;;AACxBA,cAAE,CAACf,OAAH,CAAW,UAAAP,CAAC,EAAI;AACd,kBAAI+B,IAAJ;AACAA,kBAAI,GAAG/B,CAAC,CAACG,IAAF,EAAP;AACA4B,kBAAI,CAAC3B,GAAL,GAAWJ,CAAC,CAACJ,EAAb;AACAmC,kBAAI,CAACC,QAAL,GAAgBD,IAAI,CAACC,QAAL,CAAcC,MAAd,CAAqB,UAAAC,CAAC;AAAA,uBAAIA,CAAC,CAACC,SAAF,KAAgB,KAApB;AAAA,eAAtB,CAAhB;;AAEA,kBAAI,CAAC,MAAI,CAAC3C,UAAV,EAAsB;AACpB,sBAAI,CAACA,UAAL,GAAkB,CAACuC,IAAD,CAAlB;AACD,eAFD,MAEO;AACL,oBAAIK,KAAK,GAAG,CAAC,CAAb;;AACA,qBAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,MAAI,CAAC7C,UAAL,CAAgB8C,MAApC,EAA4CD,CAAC,EAA7C,EAAiD;AAC/C,sBAAI,MAAI,CAAC7C,UAAL,CAAgB6C,CAAhB,EAAmBjC,GAAnB,IAA0B2B,IAAI,CAAC3B,GAAnC,EAAwC;AACtCgC,yBAAK,GAAGC,CAAR;AACD;AACF;;AACD,oBAAID,KAAK,GAAG,CAAC,CAAb,EAAgB;AACd,wBAAI,CAAC5C,UAAL,CAAgB4C,KAAhB,IAAyBL,IAAzB;AACD,iBAFD,MAEO;AACL,wBAAI,CAACvC,UAAL,CAAgB+C,IAAhB,CAAqBR,IAArB;AACD;AACF;AACF,aArBD;AAsBD,WAvFuB,CAyFxB;AACA;;AA1FwB;AAAA;AAAA,kDA2FApB,MA3FA,EA2FQ;AAC9B,gBAAI,KAAKV,KAAT,EAAgB;AACd,kBAAI,KAAKA,KAAL,CAAWK,OAAX,CAAmBkC,OAAnB,CAA2B7B,MAAM,CAACC,IAAlC,IAA0C,CAAC,CAA/C,EAAkD;AAChD;AACA,oBAAI,CAAC,KAAKrB,YAAV,EAAwB;AACtB,uBAAKA,YAAL,GAAoB,CAACoB,MAAD,CAApB;AACD,iBAFD,MAEO;AACL,sBAAIyB,KAAK,GAAG,CAAC,CAAb;;AACA,uBAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK9C,YAAL,CAAkB+C,MAAtC,EAA8CD,CAAC,EAA/C,EAAmD;AACjD,wBAAI,KAAK9C,YAAL,CAAkB8C,CAAlB,EAAqBzB,IAArB,IAA6BD,MAAM,CAACC,IAAxC,EAA8C;AAC5CwB,2BAAK,GAAGC,CAAR;AACD;AACF,mBANI,CAOL;;;AACA,sBAAID,KAAK,GAAG,CAAC,CAAb,EAAgB;AACd,yBAAK7C,YAAL,CAAkB6C,KAAlB,IAA2BzB,MAA3B;AACD,mBAFD,MAEO;AACL,yBAAKpB,YAAL,CAAkBgD,IAAlB,CAAuB5B,MAAvB;AACD;AACF;AACF,eAlBD,MAkBO;AACL;AACA,oBAAI8B,MAAM,GAAG,CAAC,CAAd;;AACA,qBAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKnD,YAAL,CAAkB+C,MAAtC,EAA8CI,CAAC,EAA/C,EAAmD;AACjD,sBAAI,KAAKnD,YAAL,CAAkBmD,CAAlB,EAAqB9B,IAArB,IAA6BD,MAAM,CAACC,IAAxC,EAA8C;AAC5C6B,0BAAM,GAAGC,CAAT;AACD;AACF;;AACD,oBAAID,MAAM,GAAG,CAAC,CAAd,EAAiB;AACf,uBAAKlD,YAAL,CAAkBoD,MAAlB,CAAyBF,MAAzB,EAAiC,CAAjC;AACD;AACF;AACF;AACF,WA5HuB,CA8HxB;;AA9HwB;AAAA;AAAA,mCA+HfX,MA/He,EA+HP;AACf,gBAAI,KAAK3C,YAAL,CAAkByD,gBAAlB,KAAuCd,MAA3C,EAAmD;AACjD,mBAAK7C,MAAL,CAAYwC,aAAZ,CAA0B,eAAeK,MAAzC;AACD;AACF,WAnIuB,CAqIxB;;AArIwB;AAAA;AAAA,uCAsIX;AAAA;;AACX,iBAAKe,KAAL,GAAa,KAAKvD,SAAL,CAAewD,MAAf,CAAsB;AACjCC,oBAAM,EAAE,eADyB;AAEjCC,qBAAO,EAAE,4CAFwB;AAGjCC,qBAAO,EAAE,CACP;AACEC,oBAAI,EAAE;AADR,eADO,EAIP;AACEA,oBAAI,EAAE,OADR;AAEEC,uBAAO,EAAE,iBAAAhD,IAAI,EAAI;AACf,wBAAI,CAACd,eAAL,CAAqBgB,IAArB,GADe,CAEf;;;AACA,wBAAI,CAACJ,KAAL,CAAWK,OAAX,CAAmBqC,MAAnB,CAA0B,MAAI,CAAC1C,KAAL,CAAWK,OAAX,CAAmBkC,OAAnB,CAA2B,MAAI,CAACX,IAAL,CAAUjB,IAArC,CAA1B,EAAsE,CAAtE,EAHe,CAIf;;;AACA,wBAAI,CAACX,KAAL,CAAWmD,QAAX,CAAoBb,IAApB,CAAyB;AACvBc,wBAAI,EAAE,IAAIC,IAAJ,GAAWC,QAAX,EADiB;AAEvBC,0BAAM,EAAE,MAAI,CAAC3B,IAAL,CAAUjB,IAFK;AAGvB6C,wBAAI,EAAE,QAHiB;AAIvBT,2BAAO,EAAE,MAAI,CAACnB,IAAL,CAAU6B,IAAV,GAAiB,uBAJH;AAKvBC,wBAAI,EAAE;AALiB,mBAAzB,EALe,CAYf;;;AACA,wBAAI,CAACxE,YAAL,CAAkBU,QAAlB,CAA2B,MAAI,CAACJ,OAAhC,EAAyCmE,MAAzC,CAAgD;AAC9CtD,2BAAO,EAAE,MAAI,CAACL,KAAL,CAAWK,OAD0B;AAE9C8C,4BAAQ,EAAE,MAAI,CAACnD,KAAL,CAAWmD;AAFyB,mBAAhD,EAGG/B,IAHH,CAGQ,UAACwC,OAAD,EAAa;AACnB;AACA,0BAAI,CAACzE,SAAL,CAAe0E,GAAf,CAAmB,eAAe,MAAI,CAAC3E,YAAL,CAAkByD,gBAAjC,GAAoD,UAApD,GAAiE,MAAI,CAACnD,OAAzF,cAA2G4B,IAA3G,CAAgH,YAAM;AACpH;AACA,4BAAI,CAACpB,KAAL,GAAa,IAAb;AACA8D,gCAAU,CAAC,YAAM;AACf,8BAAI,CAAC1E,eAAL,CAAqBmC,IAArB;;AACA,8BAAI,CAACvC,MAAL,CAAYwC,aAAZ,CAA0B,GAA1B;AACD,uBAHS,EAGP,GAHO,CAAV;AAID,qBAPD;AAQD,mBAbD,WAaS,UAACuC,KAAD,EAAW;AAClB,0BAAI,CAAC3E,eAAL,CAAqB4E,SAArB,CAA+B,sBAA/B;AAED,mBAhBD;AAiBD;AAhCH,eAJO;AAHwB,aAAtB,EA0CV5C,IA1CU,CA0CL,UAAA6C,CAAC;AAAA,qBAAIA,CAAC,CAACC,OAAF,EAAJ;AAAA,aA1CI,CAAb;AA2CD;AAlLuB;;AAAA;AAAA,S;;;;gBAZjB;;gBAAQ;;gBACR;;gBAGA;;gBAFA;;gBACA;;;;AASInF,mBAAa,6DALzB,gEAAU;AACToF,gBAAQ,EAAE,eADD;AAETC,gBAAQ,EAAR,uEAFS;;AAAA,OAAV,CAKyB,E,+EAYP,sD,EACD,8D,EACO,kE,EACH,wE,EACM,wE,EACN,8D,EAjBI,GAAbrF,aAAa,CAAb;;;;;;;;;;;;;;;;ACbb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACUf,UAAMsF,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAE;AAFb,OADqB,CAAvB;;UAiBaC,mBAAmB;AAAA;AAAA,O;;AAAnBA,yBAAmB,6DAV/B,+DAAS;AACRC,eAAO,EAAE,CACP,4DADO,EAEP,0DAFO,EAGP,0DAHO,EAIP,mEAJO,EAKP,6DAAaC,QAAb,CAAsBL,MAAtB,CALO,CADD;AAQRM,oBAAY,EAAE,CAAC,6DAAD;AARN,OAAT,CAU+B,GAAnBH,mBAAmB,CAAnB","file":"groupinfo-groupinfo-module-es5.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title *ngIf=\\\"group\\\">{{group.name}}</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <div *ngIf=\\\"group\\\">\\r\\n      <ion-row>\\r\\n        <ion-col size=3>\\r\\n        <div class=\\\"group-img\\\"> \\r\\n          <img src=\\\"{{group.img}}\\\" onError=\\\"this.src='./assets/images/default-dp_rect.png'\\\">\\r\\n        </div>\\r\\n      </ion-col>\\r\\n      <ion-col size=9>\\r\\n        <div>\\r\\n          <ion-item lines=\\\"none\\\">\\r\\n          <ion-text class=\\\"profile-summary-name\\\">{{group.name}}</ion-text>\\r\\n        </ion-item>\\r\\n      </div>\\r\\n        <div class=\\\"ion-no-border\\\">\\r\\n          <ion-item class=\\\"toggle-text\\\" lines=\\\"none\\\">\\r\\n            <ion-text>{{group.description}}</ion-text>\\r\\n          </ion-item>\\r\\n        </div>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n    <ion-item-divider class=\\\"profile-component-title\\\">Group Tags</ion-item-divider>\\r\\n    <ion-list lines=\\\"none\\\">\\r\\n      <div class=\\\"tags\\\" *ngFor=\\\"let tag of group.groupTags\\\">\\r\\n        <span class=\\\"item-rating\\\">#{{tag}}</span>\\r\\n      </div>\\r\\n     </ion-list>\\r\\n     <ion-item-divider class=\\\"profile-component-title\\\">Activity</ion-item-divider>\\r\\n     <ion-list class=\\\"activities\\\" lines=\\\"none\\\" > \\r\\n      <ion-item *ngIf=\\\"groupPosts.length == 0\\\" class=\\\"toggle-text\\\">\\r\\n       <ion-label>No Group Activity</ion-label>\\r\\n      </ion-item>\\r\\n      <ion-item class=\\\"toggle-text activities-item\\\"  *ngFor=\\\"let item of groupPosts\\\">\\r\\n        New post: <a class=\\\"link\\\" [routerLink]=\\\"['/post', item.key]\\\"> \\\"{{item.title}}\\\"</a>\\r\\n      <ion-text slot=\\\"end\\\" class=\\\"addedByDate\\\">{{item.date.toDate() | date:'mediumDate'}}</ion-text>  \\r\\n    </ion-item>\\r\\n     </ion-list>\\r\\n\\r\\n    <ion-item-divider class=\\\"profile-component-title\\\">Group Members:</ion-item-divider>\\r\\n    <ion-list lines=\\\"none\\\">\\r\\n      <ion-list lines=\\\"none\\\">\\r\\n        <ion-item  *ngIf=\\\"groupMembers.length == 0\\\" class=\\\"toggle-text\\\">\\r\\n          <ion-label>Build a community, invite others to join</ion-label>\\r\\n        </ion-item>  \\r\\n        <ion-item text-wrap *ngFor=\\\"let member of groupMembers\\\" (click)=\\\"viewUser(member.key)\\\">\\r\\n          <ion-avatar slot=\\\"start\\\">\\r\\n            <ion-img src=\\\"{{member.img}}\\\"></ion-img>\\r\\n          </ion-avatar>\\r\\n          <ion-label class=\\\"toggle-text\\\">\\r\\n              <ion-label class=\\\"ion-no-padding\\\">{{member.username}}<br/>\\r\\n              {{member.description}}</ion-label>\\r\\n          </ion-label>\\r\\n        </ion-item>\\r\\n      </ion-list>\\r\\n    </ion-list>\\r\\n </div>\\r\\n<ion-row *ngIf=\\\"myProfile\\\">\\r\\n  <div class=\\\"ion-padding save\\\">\\r\\n    <ion-button expand=\\\"block\\\" color=\\\"secondary\\\">Leave Group</ion-button>\\r\\n  </div>\\r\\n</ion-row>\\r\\n</ion-content>\";","import { Component, OnInit } from '@angular/core';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { DataService } from '../services/data.service';\r\nimport { LoadingService } from '../services/loading.service';\r\nimport { AlertController } from '@ionic/angular';\r\nimport { AngularFirestore } from '@angular/fire/firestore';\r\nimport * as firebase from 'firebase/app';\r\n\r\n@Component({\r\n  selector: 'app-groupinfo',\r\n  templateUrl: './groupinfo.page.html',\r\n  styleUrls: ['./groupinfo.page.scss'],\r\n})\r\nexport class GroupinfoPage implements OnInit {\r\n\r\n  groupId: any;\r\n  group: any;\r\n  groupMembers: any = [];\r\n  alert: any;\r\n  user: any;\r\n  groupPosts: any = [];\r\n\r\n  // GroupInfoPage\r\n  // This is the page where the user can view group information, change group information, add members, and leave/delete group.\r\n  constructor(\r\n    public router: Router,\r\n    public route: ActivatedRoute,\r\n    public dataProvider: DataService,\r\n    public firestore: AngularFirestore,\r\n    public loadingProvider: LoadingService,\r\n    public alertCtrl: AlertController\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n    // Initialize\r\n\r\n    this.groupId = this.route.snapshot.params.id;\r\n\r\n    // Get group details.\r\n    this.dataProvider.getGroup(this.groupId).snapshotChanges().subscribe((p: any) => {\r\n      let group = p.payload.data();\r\n      group.key = p.key;\r\n      if (group != null) {\r\n        this.loadingProvider.show();\r\n        this.group = group;\r\n        group.members.forEach((memberId) => {\r\n            this.dataProvider.getUser(memberId).snapshotChanges().subscribe((memberRes: any) => {\r\n              let member = { $key: memberRes.payload.id, ...memberRes.payload.data() };\r\n              this.addUpdateOrRemoveMember(member);\r\n            });\r\n          });\r\n\r\n        // get group Posts\r\n        if (this.group.posts) {\r\n          this.firestore.collection('posts').ref\r\n          .where(firebase.firestore.FieldPath.documentId(), 'in', this.group.posts)\r\n          .get().then((po: any) => {\r\n            this.groupPosts = [];\r\n            this.loadEachPostData(po);\r\n          });\r\n        }\r\n        this.loadingProvider.hide();\r\n      } else {\r\n        this.router.navigateByUrl('/');\r\n      }\r\n    });\r\n\r\n    // Get user details.\r\n    this.dataProvider.getCurrentUser().snapshotChanges().subscribe((accounts: any) => {\r\n      let account = accounts.payload.data();\r\n      this.user = { $key: account.userId, ...account };\r\n    });\r\n  }\r\n\r\n  loadEachPostData(po: any) {\r\n    po.forEach(p => {\r\n      let post: any;\r\n      post = p.data();\r\n      post.key = p.id;\r\n      post.postTags = post.postTags.filter(x => x.isChecked !== false);\r\n    \r\n      if (!this.groupPosts) {\r\n        this.groupPosts = [post];\r\n      } else {\r\n        let index = -1;\r\n        for (let i = 0; i < this.groupPosts.length; i++) {\r\n          if (this.groupPosts[i].key == post.key) {\r\n            index = i;\r\n          }\r\n        }\r\n        if (index > -1) {\r\n          this.groupPosts[index] = post;\r\n        } else {\r\n          this.groupPosts.push(post);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  // Check if user exists in the group then add/update user.\r\n  // If the user has already left the group, remove user from the list.\r\n  addUpdateOrRemoveMember(member) {\r\n    if (this.group) {\r\n      if (this.group.members.indexOf(member.$key) > -1) {\r\n        // User exists in the group.\r\n        if (!this.groupMembers) {\r\n          this.groupMembers = [member];\r\n        } else {\r\n          var index = -1;\r\n          for (var i = 0; i < this.groupMembers.length; i++) {\r\n            if (this.groupMembers[i].$key == member.$key) {\r\n              index = i;\r\n            }\r\n          }\r\n          // Add/Update User.\r\n          if (index > -1) {\r\n            this.groupMembers[index] = member;\r\n          } else {\r\n            this.groupMembers.push(member);\r\n          }\r\n        }\r\n      } else {\r\n        // User already left the group, remove member from list.\r\n        var index1 = -1;\r\n        for (var j = 0; j < this.groupMembers.length; j++) {\r\n          if (this.groupMembers[j].$key == member.$key) {\r\n            index1 = j;\r\n          }\r\n        }\r\n        if (index1 > -1) {\r\n          this.groupMembers.splice(index1, 1);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // View user info.\r\n  viewUser(userId) {\r\n    if (this.dataProvider.getCurrentUserId !== userId) {\r\n      this.router.navigateByUrl('/userinfo/' + userId);\r\n    }\r\n  }\r\n\r\n  // Leave group.\r\n  leaveGroup() {\r\n    this.alert = this.alertCtrl.create({\r\n      header: 'Confirm Leave',\r\n      message: 'Are you sure you want to leave this group?',\r\n      buttons: [\r\n        {\r\n          text: 'Cancel'\r\n        },\r\n        {\r\n          text: 'Leave',\r\n          handler: data => {\r\n            this.loadingProvider.show();\r\n            // Remove member from group.\r\n            this.group.members.splice(this.group.members.indexOf(this.user.$key), 1);\r\n            // Add system message.\r\n            this.group.messages.push({\r\n              date: new Date().toString(),\r\n              sender: this.user.$key,\r\n              type: 'system',\r\n              message: this.user.name + ' has left this group.',\r\n              icon: 'md-log-out'\r\n            });\r\n            // Update group on database.\r\n            this.dataProvider.getGroup(this.groupId).update({\r\n              members: this.group.members,\r\n              messages: this.group.messages\r\n            }).then((success) => {\r\n              // Remove group from user's group list.\r\n              this.firestore.doc('/accounts/' + this.dataProvider.getCurrentUserId + '/groups/' + this.groupId).delete().then(() => {\r\n                // Pop this view because user already has left this group.\r\n                this.group = null;\r\n                setTimeout(() => {\r\n                  this.loadingProvider.hide();\r\n                  this.router.navigateByUrl('/')\r\n                }, 300);\r\n              });\r\n            }).catch((error) => {\r\n              this.loadingProvider.showToast(\"Something went wrong\")\r\n\r\n            });\r\n          }\r\n        }\r\n      ]\r\n    }).then(r => r.present());\r\n  }\r\n\r\n}\r\n","export default \":host {\\n  --page-margin: var(--app-narrow-margin);\\n  --page-background: var(--app-background);\\n}\\n\\n.group-info {\\n  width: 100%;\\n}\\n\\n.group-img {\\n  padding-top: var(--page-margin);\\n}\\n\\n.save {\\n  height: 25px;\\n  width: 100%;\\n  text-transform: initial !important;\\n}\\n\\n.toggle-text {\\n  font-family: \\\"HelveticaNeue\\\", \\\"Helvetica Neue\\\", Helvetica, \\\"Roboto\\\", \\\"Segoe UI\\\", Arial, sans-serif;\\n  font-weight: 400;\\n  font-size: 14px;\\n  line-height: 19px;\\n  -webkit-font-smoothing: subpixel-antialiased;\\n  -moz-osx-font-smoothing: auto;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\n\\n.profile-summary-name {\\n  font-family: \\\"HelveticaNeue-Medium\\\", \\\"Helvetica Neue Medium\\\", \\\"Helvetica-Bold\\\", \\\"Roboto-Medium\\\", \\\"Segoe UI Semibold\\\", Arial-Bold, sans-serif;\\n  font-weight: 500;\\n  font-size: 22px;\\n  line-height: 26px;\\n  margin: 4px 0;\\n  display: inline-block;\\n}\\n\\n.profile-component-title {\\n  font-family: \\\"HelveticaNeue-Medium\\\", \\\"Helvetica Neue Medium\\\", Helvetica-Bold, \\\"Roboto-Medium\\\", \\\"Segoe UI Semibold\\\", Arial-Bold, sans-serif;\\n  font-weight: 500;\\n  font-size: 14px;\\n  line-height: 19px;\\n}\\n\\n.addedByDate {\\n  font-style: italic;\\n  font-size: 12px;\\n}\\n\\n.logout {\\n  text-transform: capitalize !important;\\n}\\n\\n.link {\\n  color: #007B99;\\n  text-decoration: none;\\n}\\n\\n.activities {\\n  padding-bottom: 20px;\\n}\\n\\n.activities .activities-item {\\n  height: 30px;\\n}\\n\\n.tags {\\n  padding-right: 5px;\\n}\\n\\n.tags .item-rating {\\n  background-color: rgba(var(--page-color-rgb), 0.35);\\n  padding-left: var(--page-margin);\\n  padding-right: calc(var(--page-margin) / 2);\\n  font-size: 14px;\\n  font-weight: bold;\\n  width: 100%;\\n  display: block;\\n  text-align: left;\\n  color: #aa6c39;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZ3JvdXBpbmZvL2dyb3VwaW5mby5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSx1Q0FBQTtFQUNBLHdDQUFBO0FBQ0Y7O0FBRUE7RUFDRSxXQUFBO0FBQ0Y7O0FBRUE7RUFDQywrQkFBQTtBQUNEOztBQUVBO0VBQ0UsWUFBQTtFQUNBLFdBQUE7RUFDQSxrQ0FBQTtBQUNGOztBQUVBO0VBQ0Usa0dBQUE7RUFDQSxnQkFBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtFQUNBLDRDQUFBO0VBQ0EsNkJBQUE7RUFDQSxnQkFBQTtFQUNBLHVCQUFBO0FBQ0Y7O0FBRUE7RUFDRSw0SUFBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsYUFBQTtFQUNBLHFCQUFBO0FBQ0Y7O0FBRUE7RUFDRSwwSUFBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0FBQ0Y7O0FBRUE7RUFDQSxrQkFBQTtFQUNBLGVBQUE7QUFDQTs7QUFFQTtFQUNFLHFDQUFBO0FBQ0Y7O0FBRUE7RUFDQSxjQUFBO0VBQ0EscUJBQUE7QUFDQTs7QUFFQTtFQUNBLG9CQUFBO0FBQ0E7O0FBQUE7RUFDQSxZQUFBO0FBRUE7O0FBSUU7RUFDRSxrQkFBQTtBQURKOztBQUdFO0VBRUUsbURBQUE7RUFDQSxnQ0FBQTtFQUNBLDJDQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsV0FBQTtFQUNBLGNBQUE7RUFDQSxnQkFBQTtFQUNBLGNBQUE7QUFGSiIsImZpbGUiOiJzcmMvYXBwL2dyb3VwaW5mby9ncm91cGluZm8ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xyXG4gIC0tcGFnZS1tYXJnaW46IHZhcigtLWFwcC1uYXJyb3ctbWFyZ2luKTtcclxuICAtLXBhZ2UtYmFja2dyb3VuZDogdmFyKC0tYXBwLWJhY2tncm91bmQpO1xyXG59XHJcblxyXG4uZ3JvdXAtaW5mbyB7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbn1cclxuXHJcbi5ncm91cC1pbWcge1xyXG4gcGFkZGluZy10b3A6IHZhcigtLXBhZ2UtbWFyZ2luKTtcclxufVxyXG5cclxuLnNhdmUge1xyXG4gIGhlaWdodDogMjVweDtcclxuICB3aWR0aDogMTAwJTtcclxuICB0ZXh0LXRyYW5zZm9ybTogaW5pdGlhbCAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4udG9nZ2xlLXRleHQge1xyXG4gIGZvbnQtZmFtaWx5OiAnSGVsdmV0aWNhTmV1ZScsICdIZWx2ZXRpY2EgTmV1ZScsIEhlbHZldGljYSwgJ1JvYm90bycsICdTZWdvZSBVSScsIEFyaWFsLCBzYW5zLXNlcmlmO1xyXG4gIGZvbnQtd2VpZ2h0OiA0MDA7XHJcbiAgZm9udC1zaXplOiAxNHB4O1xyXG4gIGxpbmUtaGVpZ2h0OiAxOXB4O1xyXG4gIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IHN1YnBpeGVsLWFudGlhbGlhc2VkO1xyXG4gIC1tb3otb3N4LWZvbnQtc21vb3RoaW5nOiBhdXRvO1xyXG4gIG92ZXJmbG93OiBoaWRkZW47IFxyXG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xyXG59XHJcblxyXG4ucHJvZmlsZS1zdW1tYXJ5LW5hbWUge1xyXG4gIGZvbnQtZmFtaWx5OiAnSGVsdmV0aWNhTmV1ZS1NZWRpdW0nLCAnSGVsdmV0aWNhIE5ldWUgTWVkaXVtJywgJ0hlbHZldGljYS1Cb2xkJywgJ1JvYm90by1NZWRpdW0nLCAnU2Vnb2UgVUkgU2VtaWJvbGQnLCBBcmlhbC1Cb2xkLCBzYW5zLXNlcmlmO1xyXG4gIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbiAgZm9udC1zaXplOiAyMnB4O1xyXG4gIGxpbmUtaGVpZ2h0OiAyNnB4O1xyXG4gIG1hcmdpbjogNHB4IDA7XHJcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG59XHJcblxyXG4ucHJvZmlsZS1jb21wb25lbnQtdGl0bGUge1xyXG4gIGZvbnQtZmFtaWx5OiAnSGVsdmV0aWNhTmV1ZS1NZWRpdW0nLCAnSGVsdmV0aWNhIE5ldWUgTWVkaXVtJywgSGVsdmV0aWNhLUJvbGQsICdSb2JvdG8tTWVkaXVtJywgJ1NlZ29lIFVJIFNlbWlib2xkJywgQXJpYWwtQm9sZCwgc2Fucy1zZXJpZjtcclxuICBmb250LXdlaWdodDogNTAwO1xyXG4gIGZvbnQtc2l6ZTogMTRweDtcclxuICBsaW5lLWhlaWdodDogMTlweDtcclxufVxyXG5cclxuLmFkZGVkQnlEYXRlIHtcclxuZm9udC1zdHlsZTogaXRhbGljO1xyXG5mb250LXNpemU6IDEycHg7XHJcbn1cclxuXHJcbi5sb2dvdXQge1xyXG4gIHRleHQtdHJhbnNmb3JtOiBjYXBpdGFsaXplICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi5saW5rIHtcclxuY29sb3I6ICMwMDdCOTk7XHJcbnRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxufVxyXG5cclxuLmFjdGl2aXRpZXMge1xyXG5wYWRkaW5nLWJvdHRvbTogMjBweDtcclxuLmFjdGl2aXRpZXMtaXRlbSB7XHJcbmhlaWdodDogMzBweDtcclxufVxyXG5cclxufVxyXG5cclxuICAgICAgIFxyXG4gIC50YWdzIHtcclxuICAgIHBhZGRpbmctcmlnaHQ6IDVweDtcclxuXHJcbiAgLml0ZW0tcmF0aW5nIHtcclxuICAgIC8vIERlZmF1bHQgYmFja2dyb3VuZFxyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSh2YXIoLS1wYWdlLWNvbG9yLXJnYiksIC4zNSk7XHJcbiAgICBwYWRkaW5nLWxlZnQ6IHZhcigtLXBhZ2UtbWFyZ2luKTtcclxuICAgIHBhZGRpbmctcmlnaHQ6IGNhbGModmFyKC0tcGFnZS1tYXJnaW4pIC8gMik7XHJcbiAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICB0ZXh0LWFsaWduOiBsZWZ0O1xyXG4gICAgY29sb3I6ICNhYTZjMzk7XHJcbiAgfVxyXG5cclxuICB9Il19 */\";","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { GroupinfoPage } from './groupinfo.page';\r\nimport { SharedModule } from '../services/share.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: GroupinfoPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    SharedModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [GroupinfoPage]\r\n})\r\nexport class GroupinfoPageModule { }\r\n"]}