{"version":3,"sources":["webpack:///node_modules/firebase/auth/dist/index.esm.js","webpack:///node_modules/@ionic/core/dist/esm/theme-ff3fc52f.js","webpack:///src/app/services/login.service.ts","webpack:///src/app/services/firebase.service.ts","webpack:///node_modules/@ionic/core/dist/esm/button-active-d4bd4f74.js","webpack:///node_modules/@ionic/core/dist/esm/spinner-configs-cd7845af.js","webpack:///node_modules/@ionic/core/dist/esm/haptic-27b3f981.js","webpack:///node_modules/@ionic/core/dist/esm/framework-delegate-94e770cc.js"],"names":["hostContext","selector","el","closest","createColorClasses","color","cssClassMap","length","Object","assign","getClassList","classes","undefined","array","Array","isArray","split","filter","c","map","trim","getClassMap","forEach","SCHEME","openURL","url","ev","direction","animation","test","router","document","querySelector","preventDefault","push","LoginService","afAuth","firestore","dataService","loadingProvider","platform","gplus","facebook","login","email","password","show","signInWithEmailAndPassword","then","res","console","log","user","hide","err","showToast","message","register","name","username","img","createUserWithEmailAndPassword","currentUser","createNewUser","uid","reset","sendPasswordResetEmail","fbLogin","is","signInWithPopup","auth","FacebookAuthProvider","credential","accessToken","signInWithCredential","additionalUserInfo","isNewUser","data","userInfo","profile","picture","navigateByUrl","authResponse","api","first_name","error","gLogin","GoogleAuthProvider","idToken","webClientId","googleClientId","result","userId","description","provider","dateCreated","Date","collection","doc","set","logout","signOut","replaceUrl","providedIn","FirebaseService","dataProvider","sendFriendRequest","loggedInUserId","getRequests","get","subscribe","requests","requestsSent","indexOf","success","friendRequests","succ","cancelFriendRequest","splice","req","deleteFriendRequest","u","acceptFriendRequest","getUser","account","friends","update","acc","createButtonActiveGesture","isButton","currentTouchedButton","initialTouchedButton","activateButtonAtPoint","x","y","hapticFeedbackFn","target","elementFromPoint","clearActiveButton","setActiveButton","button","buttonToModify","classList","add","dispatchClick","remove","click","gestureName","threshold","onStart","currentX","currentY","onMove","onEnd","spinners","dur","circles","fn","index","total","animationDelay","angle","Math","PI","r","style","sin","cos","step","elmDuration","cx","cy","fill","viewBox","transform","_","lines","y1","y2","SPINNERS","HapticEngine","getEngine","win","window","TapticEngine","Capacitor","isPluginAvailable","Plugins","Haptics","available","isCordova","isCapacitor","impact","options","engine","toUpperCase","notification","selection","selectionStart","gestureSelectionStart","selectionChanged","gestureSelectionChanged","selectionEnd","gestureSelectionEnd","hapticSelection","hapticSelectionStart","hapticSelectionChanged","hapticSelectionEnd","hapticImpact","attachComponent","delegate","container","component","cssClasses","componentProps","attachViewToDom","HTMLElement","Error","ownerDocument","createElement","appendChild","Promise","resolve","detachComponent","element","parentElement","removeViewFromDom"],"mappings":"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","file":"common-es5.js","sourcesContent":["import '@firebase/auth';\n//# sourceMappingURL=index.esm.js.map\n","const hostContext = (selector, el) => {\n  return el.closest(selector) !== null;\n};\n/**\n * Create the mode and color classes for the component based on the classes passed in\n */\nconst createColorClasses = (color, cssClassMap) => {\n  return (typeof color === 'string' && color.length > 0) ? Object.assign({ 'ion-color': true, [`ion-color-${color}`]: true }, cssClassMap) : cssClassMap;\n};\nconst getClassList = (classes) => {\n  if (classes !== undefined) {\n    const array = Array.isArray(classes) ? classes : classes.split(' ');\n    return array\n      .filter(c => c != null)\n      .map(c => c.trim())\n      .filter(c => c !== '');\n  }\n  return [];\n};\nconst getClassMap = (classes) => {\n  const map = {};\n  getClassList(classes).forEach(c => map[c] = true);\n  return map;\n};\nconst SCHEME = /^[a-z][a-z0-9+\\-.]*:/;\nconst openURL = async (url, ev, direction, animation) => {\n  if (url != null && url[0] !== '#' && !SCHEME.test(url)) {\n    const router = document.querySelector('ion-router');\n    if (router) {\n      if (ev != null) {\n        ev.preventDefault();\n      }\n      return router.push(url, direction, animation);\n    }\n  }\n  return false;\n};\n\nexport { createColorClasses as c, getClassMap as g, hostContext as h, openURL as o };\n","import { Injectable } from '@angular/core';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport * as firebase from 'firebase/app';\nimport 'firebase/auth';\n\nimport { DataService } from './data.service';\nimport { LoadingService } from './loading.service';\nimport { Platform } from '@ionic/angular';\n\nimport { GooglePlus } from '@ionic-native/google-plus/ngx';\nimport { Facebook } from '@ionic-native/facebook/ngx';\n\nimport { environment } from 'src/environments/environment.prod';\nimport { Router } from '@angular/router';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LoginService {\n\n  constructor(\n    private afAuth: AngularFireAuth,\n    private firestore: AngularFirestore,\n    private dataService: DataService,\n    private loadingProvider: LoadingService,\n    private platform: Platform,\n    private gplus: GooglePlus,\n    private facebook: Facebook,\n    private router: Router\n  ) { }\n\n  login(email, password) {\n    this.loadingProvider.show();\n    this.afAuth.signInWithEmailAndPassword(email, password).then((res) => {\n      console.log(res);\n      console.log(\"******* \" + this.afAuth.user + \" *********\");\n      //this.dataService.getUser(this.afAuth.user.)\n      this.loadingProvider.hide();\n    }).catch(err => {\n      console.log(err);\n      this.loadingProvider.hide();\n      this.loadingProvider.showToast(err.message)\n    });\n  }\n\n  register(name, username, email, password, img) {\n    this.loadingProvider.show();\n    this.afAuth.createUserWithEmailAndPassword(email, password).then((res) => {\n      let user: any = this.afAuth.currentUser;\n      this.loadingProvider.hide();\n      this.createNewUser(user.uid, name, username, user.email, \"I am available\", \"Firebase\", img);\n    }).catch(err => {\n      console.log(err);\n      this.loadingProvider.hide();\n      this.loadingProvider.showToast(err.message);\n    })\n  }\n\n  reset(email) {\n    console.log(email);\n    this.loadingProvider.show();\n    this.afAuth.sendPasswordResetEmail(email).then(() => {\n      this.loadingProvider.hide();\n      this.loadingProvider.showToast(\"Please Check your inbox\");\n    }).catch(err => {\n      this.loadingProvider.hide();\n      this.loadingProvider.showToast(err.message);\n    })\n  }\n\n  fbLogin() {\n    if (this.platform.is('desktop')) {\n      this.loadingProvider.show();\n      this.afAuth.signInWithPopup(new firebase.default.auth.FacebookAuthProvider()).then((res: any) => {\n        this.loadingProvider.hide();\n        let credential = firebase.default.auth.FacebookAuthProvider.credential(res.credential.accessToken);\n        this.afAuth.signInWithCredential(credential).then( async () => {\n          if (res.additionalUserInfo.isNewUser) {\n            let uid = await this.afAuth.currentUser.then((data) => { return data.uid });\n            let userInfo = res.additionalUserInfo.profile;\n            this.createNewUser(uid, userInfo.name, uid, userInfo.email, 'Available', 'Facebook', userInfo.picture);\n          }\n          else {\n            this.router.navigateByUrl('tabs');\n          }\n        }).catch(err => console.log(err));\n\n      }).catch(err => {\n        console.log(err)\n        this.loadingProvider.hide();\n      })\n    }\n    else {\n      this.facebook.login(['public_profile', 'email']).then(res => {\n        console.log(res);\n        let credential = firebase.default.auth.FacebookAuthProvider.credential(res.authResponse.accessToken);\n        this.loadingProvider.show();\n        this.afAuth.signInWithCredential(credential).then((res) => {\n          if (res.additionalUserInfo.isNewUser) {\n            this.facebook.api(\"me/?fields=id,email,first_name,picture,gender\", [\"public_profile\", \"email\"])\n              .then(async data => {\n                console.log(data)\n                let uid = await this.afAuth.currentUser.then((data) => { return data.uid }); \n                this.createNewUser(uid, data.first_name, uid, data.email, 'I am available', 'Facebook', data.picture.data.url);\n              })\n              .catch(err => {\n                console.log(err);\n                this.loadingProvider.hide();\n              })\n          }\n          else {\n            this.router.navigateByUrl('tabs')\n          }\n        })\n          .catch((error) => {\n            this.loadingProvider.hide();\n          });\n\n      }).catch(err => console.log(err));\n    }\n  }\n\n  gLogin() {\n    if (this.platform.is('desktop')) {\n      this.afAuth.signInWithPopup(new firebase.default.auth.GoogleAuthProvider()).then((res: any) => {\n        let credential = firebase.default.auth.GoogleAuthProvider.credential(res.credential.idToken, res.credential.accessToken);\n        this.afAuth.signInWithCredential(credential).then(async () => {\n          if (res.additionalUserInfo.isNewUser) {\n            let uid = await this.afAuth.currentUser.then((data) => { return data.uid }); \n            let userInfo = res.additionalUserInfo.profile;\n            this.createNewUser(uid, userInfo.name, uid, userInfo.email, 'Available', 'Google', userInfo.picture);\n          } else {\n            this.router.navigateByUrl('tabs');\n          }\n        }).catch((err) => {\n          console.log(\"Err! signInWithCredential\" + err)\n        })\n      }).catch(err => {\n        console.log('Err! signInWithCredential' + err);\n      })\n    }\n    else {\n      this.gplus.login({\n        webClientId: environment.googleClientId\n      }).then((result: any) => {\n        let credential = firebase.default.auth.GoogleAuthProvider.credential(result['token'], null);\n        this.afAuth.signInWithCredential(credential).then(async (res: any) => {\n          if (res.additionalUserInfo.isNewUser) {\n            let uid = await this.afAuth.currentUser.then((data) => { return data.uid }); \n            let userInfo = res.additionalUserInfo.profile;\n            this.createNewUser(uid, userInfo.name, uid, userInfo.email, 'Available', 'Google', userInfo.picture);\n          }\n          else {\n            this.router.navigateByUrl('tabs');\n          }\n        }).catch((err) => {\n          console.log(\"Err! signInWithCredential\" + err)\n        })\n      }).catch((err) => {\n        console.log(err);\n      })\n    }\n  }\n\n  createNewUser(userId, name, username, email, description = \"I'm available\", provider, img = \"./assets/images/default-dp.png\") {\n    let dateCreated = new Date();\n    this.firestore.collection('accounts').doc(userId).set({\n      dateCreated, username, name, userId, email, description, provider, img\n    }).then(() => {\n      this.router.navigateByUrl('tabs');\n    });\n  }\n\n  logout() {\n    this.afAuth.signOut().then(() => this.router.navigateByUrl('/login', { replaceUrl: true }));\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { LoadingService } from './loading.service';\nimport { DataService } from './data.service';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { take } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FirebaseService {\n\n  constructor(\n    public firestore: AngularFirestore,\n    public loadingProvider: LoadingService,\n    private afAuth: AngularFireAuth,\n    private dataProvider: DataService) { }\n\n  // Send friend request to userId.\n  async sendFriendRequest(userId) {\n    const loggedInUserId = await this.afAuth.currentUser.then((data) => { return data.uid});\n    this.loadingProvider.show();\n\n    let requestsSent;\n    // Use take(1) so that subscription will only trigger once.\n    this.dataProvider.getRequests(loggedInUserId).get().subscribe((requests: any) => {\n      if (requests.data() != null\n        && requests.data().requestsSent != null) {\n        requestsSent = requests.data().requestsSent;\n      }\n\n      if (requestsSent == null || requestsSent === undefined) {\n        requestsSent = [userId];\n      } else {\n        if (requestsSent.indexOf(userId) === -1) {\n          requestsSent.push(userId);\n        }\n      }\n\n      // Add requestsSent information.\n      this.firestore.collection('requests').doc(loggedInUserId).set({\n        requestsSent\n      }).then((success) => {\n        let friendRequests;\n        // tslint:disable-next-line: no-shadowed-variable\n        this.dataProvider.getRequests(userId).get().subscribe((requests: any) => {\n          if (requests.data() != null\n            && requests.data().friendRequests != null) {\n            friendRequests = requests.data().friendRequests;\n          }\n\n          if (friendRequests == null) {\n            friendRequests = [loggedInUserId];\n          } else {\n            if (friendRequests.indexOf(userId) === -1) {\n              friendRequests.push(loggedInUserId);\n            }\n          }\n          // Add friendRequest information.\n          this.firestore.collection('requests').doc(userId).set({\n            friendRequests\n          }).then((succ) => {\n            this.loadingProvider.hide();\n            this.loadingProvider.showToast('Friend Request Sent');\n          }).catch((error) => {\n            this.loadingProvider.hide();\n          });\n        });\n      }).catch((error) => {\n        console.log('error', error);\n        this.loadingProvider.hide();\n      });\n    });\n  }\n\n  // Cancel friend request sent to userId.\n  async cancelFriendRequest(userId) {\n    const loggedInUserId = await this.afAuth.currentUser.then((data) => { return data.uid});\n    this.loadingProvider.show();\n\n    let requestsSent = [];\n    this.dataProvider.getRequests(loggedInUserId).get().subscribe((requests: any) => {\n      requestsSent = requests.data().requestsSent;\n      requestsSent.splice(requestsSent.indexOf(userId), 1);\n      // Update requestSent information.\n      this.firestore.collection('requests').doc(loggedInUserId).set({\n        requestsSent\n      }).then((success) => {\n        let friendRequests;\n        this.dataProvider.getRequests(userId).get().subscribe((req: any) => {\n          friendRequests = req.data().friendRequests;\n          console.log(friendRequests);\n          friendRequests.splice(friendRequests.indexOf(loggedInUserId), 1);\n          // Update friendRequests information.\n          this.firestore.collection('requests').doc(userId).set({\n            friendRequests\n          }).then((succ) => {\n            console.log(succ);\n            this.loadingProvider.hide();\n            this.loadingProvider.showToast('Removed Friend Request');\n          }).catch((error) => {\n            console.log(error);\n            this.loadingProvider.hide();\n          });\n        });\n      }).catch((error) => {\n        console.log(error);\n        this.loadingProvider.hide();\n      });\n    });\n  }\n\n  // Delete friend request.\n  async deleteFriendRequest(userId) {\n    const loggedInUserId = await this.afAuth.currentUser.then((data) => { return data.uid});\n    this.loadingProvider.show();\n\n    let friendRequests = [];\n    this.dataProvider.getRequests(loggedInUserId).get().subscribe((requests: any) => {\n      friendRequests = requests.data().friendRequests;\n      friendRequests = friendRequests.filter(u => u !== userId);\n      // Update friendRequests information.\n      this.firestore.collection('requests').doc(loggedInUserId).set({\n        friendRequests\n      }).then((success) => {\n        let requestsSent;\n        this.dataProvider.getRequests(userId).get().subscribe((req: any) => {\n          requestsSent = req.data().requestsSent;\n          requestsSent.splice(requestsSent.indexOf(loggedInUserId), 1);\n          console.log('requestsSent:', requestsSent, loggedInUserId, requestsSent.indexOf(userId), 1);\n          // Update requestsSent information.\n          this.firestore.collection('requests').doc(userId).set({\n            requestsSent\n          }).then((succ) => {\n            console.log(succ);\n            this.loadingProvider.hide();\n\n          }).catch((error) => {\n            console.log(error);\n            this.loadingProvider.hide();\n          });\n        });\n      }).catch((err) => {\n        console.log(err);\n        this.loadingProvider.hide();\n      });\n    });\n  }\n\n  // Accept friend request.\n  async acceptFriendRequest(userId) {\n    const loggedInUserId = await this.afAuth.currentUser.then((data) => { return data.uid});\n    // Delete friend request.\n    this.deleteFriendRequest(userId);\n\n    this.loadingProvider.show();\n    this.dataProvider.getUser(loggedInUserId).get().subscribe((account: any) => {\n      let friends = account.data().friends; \n      if (!friends) {\n        friends = [userId];\n      } else {\n        friends.push(userId);\n      }\n      // Add both users as friends.\n      this.dataProvider.getUser(loggedInUserId).update({\n        friends\n      }).then((success) => {\n        this.dataProvider.getUser(userId).get().subscribe((acc: any) => {\n          let friends = acc.data().friends;\n          if (!friends) {\n            friends = [loggedInUserId];\n          } else {\n            friends.push(loggedInUserId);\n          }\n          this.dataProvider.getUser(userId).update({\n            friends\n          }).then((succ) => {\n            this.loadingProvider.hide();\n          }).catch((error) => {\n            this.loadingProvider.hide();\n          });\n        });\n      }).catch((error) => {\n        this.loadingProvider.hide();\n      });\n    });\n  }\n}\n","import { c as writeTask } from './index-7a8b7a1c.js';\nimport { h as hapticSelectionEnd, a as hapticSelectionStart, b as hapticSelectionChanged } from './haptic-27b3f981.js';\nimport { createGesture } from './index-34cb2743.js';\n\nconst createButtonActiveGesture = (el, isButton) => {\n  let currentTouchedButton;\n  let initialTouchedButton;\n  const activateButtonAtPoint = (x, y, hapticFeedbackFn) => {\n    if (typeof document === 'undefined') {\n      return;\n    }\n    const target = document.elementFromPoint(x, y);\n    if (!target || !isButton(target)) {\n      clearActiveButton();\n      return;\n    }\n    if (target !== currentTouchedButton) {\n      clearActiveButton();\n      setActiveButton(target, hapticFeedbackFn);\n    }\n  };\n  const setActiveButton = (button, hapticFeedbackFn) => {\n    currentTouchedButton = button;\n    if (!initialTouchedButton) {\n      initialTouchedButton = currentTouchedButton;\n    }\n    const buttonToModify = currentTouchedButton;\n    writeTask(() => buttonToModify.classList.add('ion-activated'));\n    hapticFeedbackFn();\n  };\n  const clearActiveButton = (dispatchClick = false) => {\n    if (!currentTouchedButton) {\n      return;\n    }\n    const buttonToModify = currentTouchedButton;\n    writeTask(() => buttonToModify.classList.remove('ion-activated'));\n    /**\n     * Clicking on one button, but releasing on another button\n     * does not dispatch a click event in browsers, so we\n     * need to do it manually here. Some browsers will\n     * dispatch a click if clicking on one button, dragging over\n     * another button, and releasing on the original button. In that\n     * case, we need to make sure we do not cause a double click there.\n     */\n    if (dispatchClick && initialTouchedButton !== currentTouchedButton) {\n      currentTouchedButton.click();\n    }\n    currentTouchedButton = undefined;\n  };\n  return createGesture({\n    el,\n    gestureName: 'buttonActiveDrag',\n    threshold: 0,\n    onStart: ev => activateButtonAtPoint(ev.currentX, ev.currentY, hapticSelectionStart),\n    onMove: ev => activateButtonAtPoint(ev.currentX, ev.currentY, hapticSelectionChanged),\n    onEnd: () => {\n      clearActiveButton(true);\n      hapticSelectionEnd();\n      initialTouchedButton = undefined;\n    }\n  });\n};\n\nexport { createButtonActiveGesture as c };\n","const spinners = {\n  'bubbles': {\n    dur: 1000,\n    circles: 9,\n    fn: (dur, index, total) => {\n      const animationDelay = `${(dur * index / total) - dur}ms`;\n      const angle = 2 * Math.PI * index / total;\n      return {\n        r: 5,\n        style: {\n          'top': `${9 * Math.sin(angle)}px`,\n          'left': `${9 * Math.cos(angle)}px`,\n          'animation-delay': animationDelay,\n        }\n      };\n    }\n  },\n  'circles': {\n    dur: 1000,\n    circles: 8,\n    fn: (dur, index, total) => {\n      const step = index / total;\n      const animationDelay = `${(dur * step) - dur}ms`;\n      const angle = 2 * Math.PI * step;\n      return {\n        r: 5,\n        style: {\n          'top': `${9 * Math.sin(angle)}px`,\n          'left': `${9 * Math.cos(angle)}px`,\n          'animation-delay': animationDelay,\n        }\n      };\n    }\n  },\n  'circular': {\n    dur: 1400,\n    elmDuration: true,\n    circles: 1,\n    fn: () => {\n      return {\n        r: 20,\n        cx: 48,\n        cy: 48,\n        fill: 'none',\n        viewBox: '24 24 48 48',\n        transform: 'translate(0,0)',\n        style: {}\n      };\n    }\n  },\n  'crescent': {\n    dur: 750,\n    circles: 1,\n    fn: () => {\n      return {\n        r: 26,\n        style: {}\n      };\n    }\n  },\n  'dots': {\n    dur: 750,\n    circles: 3,\n    fn: (_, index) => {\n      const animationDelay = -(110 * index) + 'ms';\n      return {\n        r: 6,\n        style: {\n          'left': `${9 - (9 * index)}px`,\n          'animation-delay': animationDelay,\n        }\n      };\n    }\n  },\n  'lines': {\n    dur: 1000,\n    lines: 12,\n    fn: (dur, index, total) => {\n      const transform = `rotate(${30 * index + (index < 6 ? 180 : -180)}deg)`;\n      const animationDelay = `${(dur * index / total) - dur}ms`;\n      return {\n        y1: 17,\n        y2: 29,\n        style: {\n          'transform': transform,\n          'animation-delay': animationDelay,\n        }\n      };\n    }\n  },\n  'lines-small': {\n    dur: 1000,\n    lines: 12,\n    fn: (dur, index, total) => {\n      const transform = `rotate(${30 * index + (index < 6 ? 180 : -180)}deg)`;\n      const animationDelay = `${(dur * index / total) - dur}ms`;\n      return {\n        y1: 12,\n        y2: 20,\n        style: {\n          'transform': transform,\n          'animation-delay': animationDelay,\n        }\n      };\n    }\n  }\n};\nconst SPINNERS = spinners;\n\nexport { SPINNERS as S };\n","const HapticEngine = {\n  getEngine() {\n    const win = window;\n    return (win.TapticEngine) || (win.Capacitor && win.Capacitor.isPluginAvailable('Haptics') && win.Capacitor.Plugins.Haptics);\n  },\n  available() {\n    return !!this.getEngine();\n  },\n  isCordova() {\n    return !!window.TapticEngine;\n  },\n  isCapacitor() {\n    const win = window;\n    return !!win.Capacitor;\n  },\n  impact(options) {\n    const engine = this.getEngine();\n    if (!engine) {\n      return;\n    }\n    const style = this.isCapacitor() ? options.style.toUpperCase() : options.style;\n    engine.impact({ style });\n  },\n  notification(options) {\n    const engine = this.getEngine();\n    if (!engine) {\n      return;\n    }\n    const style = this.isCapacitor() ? options.style.toUpperCase() : options.style;\n    engine.notification({ style });\n  },\n  selection() {\n    this.impact({ style: 'light' });\n  },\n  selectionStart() {\n    const engine = this.getEngine();\n    if (!engine) {\n      return;\n    }\n    if (this.isCapacitor()) {\n      engine.selectionStart();\n    }\n    else {\n      engine.gestureSelectionStart();\n    }\n  },\n  selectionChanged() {\n    const engine = this.getEngine();\n    if (!engine) {\n      return;\n    }\n    if (this.isCapacitor()) {\n      engine.selectionChanged();\n    }\n    else {\n      engine.gestureSelectionChanged();\n    }\n  },\n  selectionEnd() {\n    const engine = this.getEngine();\n    if (!engine) {\n      return;\n    }\n    if (this.isCapacitor()) {\n      engine.selectionEnd();\n    }\n    else {\n      engine.gestureSelectionEnd();\n    }\n  }\n};\n/**\n * Trigger a selection changed haptic event. Good for one-time events\n * (not for gestures)\n */\nconst hapticSelection = () => {\n  HapticEngine.selection();\n};\n/**\n * Tell the haptic engine that a gesture for a selection change is starting.\n */\nconst hapticSelectionStart = () => {\n  HapticEngine.selectionStart();\n};\n/**\n * Tell the haptic engine that a selection changed during a gesture.\n */\nconst hapticSelectionChanged = () => {\n  HapticEngine.selectionChanged();\n};\n/**\n * Tell the haptic engine we are done with a gesture. This needs to be\n * called lest resources are not properly recycled.\n */\nconst hapticSelectionEnd = () => {\n  HapticEngine.selectionEnd();\n};\n/**\n * Use this to indicate success/failure/warning to the user.\n * options should be of the type `{ style: 'light' }` (or `medium`/`heavy`)\n */\nconst hapticImpact = (options) => {\n  HapticEngine.impact(options);\n};\n\nexport { hapticSelectionStart as a, hapticSelectionChanged as b, hapticSelection as c, hapticImpact as d, hapticSelectionEnd as h };\n","import { c as componentOnReady } from './helpers-1457892a.js';\n\nconst attachComponent = async (delegate, container, component, cssClasses, componentProps) => {\n  if (delegate) {\n    return delegate.attachViewToDom(container, component, componentProps, cssClasses);\n  }\n  if (typeof component !== 'string' && !(component instanceof HTMLElement)) {\n    throw new Error('framework delegate is missing');\n  }\n  const el = (typeof component === 'string')\n    ? container.ownerDocument && container.ownerDocument.createElement(component)\n    : component;\n  if (cssClasses) {\n    cssClasses.forEach(c => el.classList.add(c));\n  }\n  if (componentProps) {\n    Object.assign(el, componentProps);\n  }\n  container.appendChild(el);\n  await new Promise(resolve => componentOnReady(el, resolve));\n  return el;\n};\nconst detachComponent = (delegate, element) => {\n  if (element) {\n    if (delegate) {\n      const container = element.parentElement;\n      return delegate.removeViewFromDom(container, element);\n    }\n    element.remove();\n  }\n  return Promise.resolve();\n};\n\nexport { attachComponent as a, detachComponent as d };\n"]}