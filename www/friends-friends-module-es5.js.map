{"version":3,"sources":["src/app/friends/friends.page.html","src/app/friends/friends.module.ts","src/app/friends/friends.page.scss","src/app/friends/friends.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar color=\\\"secondary\\\">\\r\\n    <ion-title>{{title}}</ion-title>\\r\\n  </ion-toolbar>\\r\\n  <ion-segment color=\\\"secondary\\\" [(ngModel)]=\\\"tab\\\" (ionChange)=\\\"segmentChanged($event)\\\">\\r\\n    <ion-segment-button value=\\\"friends\\\">\\r\\n      FRIENDS\\r\\n    </ion-segment-button>\\r\\n    <ion-segment-button value=\\\"requests\\\">\\r\\n      REQUESTS\\r\\n      <span *ngIf=\\\"friendRequestCount != 0\\\">({{friendRequestCount}})</span>\\r\\n    </ion-segment-button>\\r\\n    <ion-segment-button value=\\\"search\\\">\\r\\n      FIND NEW\\r\\n    </ion-segment-button>\\r\\n  </ion-segment>\\r\\n</ion-header> \\r\\n\\r\\n<ion-content>\\r\\n  <div [ngSwitch]=\\\"tab\\\">\\r\\n    <div *ngSwitchCase=\\\"'friends'\\\">\\r\\n      <!-- No friends to show -->\\r\\n      <div class=\\\"empty-list\\\" *ngIf=\\\"friends && friends.length == 0\\\">\\r\\n        <h1>\\r\\n          <ion-icon name=\\\"contacts\\\"></ion-icon>\\r\\n        </h1>\\r\\n        <p>You don't have new friend yet</p>\\r\\n      </div>\\r\\n      <!-- Show list of friends -->\\r\\n      <ion-list lines=\\\"none\\\" *ngIf=\\\"friends && friends.length > 0\\\">\\r\\n        <!-- <ion-searchbar [(ngModel)]=\\\"searchFriend\\\" placeholder=\\\"Search for friend or username\\\" showCancelButton=\\\"true\\\" cancelButtonText=\\\"Done\\\"></ion-searchbar> -->\\r\\n        <ion-item *ngFor=\\\"let friend of friends | friendFilter:searchFriend\\\"\\r\\n          (click)=\\\"message(friend.$key); $event.stopPropagation();\\\">\\r\\n          <ion-avatar slot=\\\"start\\\">\\r\\n            <img src=\\\"{{friend.img}}\\\" onError=\\\"this.src='./assets/images/default-dp.png'\\\">\\r\\n          </ion-avatar>\\r\\n          <ion-label>\\r\\n            <ion-text>\\r\\n              <h2>{{friend.name}}</h2>\\r\\n            </ion-text>\\r\\n            <ion-text>\\r\\n              <p>{{friend.description}}</p>\\r\\n            </ion-text>\\r\\n          </ion-label>\\r\\n          <ion-note slot=\\\"end\\\" *ngIf=\\\"friend.online == true\\\">online</ion-note>\\r\\n        </ion-item>\\r\\n      </ion-list>\\r\\n    </div>\\r\\n    <div *ngSwitchCase=\\\"'requests'\\\">\\r\\n      <!-- No friend requests sent or received. -->\\r\\n      <div class=\\\"empty-list\\\"\\r\\n        *ngIf=\\\"(friendRequests && friendRequests.length == 0) && (requestsSent && requestsSent.length == 0)\\\">\\r\\n        <h1>\\r\\n          <ion-icon name=\\\"md-filing\\\"></ion-icon>\\r\\n        </h1>\\r\\n        <p>No New Requests</p>\\r\\n      </div>\\r\\n      <!-- Show friend requests received. -->\\r\\n      <ion-list lines=\\\"none\\\" *ngIf=\\\"friendRequests && friendRequests.length > 0\\\">\\r\\n        <ion-item *ngFor=\\\"let friendRequest of friendRequests\\\" (click)=\\\"viewUser(friendRequest.$key)\\\">\\r\\n          <ion-avatar slot=\\\"start\\\">\\r\\n            <img src=\\\"{{friendRequest.img}}\\\" onError=\\\"this.src='http://placehold.it/80x80'\\\">\\r\\n          </ion-avatar>\\r\\n          <ion-label>\\r\\n            <ion-text>\\r\\n              <h2>{{friendRequest.name}}</h2>\\r\\n            </ion-text>\\r\\n            <ion-text>\\r\\n              <p>has sent you a friend request.</p>\\r\\n            </ion-text>\\r\\n          </ion-label>\\r\\n          <ion-button color=\\\"acceptrequest\\\" fill=\\\"outline\\\"\\r\\n            (click)=\\\"acceptFriendRequest(friendRequest); $event.stopPropagation();\\\">\\r\\n            Accept\\r\\n          </ion-button>\\r\\n        </ion-item>\\r\\n      </ion-list>\\r\\n      <!-- Show friend requests sent. -->\\r\\n      <ion-list lines=\\\"none\\\" *ngIf=\\\"requestsSent && requestsSent.length > 0\\\">\\r\\n        <ion-item *ngFor=\\\"let requestSent of requestsSent\\\" no-lines tappable (click)=\\\"viewUser(requestSent.$key)\\\">\\r\\n          <ion-avatar slot=\\\"start\\\">\\r\\n            <img src=\\\"{{requestSent.img}}\\\" onError=\\\"this.src='http://placehold.it/80x80'\\\">\\r\\n          </ion-avatar>\\r\\n          <ion-label>\\r\\n            <ion-text>\\r\\n              <h2>{{requestSent.name}}</h2>\\r\\n            </ion-text>\\r\\n            <ion-text>\\r\\n              <p>friend request sent.</p>\\r\\n            </ion-text>\\r\\n          </ion-label>\\r\\n          <ion-button slot=\\\"end\\\" fill=\\\"outline\\\" color=\\\"cancelrequest\\\"\\r\\n            (click)=\\\"cancelFriendRequest(requestSent); $event.stopPropagation();\\\">\\r\\n            Cancel\\r\\n          </ion-button>\\r\\n        </ion-item>\\r\\n      </ion-list>\\r\\n    </div>\\r\\n    <div *ngSwitchCase=\\\"'search'\\\">\\r\\n      <!-- No other users to send friend request right now. -->\\r\\n      <div class=\\\"empty-list\\\" *ngIf=\\\"accounts && (accounts.length == 0 || (accounts.length == excludedIds.length))\\\">\\r\\n        <h1>\\r\\n          <ion-icon name=\\\"md-search\\\"></ion-icon>\\r\\n        </h1>\\r\\n        <p>We can't find new users right now</p>\\r\\n      </div>\\r\\n      <!-- Show other users excluding yourself, and friends with the help of searchFilter pipe. -->\\r\\n      <ion-list lines=\\\"none\\\" *ngIf=\\\"accounts && accounts.length > 0\\\">\\r\\n        <ion-searchbar *ngIf=\\\"accounts.length != excludedIds.length\\\" [(ngModel)]=\\\"searchUser\\\" placeholder=\\\"Search User\\\">\\r\\n        </ion-searchbar>\\r\\n        <ion-item *ngFor=\\\"let account of accounts | searchFilter: [excludedIds, searchUser]\\\" no-lines tappable\\r\\n          (click)=\\\"viewUser(account.$key)\\\">\\r\\n          <div slot=\\\"end\\\">\\r\\n            <ion-button color=\\\"sendrequest\\\" fill=\\\"outline\\\"\\r\\n              (click)=\\\"sendFriendRequest(account); $event.stopPropagation();\\\" *ngIf=\\\"getStatus(account) == 0\\\">\\r\\n              add\\r\\n            </ion-button>\\r\\n            <ion-button color=\\\"cancelrequest\\\" fill=\\\"outline\\\"\\r\\n              (click)=\\\"cancelFriendRequest(account); $event.stopPropagation();\\\" *ngIf=\\\"getStatus(account) == 1\\\">\\r\\n              <!-- <ion-icon name=\\\"md-close-circle\\\" class=\\\"danger\\\"></ion-icon> -->\\r\\n              cancel\\r\\n            </ion-button>\\r\\n            <ion-button color=\\\"acceptrequest\\\" fill=\\\"outline\\\"\\r\\n              (click)=\\\"acceptFriendRequest(account); $event.stopPropagation();\\\" *ngIf=\\\"getStatus(account) == 2\\\">\\r\\n              <!-- <ion-icon name=\\\"md-checkmark-circle\\\" class=\\\"success\\\"></ion-icon> -->\\r\\n              accept\\r\\n            </ion-button>\\r\\n          </div>\\r\\n          <ion-avatar slot=\\\"start\\\">\\r\\n            <img src=\\\"{{account.img}}\\\" onError=\\\"this.src='./assets/images/default-dp.png'\\\">\\r\\n          </ion-avatar>\\r\\n          <ion-label>\\r\\n            <ion-text>\\r\\n              <h2>{{account.name}}</h2>\\r\\n            </ion-text>\\r\\n            <ion-text>\\r\\n              <p>@{{account.username}}</p>\\r\\n            </ion-text>\\r\\n          </ion-label>\\r\\n        </ion-item>\\r\\n      </ion-list>\\r\\n    </div>\\r\\n  </div>\\r\\n</ion-content>\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { FriendsPage } from './friends.page';\r\nimport { SharedModule } from '../services/share.module';\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: FriendsPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    SharedModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [\r\n    FriendsPage\r\n  ]\r\n})\r\nexport class FriendsPageModule {}\r\n","export default \":host {\\n  --page-margin: var(--app-narrow-margin);\\n  --page-border-radius: var(--app-fair-radius);\\n  --page-segment-background: var(--app-background);\\n  --page-segment-indicator-height: 2px;\\n}\\n\\n.user-friends-segment {\\n  --background: var(--page-segment-background);\\n  position: -webkit-sticky;\\n  position: sticky;\\n  top: 0;\\n  z-index: 8;\\n}\\n\\n.user-friends-segment ion-segment-button {\\n  --padding-end: var(--page-margin);\\n  --padding-start: var(--page-margin);\\n  --color: rgba(var(--ion-color-dark-rgb), 0.4);\\n  --indicator-color: var(--ion-color-dark);\\n  text-transform: capitalize;\\n  min-height: calc((var(--page-margin) * 3) - var(--page-segment-indicator-height));\\n}\\n\\nion-searchbar.friends-searchbar {\\n  padding: calc(var(--page-margin) * 1.5) var(--page-margin);\\n}\\n\\n.friends-list {\\n  padding: 0px var(--page-margin);\\n  margin-bottom: calc(var(--page-margin) * 3);\\n}\\n\\n.empty-list-message {\\n  margin: calc(var(--page-margin) * 3);\\n  color: rgba(var(--ion-color-dark-rgb), 0.4);\\n  text-align: center;\\n}\\n\\nion-item.friend-item {\\n  --inner-padding-start: 0px;\\n  --inner-padding-end: 0px;\\n  --padding-start: 0px;\\n  --padding-end: 0px;\\n  --padding-bottom: var(--page-margin);\\n  --inner-padding-bottom: var(--page-margin);\\n}\\n\\nion-item.friend-item:last-child {\\n  --border-style: none;\\n  --padding-bottom: 0px;\\n  --inner-padding-bottom: 0px;\\n}\\n\\nion-item.friend-item .user-details-section {\\n  --ion-grid-column-padding: 0px;\\n  width: 100%;\\n  -webkit-box-align: center;\\n          align-items: center;\\n}\\n\\nion-item.friend-item .user-details-section .user-data-wrapper {\\n  padding-left: var(--page-margin);\\n  padding-right: calc(var(--page-margin) / 2);\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n          flex-direction: column;\\n  -webkit-box-pack: center;\\n          justify-content: center;\\n}\\n\\nion-item.friend-item .user-details-section .user-data-wrapper .user-info:not(:last-child) {\\n  margin-bottom: calc(var(--page-margin) / 2);\\n}\\n\\nion-item.friend-item .user-details-section .user-data-wrapper .user-info .user-name {\\n  margin: 0px;\\n  margin-bottom: 4px;\\n  font-size: 16px;\\n}\\n\\nion-item.friend-item .user-details-section .user-data-wrapper .user-info .user-job {\\n  margin: 0px;\\n  color: rgba(var(--ion-color-dark-rgb), 0.4);\\n  font-size: 14px;\\n}\\n\\nion-item.friend-item .user-details-section .user-actions-wrapper {\\n  font-size: 14px;\\n  max-width: 10ex;\\n  max-width: 10ch;\\n}\\n\\nion-item.friend-item .user-details-section .user-actions-wrapper .user-action {\\n  margin: 0px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZnJpZW5kcy9DOlxcVXNlcnNcXHJvaGlzZXRoaVxcRG9jdW1lbnRzXFxpb25pY1xcZmlyZWNoYXQ0X3YyL3NyY1xcYXBwXFxmcmllbmRzXFxmcmllbmRzLnBhZ2Uuc2NzcyIsInNyYy9hcHAvZnJpZW5kcy9mcmllbmRzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUNJLHVDQUFBO0VBQ0EsNENBQUE7RUFDQSxnREFBQTtFQUNBLG9DQUFBO0FDREo7O0FES0U7RUFDRSw0Q0FBQTtFQUNBLHdCQUFBO0VBQUEsZ0JBQUE7RUFDQSxNQUFBO0VBQ0EsVUFBQTtBQ0ZKOztBRElJO0VBQ0UsaUNBQUE7RUFDQSxtQ0FBQTtFQUNBLDZDQUFBO0VBQ0Esd0NBQUE7RUFFQSwwQkFBQTtFQUNBLGlGQUFBO0FDSE47O0FET0U7RUFDRSwwREFBQTtBQ0pKOztBRE9FO0VBQ0UsK0JBQUE7RUFDQSwyQ0FBQTtBQ0pKOztBRE9FO0VBQ0Usb0NBQUE7RUFDQSwyQ0FBQTtFQUNBLGtCQUFBO0FDSko7O0FET0U7RUFDRSwwQkFBQTtFQUNBLHdCQUFBO0VBQ0Esb0JBQUE7RUFDQSxrQkFBQTtFQUNBLG9DQUFBO0VBQ0EsMENBQUE7QUNKSjs7QURNSTtFQUNFLG9CQUFBO0VBQ0EscUJBQUE7RUFDQSwyQkFBQTtBQ0pOOztBRE9JO0VBQ0UsOEJBQUE7RUFFQSxXQUFBO0VBQ0EseUJBQUE7VUFBQSxtQkFBQTtBQ05OOztBRFFNO0VBQ0UsZ0NBQUE7RUFDQSwyQ0FBQTtFQUNBLG9CQUFBO0VBQUEsYUFBQTtFQUNBLDRCQUFBO0VBQUEsNkJBQUE7VUFBQSxzQkFBQTtFQUNBLHdCQUFBO1VBQUEsdUJBQUE7QUNOUjs7QURTVTtFQUNFLDJDQUFBO0FDUFo7O0FEVVU7RUFDRSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSxlQUFBO0FDUlo7O0FEV1U7RUFDRSxXQUFBO0VBQ0EsMkNBQUE7RUFDQSxlQUFBO0FDVFo7O0FEY007RUFDRSxlQUFBO0VBS0EsZUFBQTtFQUNBLGVBQUE7QUNoQlI7O0FEa0JRO0VBQ0UsV0FBQTtBQ2hCViIsImZpbGUiOiJzcmMvYXBwL2ZyaWVuZHMvZnJpZW5kcy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDdXN0b20gdmFyaWFibGVzXHJcbi8vIE5vdGU6ICBUaGVzZSBvbmVzIHdlcmUgYWRkZWQgYnkgdXMgYW5kIGhhdmUgbm90aGluZyB0byBkbyB3aXRoIElvbmljIENTUyBDdXN0b20gUHJvcGVydGllc1xyXG46aG9zdCB7XHJcbiAgICAtLXBhZ2UtbWFyZ2luOiB2YXIoLS1hcHAtbmFycm93LW1hcmdpbik7XHJcbiAgICAtLXBhZ2UtYm9yZGVyLXJhZGl1czogdmFyKC0tYXBwLWZhaXItcmFkaXVzKTtcclxuICAgIC0tcGFnZS1zZWdtZW50LWJhY2tncm91bmQ6IHZhcigtLWFwcC1iYWNrZ3JvdW5kKTtcclxuICAgIC0tcGFnZS1zZWdtZW50LWluZGljYXRvci1oZWlnaHQ6IDJweDtcclxuICB9XHJcbiAgXHJcbiAgLy8gTm90ZTogIEFsbCB0aGUgQ1NTIHZhcmlhYmxlcyBkZWZpbmVkIGJlbG93IGFyZSBvdmVycmlkZXMgb2YgSW9uaWMgZWxlbWVudHMgQ1NTIEN1c3RvbSBQcm9wZXJ0aWVzXHJcbiAgLnVzZXItZnJpZW5kcy1zZWdtZW50IHtcclxuICAgIC0tYmFja2dyb3VuZDogdmFyKC0tcGFnZS1zZWdtZW50LWJhY2tncm91bmQpO1xyXG4gICAgcG9zaXRpb246IHN0aWNreTtcclxuICAgIHRvcDogMDtcclxuICAgIHotaW5kZXg6IDg7XHJcbiAgXHJcbiAgICBpb24tc2VnbWVudC1idXR0b24ge1xyXG4gICAgICAtLXBhZGRpbmctZW5kOiB2YXIoLS1wYWdlLW1hcmdpbik7XHJcbiAgICAgIC0tcGFkZGluZy1zdGFydDogdmFyKC0tcGFnZS1tYXJnaW4pO1xyXG4gICAgICAtLWNvbG9yOiByZ2JhKHZhcigtLWlvbi1jb2xvci1kYXJrLXJnYiksIDAuNCk7XHJcbiAgICAgIC0taW5kaWNhdG9yLWNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFyayk7XHJcbiAgXHJcbiAgICAgIHRleHQtdHJhbnNmb3JtOiBjYXBpdGFsaXplO1xyXG4gICAgICBtaW4taGVpZ2h0OiBjYWxjKCh2YXIoLS1wYWdlLW1hcmdpbikgKiAzKSAtIHZhcigtLXBhZ2Utc2VnbWVudC1pbmRpY2F0b3ItaGVpZ2h0KSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIGlvbi1zZWFyY2hiYXIuZnJpZW5kcy1zZWFyY2hiYXIge1xyXG4gICAgcGFkZGluZzogY2FsYyh2YXIoLS1wYWdlLW1hcmdpbikgKiAxLjUpIHZhcigtLXBhZ2UtbWFyZ2luKTtcclxuICB9XHJcbiAgXHJcbiAgLmZyaWVuZHMtbGlzdCB7XHJcbiAgICBwYWRkaW5nOiAwcHggdmFyKC0tcGFnZS1tYXJnaW4pO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogY2FsYyh2YXIoLS1wYWdlLW1hcmdpbikgKiAzKTtcclxuICB9XHJcbiAgXHJcbiAgLmVtcHR5LWxpc3QtbWVzc2FnZSB7XHJcbiAgICBtYXJnaW46IGNhbGModmFyKC0tcGFnZS1tYXJnaW4pICogMyk7XHJcbiAgICBjb2xvcjogcmdiYSh2YXIoLS1pb24tY29sb3ItZGFyay1yZ2IpLCAwLjQpO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIH1cclxuICBcclxuICBpb24taXRlbS5mcmllbmQtaXRlbSB7XHJcbiAgICAtLWlubmVyLXBhZGRpbmctc3RhcnQ6IDBweDtcclxuICAgIC0taW5uZXItcGFkZGluZy1lbmQ6IDBweDtcclxuICAgIC0tcGFkZGluZy1zdGFydDogMHB4O1xyXG4gICAgLS1wYWRkaW5nLWVuZDogMHB4O1xyXG4gICAgLS1wYWRkaW5nLWJvdHRvbTogdmFyKC0tcGFnZS1tYXJnaW4pO1xyXG4gICAgLS1pbm5lci1wYWRkaW5nLWJvdHRvbTogdmFyKC0tcGFnZS1tYXJnaW4pO1xyXG4gIFxyXG4gICAgJjpsYXN0LWNoaWxkIHtcclxuICAgICAgLS1ib3JkZXItc3R5bGU6IG5vbmU7XHJcbiAgICAgIC0tcGFkZGluZy1ib3R0b206IDBweDtcclxuICAgICAgLS1pbm5lci1wYWRkaW5nLWJvdHRvbTogMHB4O1xyXG4gICAgfVxyXG4gIFxyXG4gICAgLnVzZXItZGV0YWlscy1zZWN0aW9uIHtcclxuICAgICAgLS1pb24tZ3JpZC1jb2x1bW4tcGFkZGluZzogMHB4O1xyXG4gIFxyXG4gICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBcclxuICAgICAgLnVzZXItZGF0YS13cmFwcGVyIHtcclxuICAgICAgICBwYWRkaW5nLWxlZnQ6IHZhcigtLXBhZ2UtbWFyZ2luKTtcclxuICAgICAgICBwYWRkaW5nLXJpZ2h0OiBjYWxjKHZhcigtLXBhZ2UtbWFyZ2luKSAvIDIpO1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICBcclxuICAgICAgICAudXNlci1pbmZvIHtcclxuICAgICAgICAgICY6bm90KDpsYXN0LWNoaWxkKSB7XHJcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IGNhbGModmFyKC0tcGFnZS1tYXJnaW4pIC8gMik7XHJcbiAgICAgICAgICB9XHJcbiAgXHJcbiAgICAgICAgICAudXNlci1uYW1lIHtcclxuICAgICAgICAgICAgbWFyZ2luOiAwcHg7XHJcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDRweDtcclxuICAgICAgICAgICAgZm9udC1zaXplOiAxNnB4O1xyXG4gICAgICAgICAgfVxyXG4gIFxyXG4gICAgICAgICAgLnVzZXItam9iIHtcclxuICAgICAgICAgICAgbWFyZ2luOiAwcHg7XHJcbiAgICAgICAgICAgIGNvbG9yOiByZ2JhKHZhcigtLWlvbi1jb2xvci1kYXJrLXJnYiksIDAuNCk7XHJcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICBcclxuICAgICAgLnVzZXItYWN0aW9ucy13cmFwcGVyIHtcclxuICAgICAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgXHJcbiAgICAgICAgLy8gTWFrZSBzdXJlIHdlIGFsd2F5cyBoYXZlIHNwYWNlIGZvciAxMCBjaGFyYWN0ZXJzXHJcbiAgICAgICAgLy8gQXMgY2ggKHdpZHRoIG9mIHRoZSBjaGFyYWN0ZXIgJzAnKSB1bml0IGlzIG5vdCAxMDAlIHN1cHBvcnRlZCwgd2Ugd2lsbCB1c2UgZXggKGhlaWdodCBvZiB0aGUgJ3gnIGNoYXJhY3RlcikgYXMgYSBmYWxsYmFja1xyXG4gICAgICAgIC8vIFNlZTogaHR0cHM6Ly93d3cucXVpcmtzbW9kZS5vcmcvY3NzL3VuaXRzLXZhbHVlcy9cclxuICAgICAgICBtYXgtd2lkdGg6IDEwZXg7IC8vIFRoZSAneCcgY2hhcmFjdGVyIGlzIHNlbWktc3F1YXJlIGNoYXJcclxuICAgICAgICBtYXgtd2lkdGg6IDEwY2g7IC8vIGNoIGlzIHRoZSBvbmx5IGZvbnQgdW5pdCBiYXNlZCBvbiB0aGUgd2lkdGggb2YgY2hhcmFjdGVyc1xyXG4gIFxyXG4gICAgICAgIC51c2VyLWFjdGlvbiB7XHJcbiAgICAgICAgICBtYXJnaW46IDBweDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgIiwiOmhvc3Qge1xuICAtLXBhZ2UtbWFyZ2luOiB2YXIoLS1hcHAtbmFycm93LW1hcmdpbik7XG4gIC0tcGFnZS1ib3JkZXItcmFkaXVzOiB2YXIoLS1hcHAtZmFpci1yYWRpdXMpO1xuICAtLXBhZ2Utc2VnbWVudC1iYWNrZ3JvdW5kOiB2YXIoLS1hcHAtYmFja2dyb3VuZCk7XG4gIC0tcGFnZS1zZWdtZW50LWluZGljYXRvci1oZWlnaHQ6IDJweDtcbn1cblxuLnVzZXItZnJpZW5kcy1zZWdtZW50IHtcbiAgLS1iYWNrZ3JvdW5kOiB2YXIoLS1wYWdlLXNlZ21lbnQtYmFja2dyb3VuZCk7XG4gIHBvc2l0aW9uOiBzdGlja3k7XG4gIHRvcDogMDtcbiAgei1pbmRleDogODtcbn1cbi51c2VyLWZyaWVuZHMtc2VnbWVudCBpb24tc2VnbWVudC1idXR0b24ge1xuICAtLXBhZGRpbmctZW5kOiB2YXIoLS1wYWdlLW1hcmdpbik7XG4gIC0tcGFkZGluZy1zdGFydDogdmFyKC0tcGFnZS1tYXJnaW4pO1xuICAtLWNvbG9yOiByZ2JhKHZhcigtLWlvbi1jb2xvci1kYXJrLXJnYiksIDAuNCk7XG4gIC0taW5kaWNhdG9yLWNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFyayk7XG4gIHRleHQtdHJhbnNmb3JtOiBjYXBpdGFsaXplO1xuICBtaW4taGVpZ2h0OiBjYWxjKCh2YXIoLS1wYWdlLW1hcmdpbikgKiAzKSAtIHZhcigtLXBhZ2Utc2VnbWVudC1pbmRpY2F0b3ItaGVpZ2h0KSk7XG59XG5cbmlvbi1zZWFyY2hiYXIuZnJpZW5kcy1zZWFyY2hiYXIge1xuICBwYWRkaW5nOiBjYWxjKHZhcigtLXBhZ2UtbWFyZ2luKSAqIDEuNSkgdmFyKC0tcGFnZS1tYXJnaW4pO1xufVxuXG4uZnJpZW5kcy1saXN0IHtcbiAgcGFkZGluZzogMHB4IHZhcigtLXBhZ2UtbWFyZ2luKTtcbiAgbWFyZ2luLWJvdHRvbTogY2FsYyh2YXIoLS1wYWdlLW1hcmdpbikgKiAzKTtcbn1cblxuLmVtcHR5LWxpc3QtbWVzc2FnZSB7XG4gIG1hcmdpbjogY2FsYyh2YXIoLS1wYWdlLW1hcmdpbikgKiAzKTtcbiAgY29sb3I6IHJnYmEodmFyKC0taW9uLWNvbG9yLWRhcmstcmdiKSwgMC40KTtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG5pb24taXRlbS5mcmllbmQtaXRlbSB7XG4gIC0taW5uZXItcGFkZGluZy1zdGFydDogMHB4O1xuICAtLWlubmVyLXBhZGRpbmctZW5kOiAwcHg7XG4gIC0tcGFkZGluZy1zdGFydDogMHB4O1xuICAtLXBhZGRpbmctZW5kOiAwcHg7XG4gIC0tcGFkZGluZy1ib3R0b206IHZhcigtLXBhZ2UtbWFyZ2luKTtcbiAgLS1pbm5lci1wYWRkaW5nLWJvdHRvbTogdmFyKC0tcGFnZS1tYXJnaW4pO1xufVxuaW9uLWl0ZW0uZnJpZW5kLWl0ZW06bGFzdC1jaGlsZCB7XG4gIC0tYm9yZGVyLXN0eWxlOiBub25lO1xuICAtLXBhZGRpbmctYm90dG9tOiAwcHg7XG4gIC0taW5uZXItcGFkZGluZy1ib3R0b206IDBweDtcbn1cbmlvbi1pdGVtLmZyaWVuZC1pdGVtIC51c2VyLWRldGFpbHMtc2VjdGlvbiB7XG4gIC0taW9uLWdyaWQtY29sdW1uLXBhZGRpbmc6IDBweDtcbiAgd2lkdGg6IDEwMCU7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG5pb24taXRlbS5mcmllbmQtaXRlbSAudXNlci1kZXRhaWxzLXNlY3Rpb24gLnVzZXItZGF0YS13cmFwcGVyIHtcbiAgcGFkZGluZy1sZWZ0OiB2YXIoLS1wYWdlLW1hcmdpbik7XG4gIHBhZGRpbmctcmlnaHQ6IGNhbGModmFyKC0tcGFnZS1tYXJnaW4pIC8gMik7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xufVxuaW9uLWl0ZW0uZnJpZW5kLWl0ZW0gLnVzZXItZGV0YWlscy1zZWN0aW9uIC51c2VyLWRhdGEtd3JhcHBlciAudXNlci1pbmZvOm5vdCg6bGFzdC1jaGlsZCkge1xuICBtYXJnaW4tYm90dG9tOiBjYWxjKHZhcigtLXBhZ2UtbWFyZ2luKSAvIDIpO1xufVxuaW9uLWl0ZW0uZnJpZW5kLWl0ZW0gLnVzZXItZGV0YWlscy1zZWN0aW9uIC51c2VyLWRhdGEtd3JhcHBlciAudXNlci1pbmZvIC51c2VyLW5hbWUge1xuICBtYXJnaW46IDBweDtcbiAgbWFyZ2luLWJvdHRvbTogNHB4O1xuICBmb250LXNpemU6IDE2cHg7XG59XG5pb24taXRlbS5mcmllbmQtaXRlbSAudXNlci1kZXRhaWxzLXNlY3Rpb24gLnVzZXItZGF0YS13cmFwcGVyIC51c2VyLWluZm8gLnVzZXItam9iIHtcbiAgbWFyZ2luOiAwcHg7XG4gIGNvbG9yOiByZ2JhKHZhcigtLWlvbi1jb2xvci1kYXJrLXJnYiksIDAuNCk7XG4gIGZvbnQtc2l6ZTogMTRweDtcbn1cbmlvbi1pdGVtLmZyaWVuZC1pdGVtIC51c2VyLWRldGFpbHMtc2VjdGlvbiAudXNlci1hY3Rpb25zLXdyYXBwZXIge1xuICBmb250LXNpemU6IDE0cHg7XG4gIG1heC13aWR0aDogMTBleDtcbiAgbWF4LXdpZHRoOiAxMGNoO1xufVxuaW9uLWl0ZW0uZnJpZW5kLWl0ZW0gLnVzZXItZGV0YWlscy1zZWN0aW9uIC51c2VyLWFjdGlvbnMtd3JhcHBlciAudXNlci1hY3Rpb24ge1xuICBtYXJnaW46IDBweDtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { DataService } from '../services/data.service';\r\nimport { LoadingService } from '../services/loading.service';\r\nimport { AlertController } from '@ionic/angular';\r\nimport { AngularFireAuth } from '@angular/fire/auth';\r\nimport { Router } from '@angular/router';\r\nimport { FirebaseService } from '../services/firebase.service';\r\nimport { take, takeLast } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-friends',\r\n  templateUrl: './friends.page.html',\r\n  styleUrls: ['./friends.page.scss'],\r\n})\r\nexport class FriendsPage implements OnInit {\r\n\r\n  friends: any;\r\n  friendRequests: any = [];\r\n  searchFriend: any;\r\n  tab: any;\r\n  title: any;\r\n  requestsSent: any = [];\r\n  friendRequestCount = 0;\r\n\r\n  alert: any;\r\n  account: any;\r\n\r\n  accounts: any = [];\r\n  excludedIds: any = [];\r\n  searchUser: any;\r\n\r\n  // FriendsPage\r\n  // This is the page where the user can search, view, and initiate a chat with their friends.\r\n  constructor(\r\n    private dataProvider: DataService,\r\n    private loadingProvider: LoadingService,\r\n    public alertCtrl: AlertController,\r\n    public firebaseProvider: FirebaseService,\r\n    private afAuth: AngularFireAuth,\r\n    private router: Router\r\n  ) { }\r\n\r\n  ngOnInit() { }\r\n\r\n  ionViewDidEnter() {\r\n    this.tab = 'friends';\r\n    this.title = 'Friends';\r\n    this.searchFriend = '';\r\n\r\n    if (this.afAuth.auth.currentUser != null) {\r\n      this.dataProvider.getRequests(this.dataProvider.getCurrentUserId()).snapshotChanges().subscribe((requestsRes: any) => {\r\n        if (requestsRes.payload != null) {\r\n        const requests = requestsRes.payload.data();\r\n        if (requests != null) {\r\n          if (requests.friendRequests != null && requests.friendRequests !== undefined) {\r\n            this.friendRequestCount = requests.friendRequests.length;\r\n          } else { this.friendRequestCount = 0; }\r\n        } else { this.friendRequestCount = 0; }\r\n      }\r\n      });\r\n    }\r\n  }\r\n\r\n  segmentChanged($event) {\r\n    if (this.tab === 'friends') {\r\n      this.title = 'Friends'; this.getFriends();\r\n    } else if (this.tab === 'requests') {\r\n      this.title = 'Friend Requests'; this.getFriendRequests();\r\n    } else if (this.tab === 'search') {\r\n      this.title = 'Find New Friends'; this.findNewFriends();\r\n    }\r\n  }\r\n  // openFilter() {\r\n  //   this.findNewFriends();\r\n  //   let friendModal = this.modalCtrl.create(FriendsFilterPage);\r\n  //   friendModal.present();\r\n  //   friendModal.onDidDismiss(data => {\r\n  //     console.log(data);\r\n  //     if (data != undefined) {\r\n  //       this.accounts = this.accounts.filter(acc => {\r\n  //         if ((acc.age >= data.ageStart) && (acc.age <= data.ageEnd) && acc.location == data.location)\r\n  //           return true;\r\n  //         return false;\r\n  //       })\r\n  //     }\r\n  //   });\r\n\r\n  // }\r\n\r\n  getFriends() {\r\n    this.loadingProvider.show();\r\n    this.friends = [];\r\n    // Get user data on database and get list of friends.\r\n    this.dataProvider.getCurrentUser().snapshotChanges().subscribe((user: any) => {\r\n      const account = user.payload.data();\r\n      this.loadingProvider.hide();\r\n      if (account != null && account.friends != null) {\r\n        for (let i = 0; i < account.friends.length; i++) {\r\n          console.log('friends:', account.friends[i]);\r\n          this.dataProvider.getUser(account.friends[i]).snapshotChanges().subscribe((friend: any) => {\r\n            if (friend.payload != null) {\r\n              const friendData = { $key: friend.payload.data().userId, ...friend.payload.data() };\r\n              this.addOrUpdateFriend(friendData);\r\n            }\r\n          });\r\n        }\r\n      } else {\r\n        this.friends = [];\r\n      }\r\n  });\r\n  }\r\n\r\n  // Add or update friend data for real-time sync.\r\n  addOrUpdateFriend(friend) {\r\n    if (!this.friends) {\r\n      this.friends = [friend];\r\n    } else {\r\n      var index = -1;\r\n      for (let i = 0; i < this.friends.length; i++) {\r\n        if (this.friends[i].$key === friend.$key) {\r\n          index = i;\r\n        }\r\n      }\r\n      if (index > -1) {\r\n        this.friends[index] = friend;\r\n      } else {\r\n        this.friends.push(friend);\r\n      }\r\n    }\r\n  }\r\n\r\n  // Proceed to userInfo page.\r\n  viewUser(userId) {\r\n    this.router.navigateByUrl('/userinfo/' + userId);\r\n  }\r\n\r\n  // Proceed to chat page.\r\n  message(userId) {\r\n    this.router.navigateByUrl('/message/' + userId);\r\n  }\r\n\r\n\r\n  // Manageing Friend Requests\r\n\r\n  getFriendRequests() {\r\n    this.friendRequests = [];\r\n    this.requestsSent = [];\r\n\r\n    this.loadingProvider.show();\r\n    // Get user info\r\n    this.dataProvider.getCurrentUser().snapshotChanges().subscribe((accountRes: any) => {\r\n      this.account = accountRes.payload.data();\r\n      // Get friendRequests and requestsSent of the user.\r\n      this.dataProvider.getRequests(this.account.userId).snapshotChanges().subscribe((requestsRes: any) => {\r\n        // friendRequests.\r\n        let requests = requestsRes.payload.data();\r\n        if (requests != null) {\r\n          if (requests.friendRequests != null && requests.friendRequests !== undefined) {\r\n            this.friendRequests = [];\r\n            this.friendRequestCount = requests.friendRequests.length;\r\n            requests.friendRequests.forEach((userId) => {\r\n              this.dataProvider.getUser(userId).snapshotChanges().subscribe((sender: any) => {\r\n                sender = { $key: sender.payload.data().userId, ...sender.payload.data() };\r\n                this.addOrUpdateFriendRequest(sender);\r\n              });\r\n            });\r\n          } else {\r\n            this.friendRequests = [];\r\n          }\r\n          // requestsSent.\r\n          if (requests.requestsSent != null && requests.requestsSent != undefined) {\r\n            this.requestsSent = [];\r\n            requests.requestsSent.forEach((userId) => {\r\n              this.dataProvider.getUser(userId).snapshotChanges().subscribe((receiver: any) => {\r\n                receiver = { $key: receiver.payload.data().userId, ...receiver.payload.data() };\r\n                this.addOrUpdateRequestSent(receiver);\r\n              });\r\n            });\r\n          } else {\r\n            this.requestsSent = [];\r\n          }\r\n        }\r\n        this.loadingProvider.hide();\r\n      });\r\n\r\n  });\r\n  }\r\n\r\n\r\n\r\n  // Add or update friend request only if not yet friends.\r\n  addOrUpdateFriendRequest(sender) {\r\n    if (!this.friendRequests) {\r\n      this.friendRequests = [sender];\r\n    } else {\r\n      var index = -1;\r\n      for (var i = 0; i < this.friendRequests.length; i++) {\r\n        if (this.friendRequests[i].$key === sender.$key) {\r\n          index = i;\r\n        }\r\n      }\r\n      if (index > -1) {\r\n        if (!this.isFriends(sender.$key)) {\r\n          this.friendRequests[index] = sender;\r\n        }\r\n      } else {\r\n        if (!this.isFriends(sender.$key)) {\r\n          this.friendRequests.push(sender);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // Add or update requests sent only if the user is not yet a friend.\r\n  addOrUpdateRequestSent(receiver) {\r\n    if (!this.requestsSent) {\r\n      this.requestsSent = [receiver];\r\n    } else {\r\n      var index = -1;\r\n      for (var j = 0; j < this.requestsSent.length; j++) {\r\n        if (this.requestsSent[j].$key == receiver.$key) {\r\n          index = j;\r\n        }\r\n      }\r\n      if (index > -1) {\r\n        if (!this.isFriends(receiver.$key)) {\r\n          this.requestsSent[index] = receiver;\r\n        }\r\n      } else {\r\n        if (!this.isFriends(receiver.$key)) {\r\n          this.requestsSent.push(receiver);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  findNewFriends() {\r\n    this.requestsSent = [];\r\n    this.friendRequests = [];\r\n    // Initialize\r\n    this.loadingProvider.show();\r\n    this.searchUser = '';\r\n    // Get all users.\r\n    this.dataProvider.getUsers().snapshotChanges().subscribe((accounts: any) => {\r\n      // TODO : why is this being called twice??????????????\r\n      this.loadingProvider.hide();\r\n      // applying Filters\r\n      const acc = accounts.filter((c) => {\r\n        if (c.key == null && c.key === undefined && c.payload.doc.data() == null) { return false; }\r\n        if (c.payload.doc.data().name === ''\r\n            || c.payload.doc.data().name === ' '\r\n            || c.payload.doc.data().name === undefined) {\r\n              return false;\r\n        }\r\n\r\n        if (c.payload.doc.data().publicVisibility === false) { return false; }\r\n        return true;\r\n      });\r\n\r\n      this.accounts = acc.map(c => {\r\n        return { $key: c.payload.doc.data().userId, ...c.payload.doc.data() }\r\n      });\r\n\r\n      this.dataProvider.getCurrentUser().snapshotChanges().subscribe((accountRes: any) => {\r\n        const account = accountRes.payload.data();\r\n        // Add own userId as exludedIds.\r\n        this.excludedIds = [];\r\n        if (this.excludedIds.indexOf(account.userId) === -1) {\r\n          this.excludedIds.push(account.userId);\r\n        }\r\n        // Get friends which will be filtered out from the list using searchFilter pipe pipes/search.ts.\r\n        if (account != null) {\r\n          if (account.friends != null) {\r\n            account.friends.forEach(friend => {\r\n              if (this.excludedIds.indexOf(friend) === -1) {\r\n                this.excludedIds.push(friend);\r\n              }\r\n            });\r\n          }\r\n        }\r\n        // Get requests of the currentUser.\r\n        this.dataProvider.getRequests(account.userId).get().subscribe((requests: any) => {\r\n          if (requests.payload != null) {\r\n            this.requestsSent = requests.payload.data().requestsSent;\r\n            this.friendRequests = requests.payload.data().friendRequests;\r\n          }\r\n        });\r\n    });\r\n    });\r\n  }\r\n\r\n  // Send friend request.\r\n  sendFriendRequest(user) {\r\n    this.alert = this.alertCtrl.create({\r\n      header: 'Send Friend Request',\r\n      message: 'Do you want to send friend request to <b>' + user.name + '</b>?',\r\n      buttons: [\r\n        {\r\n          text: 'Cancel',\r\n          handler: data => { }\r\n        },\r\n        {\r\n          text: 'Send',\r\n          handler: () => {\r\n            this.firebaseProvider.sendFriendRequest(user.$key);\r\n          }\r\n        }\r\n      ]\r\n    }).then(r => r.present());\r\n  }\r\n\r\n  // Accept Friend Request.\r\n  acceptFriendRequest(user) {\r\n    this.alert = this.alertCtrl.create({\r\n      header: 'Confirm Friend Request',\r\n      message: 'Do you want to accept <b>' + user.name + '</b> as your friend?',\r\n      buttons: [\r\n        {\r\n          text: 'Cancel',\r\n          handler: data => { }\r\n        },\r\n        {\r\n          text: 'Reject Request',\r\n          handler: () => {\r\n            this.firebaseProvider.deleteFriendRequest(user.$key);\r\n            this.getFriendRequests();\r\n          }\r\n        },\r\n        {\r\n          text: 'Accept Request',\r\n          handler: () => {\r\n            this.firebaseProvider.acceptFriendRequest(user.$key);\r\n            this.getFriendRequests();\r\n          }\r\n        }\r\n      ]\r\n    }).then(r => r.present());\r\n  }\r\n\r\n  // Cancel Friend Request sent.\r\n  cancelFriendRequest(user) {\r\n    this.alert = this.alertCtrl.create({\r\n      header: 'Friend Request Pending',\r\n      message: 'Do you want to delete your friend request to <b>' + user.name + '</b>?',\r\n      buttons: [\r\n        {\r\n          text: 'Cancel',\r\n          handler: data => { }\r\n        },\r\n        {\r\n          text: 'Delete',\r\n          handler: () => {\r\n            this.firebaseProvider.cancelFriendRequest(user.$key);\r\n            this.getFriendRequests();\r\n          }\r\n        }\r\n      ]\r\n    }).then(r => r.present());\r\n  }\r\n\r\n  // Checks if user is already friends with this user.\r\n  isFriends(userId) {\r\n    if (this.account.friends) {\r\n      if (this.account.friends.indexOf(userId) == -1) {\r\n        return false;\r\n      } else {\r\n        return true;\r\n      }\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Get the status of the user in relation to the logged in user.\r\n  getStatus(user) {\r\n    // Returns:\r\n    // 0 when user can be requested as friend.\r\n    // 1 when a friend request was already sent to this user.\r\n    // 2 when this user has a pending friend request.\r\n    if (this.requestsSent) {\r\n      for (let i = 0; i < this.requestsSent.length; i++) {\r\n        if (this.requestsSent[i] === user.$key) {\r\n          return 1;\r\n        }\r\n      }\r\n    }\r\n    if (this.friendRequests) {\r\n      for (let j = 0; j < this.friendRequests.length; j++) {\r\n        if (this.friendRequests[j] === user.$key) {\r\n          return 2;\r\n        }\r\n      }\r\n    }\r\n    return 0;\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///","file":"friends-friends-module-es5.js"}