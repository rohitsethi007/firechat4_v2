{"version":3,"sources":["webpack:///src/app/group-search/group-search.module.ts","webpack:///src/app/group-search/group-search.page.ts","webpack:///src/app/group-search/group-search.page.scss","webpack:///src/app/group-search/group-search.page.html"],"names":["routes","path","component","GroupSearchPageModule","imports","forChild","declarations","GroupSearchPage","route","router","dataProvider","firestore","navCtrl","category","getCurrentNavigation","extras","state","loggedInUserId","getCurrentUserId","ngOnInit","collection","ref","where","key","get","then","groupsRes","groups","forEach","f","group","data","id","members","some","e","isUserMember","push","onCancel","back","viewGroup","groupId","navigateByUrl","selector","template"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASA,UAAMA,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAE;AAFb,OADqB,CAAvB;;UAiBaC,qBAAqB;AAAA;AAAA,Q;;AAArBA,2BAAqB,6DAVjC,+DAAS;AACRC,eAAO,EAAE,CACP,4DADO,EAEP,0DAFO,EAGP,0DAHO,EAIP,mEAJO,EAKP,6DAAaC,QAAb,CAAsBL,MAAtB,CALO,CADD;AAQRM,oBAAY,EAAE,CAAC,kEAAD;AARN,OAAT,CAUiC,GAArBH,qBAAqB,CAArB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCfAI,eAAe;AAO1B,iCACUC,KADV,EAEUC,MAFV,EAGSC,YAHT,EAIUC,SAJV,EAKUC,OALV,EAKgC;AAAA;;AAJtB,eAAAJ,KAAA,GAAAA,KAAA;AACA,eAAAC,MAAA,GAAAA,MAAA;AACD,eAAAC,YAAA,GAAAA,YAAA;AACC,eAAAC,SAAA,GAAAA,SAAA;AACA,eAAAC,OAAA,GAAAA,OAAA;AAER,eAAKC,QAAL,GAAgB,KAAKJ,MAAL,CAAYK,oBAAZ,GAAmCC,MAAnC,CAA0CC,KAA1C,CAAgDH,QAAhE;AACA,eAAKI,cAAL,GAAsB,KAAKP,YAAL,CAAkBQ,gBAAlB,EAAtB;AACD;;AAhByB;AAAA;AAAA,iBAkB1B,SAAAC,QAAQ,GAAG;AAAA;;AACT,iBAAKR,SAAL,CAAeS,UAAf,CAA0B,QAA1B,EAAoCC,GAApC,CACCC,KADD,CACO,YADP,EACqB,IADrB,EAC2B,KAAKT,QAAL,CAAcU,GADzC,EAECC,GAFD,GAEOC,IAFP,CAEY,UAACC,SAAD,EAAoB;AAC9B,mBAAI,CAACC,MAAL,GAAc,EAAd;AACAD,uBAAS,CAACE,OAAV,CAAkB,UAAAC,CAAC,EAAI;AACrB,oBAAIC,KAAJ;AACAA,qBAAK,GAAGD,CAAC,CAACE,IAAF,EAAR;AACAD,qBAAK,CAACP,GAAN,GAAYM,CAAC,CAACG,EAAd;;AAEA,oBAAIF,KAAK,CAACG,OAAN,CAAcC,IAAd,CAAmB,UAAAC,CAAC;AAAA,yBAAIA,CAAC,KAAK,KAAI,CAAClB,cAAf;AAAA,iBAApB,CAAJ,EAAyD;AACvDa,uBAAK,CAACM,YAAN,GAAqB,IAArB;AACD,iBAFD,MAEO;AACLN,uBAAK,CAACM,YAAN,GAAqB,KAArB;AACD;;AACD,qBAAI,CAACT,MAAL,CAAYU,IAAZ,CAAiBP,KAAjB;AACD,eAXD;AAYD,aAhBD;AAiBD;AApCyB;AAAA;AAAA,iBAsC1B,SAAAQ,QAAQ,GAAG;AACT,iBAAK1B,OAAL,CAAa2B,IAAb;AACD,WAxCyB,CA0C1B;;AA1C0B;AAAA;AAAA,iBA2C1B,SAAAC,SAAS,CAACC,OAAD,EAAU;AACjB,iBAAKhC,MAAL,CAAYiC,aAAZ,CAA0B,WAAWD,OAArC;AACD;AA7CyB;AAAA,S;;;;gBAVnB;;gBAAgB;;gBAChB;;gBACA;;gBACA;;;;AAOIlC,qBAAe,6DAL3B,gEAAU;AACToC,gBAAQ,EAAE,kBADD;AAETC,gBAAQ,EAAR,0EAFS;;AAAA,OAAV,CAK2B,E,+EAQT,8D,EACC,sD,EACK,kE,EACF,wE,EACF,4D,EAZO,GAAfrC,eAAe,CAAf;;;;;;;;;;;;;;;;ACXb;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA","file":"group-search-group-search-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport { SharedModule } from '../services/share.module';\nimport { IonicModule } from '@ionic/angular';\n\nimport { GroupSearchPage } from './group-search.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: GroupSearchPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SharedModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [GroupSearchPage]\n})\nexport class GroupSearchPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { DataService } from '../services/data.service';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { NavController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-group-search',\n  templateUrl: './group-search.page.html',\n  styleUrls: ['./group-search.page.scss'],\n})\nexport class GroupSearchPage implements OnInit {\n  groupSearch: any;\n  category: any;\n  groups: any;\n  loggedInUserId: any;\n  searchGroup: any;\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    public dataProvider: DataService,\n    private firestore: AngularFirestore,\n    private navCtrl: NavController\n  ) {\n    this.category = this.router.getCurrentNavigation().extras.state.category;\n    this.loggedInUserId = this.dataProvider.getCurrentUserId();\n  }\n \n  ngOnInit() {\n    this.firestore.collection('groups').ref\n    .where('categoryId', '==', this.category.key)\n    .get().then((groupsRes: any) => {\n      this.groups = [];\n      groupsRes.forEach(f => {\n        let group: any;\n        group = f.data();\n        group.key = f.id;\n\n        if (group.members.some(e => e === this.loggedInUserId )) {\n          group.isUserMember = true;\n        } else {\n          group.isUserMember = false;\n        }\n        this.groups.push(group);\n      });\n    });\n  }\n\n  onCancel() {\n    this.navCtrl.back();\n  }\n\n  // Open Group Chat.\n  viewGroup(groupId) {\n    this.router.navigateByUrl('group/' + groupId);\n  }\n}\n","export default \":host {\\n  --page-margin: var(--app-narrow-margin);\\n  --page-background: var(--app-background);\\n}\\n\\nion-searchbar {\\n  --border-radius: 30px;\\n}\\n\\n.filters-toolbar {\\n  --padding-start: var(--page-margin);\\n  --padding-end: var(--page-margin);\\n}\\n\\n.filters-toolbar .searchbar-row {\\n  --ion-grid-column-padding: 0px;\\n}\\n\\n.filters-toolbar .searchbar-row .searchbar {\\n  padding: 0px;\\n  height: 30px;\\n  border-radius: 20px;\\n}\\n\\n.inputs-list {\\n  padding: var(--page-margin) var(--page-margin) calc(var(--page-margin) * 2);\\n}\\n\\n.inputs-list .header {\\n  font-size: 14px;\\n}\\n\\n.inputs-list .error-container .error-message {\\n  margin: calc(var(--page-margin) / 2) 0px;\\n  display: flex;\\n  align-items: center;\\n  color: var(--ion-color-danger);\\n  font-size: 14px;\\n}\\n\\n.inputs-list .error-container .error-message ion-icon {\\n  padding-inline-end: calc(var(--page-margin) / 2);\\n  flex-shrink: 0;\\n}\\n\\n.toggle-text {\\n  font-family: \\\"HelveticaNeue\\\", \\\"Helvetica Neue\\\", Helvetica, \\\"Roboto\\\", \\\"Segoe UI\\\", Arial, sans-serif;\\n  font-weight: 400;\\n  font-size: 14px;\\n  line-height: 19px;\\n  -webkit-font-smoothing: subpixel-antialiased;\\n  -moz-osx-font-smoothing: auto;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\n\\n.toggle-text .group-subheading {\\n  font-weight: 400;\\n  font-size: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZ3JvdXAtc2VhcmNoL2dyb3VwLXNlYXJjaC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSx1Q0FBQTtFQUNBLHdDQUFBO0FBQ0o7O0FBRUM7RUFDRSxxQkFBQTtBQUNIOztBQUVBO0VBQ0csbUNBQUE7RUFDQSxpQ0FBQTtBQUNIOztBQUVHO0VBQ0UsOEJBQUE7QUFBTDs7QUFFSztFQUNFLFlBQUE7RUFDQSxZQUFBO0VBQ0EsbUJBQUE7QUFBUDs7QUFXQztFQUNHLDJFQUFBO0FBUko7O0FBVUk7RUFDRSxlQUFBO0FBUk47O0FBV007RUFDRSx3Q0FBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLDhCQUFBO0VBQ0EsZUFBQTtBQVRSOztBQVdRO0VBQ0UsZ0RBQUE7RUFDQSxjQUFBO0FBVFY7O0FBZUU7RUFDRSxrR0FBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsNENBQUE7RUFDQSw2QkFBQTtFQUNBLGdCQUFBO0VBQ0EsdUJBQUE7QUFaSjs7QUFjSTtFQUNFLGdCQUFBO0VBQ0EsZUFBQTtBQVpOIiwiZmlsZSI6InNyYy9hcHAvZ3JvdXAtc2VhcmNoL2dyb3VwLXNlYXJjaC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XG4gICAgLS1wYWdlLW1hcmdpbjogdmFyKC0tYXBwLW5hcnJvdy1tYXJnaW4pO1xuICAgIC0tcGFnZS1iYWNrZ3JvdW5kOiB2YXIoLS1hcHAtYmFja2dyb3VuZCk7XG4gfVxuIFxuIGlvbi1zZWFyY2hiYXIge1xuICAgLS1ib3JkZXItcmFkaXVzOiAzMHB4O1xuIH1cblxuLmZpbHRlcnMtdG9vbGJhciB7XG4gICAtLXBhZGRpbmctc3RhcnQ6IHZhcigtLXBhZ2UtbWFyZ2luKTtcbiAgIC0tcGFkZGluZy1lbmQ6IHZhcigtLXBhZ2UtbWFyZ2luKTtcbiAgIC8vIC0tcGFkZGluZy10b3A6IHZhcigtLXBhZ2UtbWFyZ2luKTtcblxuICAgLnNlYXJjaGJhci1yb3cge1xuICAgICAtLWlvbi1ncmlkLWNvbHVtbi1wYWRkaW5nOiAwcHg7XG4gXG4gICAgIC5zZWFyY2hiYXIge1xuICAgICAgIHBhZGRpbmc6IDBweDtcbiAgICAgICBoZWlnaHQ6MzBweDtcbiAgICAgICBib3JkZXItcmFkaXVzOiAyMHB4O1xuICAgICAgIC8vIG92ZXJyaWRlIElvbmljIGZpeGVkIGhlaWdodFxuICAgICAgIC8vIGhlaWdodDogMTAwJTtcbiAgICAgICAvLyBMZWFybiBtb3JlIGFib3V0IENTUyBjb250YWluIHByb3BlcnR5IGhlcmU6IGh0dHBzOi8vdGVybXZhZGVyLmdpdGh1Yi5pby9jc3MtY29udGFpbi9cbiAgICAgICAvLyAgY29udGFpbjogY29udGVudDtcbiAgICAgfVxuXG4gICB9XG5cbiB9XG5cbiAuaW5wdXRzLWxpc3Qge1xuICAgIHBhZGRpbmc6IHZhcigtLXBhZ2UtbWFyZ2luKSB2YXIoLS1wYWdlLW1hcmdpbikgY2FsYyh2YXIoLS1wYWdlLW1hcmdpbikgKiAyKTtcblxuICAgIC5oZWFkZXIge1xuICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgIH1cbiAgICAuZXJyb3ItY29udGFpbmVyIHtcbiAgICAgIC5lcnJvci1tZXNzYWdlIHtcbiAgICAgICAgbWFyZ2luOiBjYWxjKHZhcigtLXBhZ2UtbWFyZ2luKSAvIDIpIDBweDtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYW5nZXIpO1xuICAgICAgICBmb250LXNpemU6IDE0cHg7XG5cbiAgICAgICAgaW9uLWljb24ge1xuICAgICAgICAgIHBhZGRpbmctaW5saW5lLWVuZDogY2FsYyh2YXIoLS1wYWdlLW1hcmdpbikgLyAyKTtcbiAgICAgICAgICBmbGV4LXNocmluazogMDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgfVxuICB9XG5cbiAgLnRvZ2dsZS10ZXh0IHtcbiAgICBmb250LWZhbWlseTogJ0hlbHZldGljYU5ldWUnLCAnSGVsdmV0aWNhIE5ldWUnLCBIZWx2ZXRpY2EsICdSb2JvdG8nLCAnU2Vnb2UgVUknLCBBcmlhbCwgc2Fucy1zZXJpZjtcbiAgICBmb250LXdlaWdodDogNDAwO1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICBsaW5lLWhlaWdodDogMTlweDtcbiAgICAtd2Via2l0LWZvbnQtc21vb3RoaW5nOiBzdWJwaXhlbC1hbnRpYWxpYXNlZDtcbiAgICAtbW96LW9zeC1mb250LXNtb290aGluZzogYXV0bztcbiAgICBvdmVyZmxvdzogaGlkZGVuOyBcbiAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgXG4gICAgLmdyb3VwLXN1YmhlYWRpbmcge1xuICAgICAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgICAgIGZvbnQtc2l6ZTogMTBweDtcbiAgICB9XG4gIH0iXX0= */\";","export default \"<ion-header>\\n  <ion-toolbar class=\\\"filters-toolbar\\\">\\n    <ion-row class=\\\"searchbar-row\\\" align-items-center>\\n    <ion-col>\\n        <ion-searchbar [(ngModel)]=\\\"searchGroup\\\" mode=\\\"ios\\\" (ionCancel)=\\\"onCancel($event)\\\" class=\\\"searchbar\\\" showCancelButton=\\\"always\\\" placeholder=\\\"Search in {{category.name}}...\\\"></ion-searchbar>\\n      </ion-col>\\n    </ion-row>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-list class=\\\"inputs-list\\\" lines=\\\"full\\\">\\n    <ion-list-header class=\\\"header\\\">\\n      Search in category &nbsp;<ion-label><b>{{category.name}}</b></ion-label>\\n    </ion-list-header>\\n    <ion-list lines=\\\"none\\\">\\n      <ion-item text-wrap *ngFor=\\\"let group of groups | groupFilter:searchGroup\\\"  (click)=\\\"viewGroup(group.key)\\\">\\n        <ion-avatar slot=\\\"start\\\">\\n          <ion-img src=\\\"{{group.img}}\\\"></ion-img>\\n        </ion-avatar>\\n        <ion-label class=\\\"toggle-text\\\">\\n            <ion-label class=\\\"ion-no-padding\\\">{{group.name}}<br/>\\n            <span class=\\\"group-subheading\\\">{{group.members.length}} Members · <span *ngIf=\\\"group.posts\\\">{{group.posts.length}}</span> <span *ngIf=\\\"!group.posts\\\">0</span> posts</span></ion-label>\\n          </ion-label>\\n          <ion-button *ngIf=\\\"!group.isUserMember\\\" slot=\\\"end\\\" color=\\\"secondary\\\" fill=\\\"outline\\\" class=\\\"join\\\" >Join</ion-button>\\n          <ion-button *ngIf=\\\"group.isUserMember\\\" slot=\\\"end\\\" color=\\\"secondary\\\" class=\\\"join\\\" >Joined</ion-button>\\n        </ion-item>\\n    </ion-list>\\n  </ion-list>\\n</ion-content>\\n\";"]}