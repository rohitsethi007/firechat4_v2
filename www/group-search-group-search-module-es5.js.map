{"version":3,"sources":["webpack:///src/app/group-search/group-search.module.ts","webpack:///src/app/group-search/group-search.page.ts","webpack:///src/app/group-search/group-search.page.scss","webpack:///src/app/group-search/group-search.page.html"],"names":["routes","path","component","GroupSearchPageModule","imports","forChild","declarations","GroupSearchPage","route","router","dataProvider","firestore","navCtrl","category","getCurrentNavigation","extras","state","loggedInUserId","getCurrentUserId","collection","ref","where","key","get","then","groupsRes","groups","forEach","f","group","data","id","members","some","e","isUserMember","push","back","groupId","navigateByUrl","selector","template"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASA,UAAMA,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAE;AAFb,OADqB,CAAvB;;UAiBaC,qBAAqB;AAAA;AAAA,O;;AAArBA,2BAAqB,6DAVjC,+DAAS;AACRC,eAAO,EAAE,CACP,4DADO,EAEP,0DAFO,EAGP,0DAHO,EAIP,mEAJO,EAKP,6DAAaC,QAAb,CAAsBL,MAAtB,CALO,CADD;AAQRM,oBAAY,EAAE,CAAC,kEAAD;AARN,OAAT,CAUiC,GAArBH,qBAAqB,CAArB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCfAI,eAAe;AAO1B,iCACUC,KADV,EAEUC,MAFV,EAGSC,YAHT,EAIUC,SAJV,EAKUC,OALV,EAKgC;AAAA;;AAJtB,eAAAJ,KAAA,GAAAA,KAAA;AACA,eAAAC,MAAA,GAAAA,MAAA;AACD,eAAAC,YAAA,GAAAA,YAAA;AACC,eAAAC,SAAA,GAAAA,SAAA;AACA,eAAAC,OAAA,GAAAA,OAAA;AAER,eAAKC,QAAL,GAAgB,KAAKJ,MAAL,CAAYK,oBAAZ,GAAmCC,MAAnC,CAA0CC,KAA1C,CAAgDH,QAAhE;AACA,eAAKI,cAAL,GAAsB,KAAKP,YAAL,CAAkBQ,gBAAlB,EAAtB;AACD;;AAhByB;AAAA;AAAA,qCAkBf;AAAA;;AACT,iBAAKP,SAAL,CAAeQ,UAAf,CAA0B,QAA1B,EAAoCC,GAApC,CACCC,KADD,CACO,YADP,EACqB,IADrB,EAC2B,KAAKR,QAAL,CAAcS,GADzC,EAECC,GAFD,GAEOC,IAFP,CAEY,UAACC,SAAD,EAAoB;AAC9B,mBAAI,CAACC,MAAL,GAAc,EAAd;AACAD,uBAAS,CAACE,OAAV,CAAkB,UAAAC,CAAC,EAAI;AACrB,oBAAIC,KAAJ;AACAA,qBAAK,GAAGD,CAAC,CAACE,IAAF,EAAR;AACAD,qBAAK,CAACP,GAAN,GAAYM,CAAC,CAACG,EAAd;;AAEA,oBAAIF,KAAK,CAACG,OAAN,CAAcC,IAAd,CAAmB,UAAAC,CAAC;AAAA,yBAAIA,CAAC,KAAK,KAAI,CAACjB,cAAf;AAAA,iBAApB,CAAJ,EAAyD;AACvDY,uBAAK,CAACM,YAAN,GAAqB,IAArB;AACD,iBAFD,MAEO;AACLN,uBAAK,CAACM,YAAN,GAAqB,KAArB;AACD;;AACD,qBAAI,CAACT,MAAL,CAAYU,IAAZ,CAAiBP,KAAjB;AACD,eAXD;AAYD,aAhBD;AAiBD;AApCyB;AAAA;AAAA,qCAsCf;AACT,iBAAKjB,OAAL,CAAayB,IAAb;AACD,WAxCyB,CA0C1B;;AA1C0B;AAAA;AAAA,oCA2ChBC,OA3CgB,EA2CP;AACjB,iBAAK7B,MAAL,CAAY8B,aAAZ,CAA0B,WAAWD,OAArC;AACD;AA7CyB;;AAAA;AAAA,S;;;;gBAVnB;;gBAAgB;;gBAChB;;gBACA;;gBACA;;;;AAOI/B,qBAAe,6DAL3B,gEAAU;AACTiC,gBAAQ,EAAE,kBADD;AAETC,gBAAQ,EAAR,0EAFS;;AAAA,OAAV,CAK2B,E,+EAQT,8D,EACC,sD,EACK,kE,EACF,wE,EACF,4D,EAZO,GAAflC,eAAe,CAAf;;;;;;;;;;;;;;;;ACXb;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA","file":"group-search-group-search-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport { SharedModule } from '../services/share.module';\nimport { IonicModule } from '@ionic/angular';\n\nimport { GroupSearchPage } from './group-search.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: GroupSearchPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SharedModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [GroupSearchPage]\n})\nexport class GroupSearchPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { DataService } from '../services/data.service';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { NavController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-group-search',\n  templateUrl: './group-search.page.html',\n  styleUrls: ['./group-search.page.scss'],\n})\nexport class GroupSearchPage implements OnInit {\n  groupSearch: any;\n  category: any;\n  groups: any;\n  loggedInUserId: any;\n  searchGroup: any;\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    public dataProvider: DataService,\n    private firestore: AngularFirestore,\n    private navCtrl: NavController\n  ) {\n    this.category = this.router.getCurrentNavigation().extras.state.category;\n    this.loggedInUserId = this.dataProvider.getCurrentUserId();\n  }\n \n  ngOnInit() {\n    this.firestore.collection('groups').ref\n    .where('categoryId', '==', this.category.key)\n    .get().then((groupsRes: any) => {\n      this.groups = [];\n      groupsRes.forEach(f => {\n        let group: any;\n        group = f.data();\n        group.key = f.id;\n\n        if (group.members.some(e => e === this.loggedInUserId )) {\n          group.isUserMember = true;\n        } else {\n          group.isUserMember = false;\n        }\n        this.groups.push(group);\n      });\n    });\n  }\n\n  onCancel() {\n    this.navCtrl.back();\n  }\n\n  // Open Group Chat.\n  viewGroup(groupId) {\n    this.router.navigateByUrl('group/' + groupId);\n  }\n}\n","export default \":host {\\n  --page-margin: var(--app-narrow-margin);\\n  --page-background: var(--app-background);\\n}\\n\\nion-searchbar {\\n  --border-radius: 30px;\\n}\\n\\n.filters-toolbar {\\n  --padding-start: var(--page-margin);\\n  --padding-end: var(--page-margin);\\n}\\n\\n.filters-toolbar .searchbar-row {\\n  --ion-grid-column-padding: 0px;\\n}\\n\\n.filters-toolbar .searchbar-row .searchbar {\\n  padding: 0px;\\n  height: 30px;\\n  border-radius: 20px;\\n}\\n\\n.inputs-list {\\n  padding: var(--page-margin) var(--page-margin) calc(var(--page-margin) * 2);\\n}\\n\\n.inputs-list .header {\\n  font-size: 14px;\\n}\\n\\n.inputs-list .error-container .error-message {\\n  margin: calc(var(--page-margin) / 2) 0px;\\n  display: flex;\\n  align-items: center;\\n  color: var(--ion-color-danger);\\n  font-size: 14px;\\n}\\n\\n.inputs-list .error-container .error-message ion-icon {\\n  -webkit-padding-end: calc(var(--page-margin) / 2);\\n          padding-inline-end: calc(var(--page-margin) / 2);\\n  flex-shrink: 0;\\n}\\n\\n.toggle-text {\\n  font-family: \\\"HelveticaNeue\\\", \\\"Helvetica Neue\\\", Helvetica, \\\"Roboto\\\", \\\"Segoe UI\\\", Arial, sans-serif;\\n  font-weight: 400;\\n  font-size: 14px;\\n  line-height: 19px;\\n  -webkit-font-smoothing: subpixel-antialiased;\\n  -moz-osx-font-smoothing: auto;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\n\\n.toggle-text .group-subheading {\\n  font-weight: 400;\\n  font-size: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZ3JvdXAtc2VhcmNoL2dyb3VwLXNlYXJjaC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSx1Q0FBQTtFQUNBLHdDQUFBO0FBQ0o7O0FBRUM7RUFDRSxxQkFBQTtBQUNIOztBQUVBO0VBQ0csbUNBQUE7RUFDQSxpQ0FBQTtBQUNIOztBQUVHO0VBQ0UsOEJBQUE7QUFBTDs7QUFFSztFQUNFLFlBQUE7RUFDQSxZQUFBO0VBQ0EsbUJBQUE7QUFBUDs7QUFXQztFQUNHLDJFQUFBO0FBUko7O0FBVUk7RUFDRSxlQUFBO0FBUk47O0FBV007RUFDRSx3Q0FBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLDhCQUFBO0VBQ0EsZUFBQTtBQVRSOztBQVdRO0VBQ0UsaURBQUE7VUFBQSxnREFBQTtFQUNBLGNBQUE7QUFUVjs7QUFlRTtFQUNFLGtHQUFBO0VBQ0EsZ0JBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7RUFDQSw0Q0FBQTtFQUNBLDZCQUFBO0VBQ0EsZ0JBQUE7RUFDQSx1QkFBQTtBQVpKOztBQWNJO0VBQ0UsZ0JBQUE7RUFDQSxlQUFBO0FBWk4iLCJmaWxlIjoic3JjL2FwcC9ncm91cC1zZWFyY2gvZ3JvdXAtc2VhcmNoLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcbiAgICAtLXBhZ2UtbWFyZ2luOiB2YXIoLS1hcHAtbmFycm93LW1hcmdpbik7XG4gICAgLS1wYWdlLWJhY2tncm91bmQ6IHZhcigtLWFwcC1iYWNrZ3JvdW5kKTtcbiB9XG4gXG4gaW9uLXNlYXJjaGJhciB7XG4gICAtLWJvcmRlci1yYWRpdXM6IDMwcHg7XG4gfVxuXG4uZmlsdGVycy10b29sYmFyIHtcbiAgIC0tcGFkZGluZy1zdGFydDogdmFyKC0tcGFnZS1tYXJnaW4pO1xuICAgLS1wYWRkaW5nLWVuZDogdmFyKC0tcGFnZS1tYXJnaW4pO1xuICAgLy8gLS1wYWRkaW5nLXRvcDogdmFyKC0tcGFnZS1tYXJnaW4pO1xuXG4gICAuc2VhcmNoYmFyLXJvdyB7XG4gICAgIC0taW9uLWdyaWQtY29sdW1uLXBhZGRpbmc6IDBweDtcbiBcbiAgICAgLnNlYXJjaGJhciB7XG4gICAgICAgcGFkZGluZzogMHB4O1xuICAgICAgIGhlaWdodDozMHB4O1xuICAgICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7XG4gICAgICAgLy8gb3ZlcnJpZGUgSW9uaWMgZml4ZWQgaGVpZ2h0XG4gICAgICAgLy8gaGVpZ2h0OiAxMDAlO1xuICAgICAgIC8vIExlYXJuIG1vcmUgYWJvdXQgQ1NTIGNvbnRhaW4gcHJvcGVydHkgaGVyZTogaHR0cHM6Ly90ZXJtdmFkZXIuZ2l0aHViLmlvL2Nzcy1jb250YWluL1xuICAgICAgIC8vICBjb250YWluOiBjb250ZW50O1xuICAgICB9XG5cbiAgIH1cblxuIH1cblxuIC5pbnB1dHMtbGlzdCB7XG4gICAgcGFkZGluZzogdmFyKC0tcGFnZS1tYXJnaW4pIHZhcigtLXBhZ2UtbWFyZ2luKSBjYWxjKHZhcigtLXBhZ2UtbWFyZ2luKSAqIDIpO1xuXG4gICAgLmhlYWRlciB7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgfVxuICAgIC5lcnJvci1jb250YWluZXIge1xuICAgICAgLmVycm9yLW1lc3NhZ2Uge1xuICAgICAgICBtYXJnaW46IGNhbGModmFyKC0tcGFnZS1tYXJnaW4pIC8gMikgMHB4O1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWRhbmdlcik7XG4gICAgICAgIGZvbnQtc2l6ZTogMTRweDtcblxuICAgICAgICBpb24taWNvbiB7XG4gICAgICAgICAgcGFkZGluZy1pbmxpbmUtZW5kOiBjYWxjKHZhcigtLXBhZ2UtbWFyZ2luKSAvIDIpO1xuICAgICAgICAgIGZsZXgtc2hyaW5rOiAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB9XG4gIH1cblxuICAudG9nZ2xlLXRleHQge1xuICAgIGZvbnQtZmFtaWx5OiAnSGVsdmV0aWNhTmV1ZScsICdIZWx2ZXRpY2EgTmV1ZScsIEhlbHZldGljYSwgJ1JvYm90bycsICdTZWdvZSBVSScsIEFyaWFsLCBzYW5zLXNlcmlmO1xuICAgIGZvbnQtd2VpZ2h0OiA0MDA7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIGxpbmUtaGVpZ2h0OiAxOXB4O1xuICAgIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IHN1YnBpeGVsLWFudGlhbGlhc2VkO1xuICAgIC1tb3otb3N4LWZvbnQtc21vb3RoaW5nOiBhdXRvO1xuICAgIG92ZXJmbG93OiBoaWRkZW47IFxuICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICBcbiAgICAuZ3JvdXAtc3ViaGVhZGluZyB7XG4gICAgICBmb250LXdlaWdodDogNDAwO1xuICAgICAgZm9udC1zaXplOiAxMHB4O1xuICAgIH1cbiAgfSJdfQ== */\";","export default \"<ion-header>\\n  <ion-toolbar class=\\\"filters-toolbar\\\">\\n    <ion-row class=\\\"searchbar-row\\\" align-items-center>\\n    <ion-col>\\n        <ion-searchbar [(ngModel)]=\\\"searchGroup\\\" mode=\\\"ios\\\" (ionCancel)=\\\"onCancel($event)\\\" class=\\\"searchbar\\\" showCancelButton=\\\"always\\\" placeholder=\\\"Search in {{category.name}}...\\\"></ion-searchbar>\\n      </ion-col>\\n    </ion-row>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-list class=\\\"inputs-list\\\" lines=\\\"full\\\">\\n    <ion-list-header class=\\\"header\\\">\\n      Search in category &nbsp;<ion-label><b>{{category.name}}</b></ion-label>\\n    </ion-list-header>\\n    <ion-list lines=\\\"none\\\">\\n      <ion-item text-wrap *ngFor=\\\"let group of groups | groupFilter:searchGroup\\\"  (click)=\\\"viewGroup(group.key)\\\">\\n        <ion-avatar slot=\\\"start\\\">\\n          <ion-img src=\\\"{{group.img}}\\\"></ion-img>\\n        </ion-avatar>\\n        <ion-label class=\\\"toggle-text\\\">\\n            <ion-label class=\\\"ion-no-padding\\\">{{group.name}}<br/>\\n            <span class=\\\"group-subheading\\\">{{group.members.length}} Members · <span *ngIf=\\\"group.posts\\\">{{group.posts.length}}</span> <span *ngIf=\\\"!group.posts\\\">0</span> posts</span></ion-label>\\n          </ion-label>\\n          <ion-button *ngIf=\\\"!group.isUserMember\\\" slot=\\\"end\\\" color=\\\"secondary\\\" fill=\\\"outline\\\" class=\\\"join\\\" >Join</ion-button>\\n          <ion-button *ngIf=\\\"group.isUserMember\\\" slot=\\\"end\\\" color=\\\"secondary\\\" class=\\\"join\\\" >Joined</ion-button>\\n        </ion-item>\\n    </ion-list>\\n  </ion-list>\\n</ion-content>\\n\";"]}