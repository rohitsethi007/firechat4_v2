{"version":3,"sources":["./src/app/group/group.page.html","./src/app/group/group.module.ts","./src/app/group/group.page.scss","./src/app/group/group.page.ts"],"names":[],"mappings":"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","file":"group-group-module-es2015.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar color=\\\"secondary\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title (click)=\\\"groupInfo()\\\">{{title}}</ion-title>\\r\\n    <ion-buttons slot=\\\"end\\\"> \\r\\n      <ion-button *ngIf=\\\"loggedInUserIsMember == true\\\" (click)=\\\"showGroupOptions()\\\" ><ion-icon name=\\\"ellipsis-vertical\\\"></ion-icon></ion-button>\\r\\n   <!-- <ion-button *ngIf=\\\"loggedInUserIsMember == false\\\" (click)=\\\"joinGroup()\\\" >Join Group</ion-button>\\r\\n    <ion-button *ngIf=\\\"loggedInUserIsMember == true && tab=='posts'\\\" (click)=\\\"newPost()\\\" ><ion-icon name=\\\"add-circle-outline\\\"></ion-icon></ion-button>\\r\\n    <ion-button *ngIf=\\\"loggedInUserIsMember == true && tab=='polls'\\\" (click)=\\\"newPoll()\\\" ><ion-icon name=\\\"add-circle-outline\\\"></ion-icon></ion-button>\\r\\n\\t\\t<ion-button *ngIf=\\\"loggedInUserIsMember == true && tab=='resources'\\\" (click)=\\\"newResource()\\\" ><ion-icon name=\\\"add-circle-outline\\\"></ion-icon></ion-button>\\r\\n\\t\\t<ion-button *ngIf=\\\"loggedInUserIsMember == true && tab=='events'\\\" (click)=\\\"newEvent()\\\" ><ion-icon name=\\\"add-circle-outline\\\"></ion-icon></ion-button>\\r\\n\\t--></ion-buttons>\\r\\n\\r\\n  </ion-toolbar>\\r\\n\\r\\n  <ion-segment color=\\\"secondary\\\" padding [(ngModel)]=\\\"tab\\\" (ionChange)=\\\"segmentChanged($event)\\\">\\r\\n\\t\\t<!-- <ion-segment-button value=\\\"group\\\">\\r\\n  \\t\\t\\t<ion-icon name=\\\"chatbubbles\\\"></ion-icon>\\r\\n    </ion-segment-button> -->\\r\\n    <ion-segment-button value=\\\"posts\\\">\\r\\n      <ion-icon name=\\\"chatbubbles\\\"></ion-icon>\\r\\n      <span class=\\\"tab-title\\\">Posts</span>\\r\\n    </ion-segment-button>\\r\\n\\t\\t<ion-segment-button value=\\\"polls\\\">\\r\\n      <ion-icon name=\\\"podium\\\"></ion-icon>\\r\\n      <span class=\\\"tab-title\\\">Polls</span>\\r\\n\\t\\t</ion-segment-button>\\r\\n\\t\\t<ion-segment-button value=\\\"resources\\\">\\r\\n      <ion-icon name=\\\"library\\\"></ion-icon>\\r\\n      <span class=\\\"tab-title\\\">Resources</span>\\r\\n    </ion-segment-button>\\r\\n    <ion-segment-button value=\\\"events\\\">\\r\\n      <ion-icon name=\\\"calendar\\\"></ion-icon>\\r\\n      <span class=\\\"tab-title\\\">Events</span>\\r\\n    </ion-segment-button>\\r\\n\\t<!--\\t<ion-segment-button value=\\\"groupInfo\\\">\\r\\n      <ion-icon layout=\\\"icon-end\\\" name=\\\"ellipsis-vertical\\\"></ion-icon>\\r\\n\\t\\t</ion-segment-button>\\r\\n--></ion-segment>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <div [ngSwitch]=\\\"tab\\\" >\\r\\n    <!-- <div *ngSwitchCase=\\\"'group'\\\" >\\r\\n  <div class=\\\"messages\\\" #content>\\r\\n    <p class=\\\"center\\\" *ngIf=\\\"startIndex > 0\\\"><span tappable (click)=\\\"loadPreviousMessages()\\\">Load previous\\r\\n        messages</span></p>\\r\\n    <div *ngFor=\\\"let message of messagesToShow\\\">\\r\\n    \\r\\n      <div *ngIf=\\\"isSystemMessage(message)\\\" style=\\\"text-align:center; float: left; color:#ccc\\\">\\r\\n        <p>\\r\\n          <ion-icon name=\\\"{{message.icon}}\\\"></ion-icon>\\r\\n          {{message.message}} {{message.date | DateFormat}}\\r\\n        </p>\\r\\n      </div>\\r\\n \\r\\n      <div *ngIf=\\\"isSender(message) && !isSystemMessage(message)\\\" class=\\\"chatbox right\\\" (press)=\\\"onPress($event)\\\" (pressup)=\\\"onPressUp($event,message)\\\">\\r\\n\\r\\n        <div *ngIf=\\\"isSender(message) && !isSystemMessage(message)\\\">\\r\\n          <div class=\\\"right\\\" *ngIf=\\\"message.type == 'text'\\\"  (press)=\\\"onPress($event)\\\" (pressup)=\\\"onPressUp($event,message)\\\">\\r\\n            <p>{{message.message}}</p>\\r\\n            <span>{{message.date | DateFormat}}</span>\\r\\n          </div>\\r\\n          <div class=\\\"right\\\" *ngIf=\\\"message.type == 'location'\\\" [innerHtml]=\\\"message.message\\\"></div>\\r\\n          <div class=\\\"right\\\" *ngIf=\\\"message.type == 'contact'\\\" [innerHtml]=\\\"message.message\\\"></div>\\r\\n          <div class=\\\"right\\\" *ngIf=\\\"message.type == 'image'\\\">\\r\\n            <img tappable (click)=\\\"enlargeImage(message.url)\\\" src=\\\"{{message.url}}\\\" (load)=\\\"doScroll()\\\"\\r\\n              onError=\\\"this.src='./assets/images/default-dp.png'\\\" />\\r\\n            <span>{{message.date | DateFormat}}</span>\\r\\n          </div>\\r\\n          <div *ngIf=\\\"message.type == 'video'\\\">\\r\\n            <video controls width=\\\"100%\\\">\\r\\n              <source src=\\\"{{message.message}}\\\" type=\\\"video/mp4\\\">\\r\\n            </video>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div *ngIf=\\\"!isSender(message) && !isSystemMessage(message)\\\" class=\\\"chatbox left\\\">\\r\\n        <img src=\\\"{{message.avatar}}\\\" tappable (click)=\\\"viewUser(message.sender)\\\" (load)=\\\"doScroll()\\\"\\r\\n          onError=\\\"this.src='./assets/images/default-dp.png'\\\" style=\\\"height:30px; border-radius: 100%;float:left;\\\" />\\r\\n        <div class=\\\"left\\\" *ngIf=\\\"message.type == 'text'\\\">\\r\\n          <p>{{message.message}}</p>\\r\\n          <span>{{message.date | DateFormat}}</span>\\r\\n        </div>\\r\\n        <div class=\\\"left\\\" *ngIf=\\\"message.type == 'location'\\\" [innerHtml]=\\\"message.message\\\"></div>\\r\\n        <div class=\\\"left\\\" *ngIf=\\\"message.type == 'contact'\\\" [innerHtml]=\\\"message.message\\\"></div>\\r\\n        <div class=\\\"left\\\" *ngIf=\\\"message.type == 'image'\\\">\\r\\n          <img tappable (click)=\\\"enlargeImage(message.url)\\\" src=\\\"{{message.url}}\\\"\\r\\n            onError=\\\"this.src='./assets/images/default-dp.png'\\\" (load)=\\\"doScroll()\\\" />\\r\\n          <span>{{message.date | DateFormat}}</span>\\r\\n        </div>\\r\\n        <div *ngIf=\\\"message.type == 'video'\\\">\\r\\n          <video controls width=\\\"100%\\\">\\r\\n            <source src=\\\"{{message.message}}\\\" type=\\\"video/mp4\\\">\\r\\n          </video>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n    </div>\\r\\n  </div>\\r\\n  </div> -->\\r\\n  <div *ngSwitchCase=\\\"'posts'\\\">\\r\\n    <!-- No Posts to show -->\\r\\n     <div class=\\\"empty-list\\\" *ngIf=\\\"posts && posts.length == 0\\\">\\r\\n     <h1><ion-icon name=\\\"chatbubbles-outline\\\"></ion-icon></h1>\\r\\n     <p>No new Posts added to this group.</p>\\r\\n     </div>\\r\\n     <!-- Show Posts -->\\r\\n     <div *ngIf=\\\"posts && posts.length > 0\\\" >\\r\\n     <div class=\\\"listing-item\\\" *ngFor=\\\"let item of posts | reverse\\\" >\\r\\n      <ion-card>\\r\\n        <ion-card-header>\\r\\n           <ion-card-subtitle (click)=\\\"viewPost(item)\\\">\\r\\n            <img class=\\\"subtitle\\\" src=\\\"{{item.avatar}}\\\" onError=\\\"this.src='./assets/images/default-dp.png'\\\" /> {{item.senderName}} posted {{item.date | DateFormat}}\\r\\n            <img *ngIf=\\\"item.showNewIcon\\\" class=\\\"newIcon\\\" src=\\\"./assets/icon/new.svg\\\" /> \\r\\n          </ion-card-subtitle>\\r\\n          <ion-card-title>{{item.title}}</ion-card-title>\\r\\n        </ion-card-header>\\r\\n        <ion-card-content class=\\\"message\\\" (click)=\\\"viewPost(item)\\\">\\r\\n          {{item.message}}\\r\\n        </ion-card-content>\\r\\n\\r\\n            <ion-row >\\r\\n              <ion-col>\\r\\n                <ion-buttons>\\r\\n                  <ion-button (click)=\\\"submitReactionPost(item, 'Thanks')\\\">\\r\\n                 <div *ngIf=\\\"item.showSmiley\\\"><ion-icon size=\\\"small\\\" class=\\\"icon\\\" src=\\\"./assets/icon/smile-active.svg\\\" ></ion-icon> <span class=\\\"text\\\">Thanks</span></div> \\r\\n                 <div *ngIf=\\\"!item.showSmiley\\\"><ion-icon size=\\\"small\\\" class=\\\"icon\\\"  src=\\\"./assets/icon/smile.svg\\\" ></ion-icon> <span class=\\\"text\\\">Thanks</span></div> \\r\\n                </ion-button>\\r\\n                </ion-buttons> \\r\\n              </ion-col>\\r\\n              <ion-col>\\r\\n                <ion-buttons>\\r\\n                  <ion-button (click)=\\\"submitReactionPost(item, 'Hug')\\\">\\r\\n                 <div *ngIf=\\\"item.showHug\\\"><ion-icon size=\\\"small\\\" class=\\\"icon\\\" src=\\\"./assets/icon/hug-active.svg\\\" ></ion-icon> <span class=\\\"text\\\">Hug</span></div> \\r\\n                 <div *ngIf=\\\"!item.showHug\\\"><ion-icon size=\\\"small\\\" class=\\\"icon\\\"  src=\\\"./assets/icon/hug.svg\\\" ></ion-icon> <span class=\\\"text\\\">Hug</span></div> \\r\\n                </ion-button>\\r\\n                </ion-buttons> \\r\\n              </ion-col>\\r\\n              <ion-col>\\r\\n                <ion-buttons>\\r\\n                  <ion-button (click)=\\\"showReactionsList(item)\\\">\\r\\n                <div><ion-icon size=\\\"small\\\" src=\\\"./assets/icon/smile-active.svg\\\" class=\\\"icon\\\"></ion-icon><ion-icon size=\\\"small\\\" src=\\\"./assets/icon/hug-active.svg\\\" class=\\\"icon\\\"></ion-icon> <span class=\\\"text\\\">{{item.totalReactionCount}}</span></div>\\r\\n              </ion-button>\\r\\n            </ion-buttons> \\r\\n              </ion-col>\\r\\n              <ion-col>\\r\\n                <ion-buttons>\\r\\n                  <ion-button>\\r\\n                <div><ion-icon size=\\\"small\\\" src=\\\"./assets/icon/chat.svg\\\" class=\\\"icon\\\"></ion-icon> <span class=\\\"text\\\">{{item.totalReviewCount}}</span></div>\\r\\n              </ion-button>\\r\\n            </ion-buttons> \\r\\n              </ion-col>\\r\\n            </ion-row>\\r\\n\\r\\n      </ion-card>\\r\\n    </div>\\r\\n     </div>\\r\\n    </div>\\r\\n     <div *ngSwitchCase=\\\"'polls'\\\">\\r\\n    <!-- No polls to show -->\\r\\n     <div class=\\\"empty-list\\\" *ngIf=\\\"polls && polls.length == 0\\\">\\r\\n     <h1><ion-icon name=\\\"md-chatbubbles\\\"></ion-icon></h1>\\r\\n     <p>No new polls yet.</p>\\r\\n     </div>\\r\\n     <!-- Show polls -->\\r\\n     <div *ngIf=\\\"polls && polls.length > 0\\\">\\r\\n      <div class=\\\"listing-item\\\" *ngFor=\\\"let item of polls  | reverse\\\">\\r\\n     <ion-card>\\r\\n       <ion-card-header (click)=\\\"viewPoll(item)\\\">\\r\\n            <ion-card-subtitle>\\r\\n             <img class=\\\"subtitle\\\" src=\\\"{{item.addedByUser.addedByImg}}\\\" onError=\\\"this.src='./assets/images/default-dp.png'\\\" /> {{item.addedByUser.addedByUsername}}, posted {{item.dateCreated | DateFormat}}\\r\\n             <img *ngIf=\\\"item.showNewIcon\\\" class=\\\"newIcon\\\" src=\\\"./assets/icon/new.svg\\\" /> \\r\\n           </ion-card-subtitle>\\r\\n           <ion-card-title>{{item.description}}</ion-card-title>\\r\\n         </ion-card-header>\\r\\n       <ion-row class=\\\"info-row\\\" *ngFor=\\\"let pollOption of item.pollOptions\\\">\\r\\n         <ion-col class=\\\"poll-option-col\\\">\\r\\n         <!--<button ion-button color=\\\"primary\\\" clear small icon-start> -->\\r\\n            <div><ion-icon size=\\\"small\\\" class=\\\"icon\\\" src=\\\"./assets/icon/checked.svg\\\" ></ion-icon> <span class=\\\"text\\\">{{pollOption.name}}</span></div>\\r\\n           \\r\\n         <!--</button>-->\\r\\n         </ion-col>\\r\\n       </ion-row>\\r\\n             <ion-row class=\\\"info-row\\\" >\\r\\n\\t\\t\\t\\t<ion-col size=\\\"8\\\">\\r\\n                  <span class=\\\"text\\\">Poll ends {{item.dateEnding | date:'fullDate'}}</span> \\r\\n               </ion-col>\\r\\n\\t\\t\\t   <ion-col size=\\\"2\\\">\\r\\n\\t\\t\\t   </ion-col>\\r\\n               <ion-col size=\\\"2\\\">\\r\\n                 <div><span class=\\\"text\\\">{{item.totalPollCount}} voted</span></div>\\r\\n               </ion-col>\\r\\n             </ion-row>\\r\\n      </ion-card>\\r\\n   </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div *ngSwitchCase=\\\"'resources'\\\">\\r\\n    <!-- No Resources to show -->\\r\\n     <div class=\\\"empty-list\\\" *ngIf=\\\"resources && resources.length == 0\\\">\\r\\n     <h1><ion-icon name=\\\"chatbubbles-outline\\\"></ion-icon></h1>\\r\\n     <p>No new Resources added to this group.</p>\\r\\n     </div>\\r\\n     <!-- Show Resources -->\\r\\n     <div *ngIf=\\\"resources && resources.length > 0\\\" >\\r\\n      <div class=\\\"listing-item\\\" *ngFor=\\\"let item of resources\\\">\\r\\n       <div *ngIf=\\\"item?.type == 'contact'\\\">\\r\\n     <ion-card>\\r\\n        <ion-card-header>\\r\\n             <ion-card-subtitle (click)=\\\"viewResource(item)\\\">\\r\\n              <img class=\\\"subtitle\\\" src=\\\"{{item.addedByUser.addedByImg}}\\\" onError=\\\"this.src='./assets/images/default-dp.png'\\\" /> {{item.addedByUser.addedByUsername}}, posted {{item.dateCreated | DateFormat}}\\r\\n              <img *ngIf=\\\"item.showNewIcon\\\" class=\\\"newIcon\\\" src=\\\"./assets/icon/new.svg\\\" /> \\r\\n            </ion-card-subtitle>\\r\\n            <ion-card-title>{{item.title}}</ion-card-title>\\r\\n          </ion-card-header>\\r\\n              <ion-card-content class=\\\"message\\\" (click)=\\\"viewResource(item)\\\">\\r\\n\\t\\t\\t   {{item.name}}<br/>\\r\\n\\t\\t\\t   {{item.address}}<br/><br/>\\r\\n\\t\\t\\t   {{item.email}}<br/>\\r\\n\\t\\t\\t   {{item.phones}}<br/>\\r\\n         </ion-card-content>\\r\\n              <ion-row>\\r\\n         <ion-col class=\\\"reactions-col\\\">\\r\\n                 <ion-buttons>\\r\\n                   <ion-button (click)=\\\"submitReactionResource(item, 'Bookmark')\\\">\\r\\n                  <div *ngIf=\\\"item.showBookmark\\\"><ion-icon size=\\\"small\\\" class=\\\"icon\\\" src=\\\"./assets/icon/bookmark-active.svg\\\" ></ion-icon> <span class=\\\"text\\\">Bookmark</span></div> \\r\\n                  <div *ngIf=\\\"!item.showBookmark\\\"><ion-icon size=\\\"small\\\" class=\\\"icon\\\"  src=\\\"./assets/icon/bookmark.svg\\\" ></ion-icon> <span class=\\\"text\\\">Bookmark</span></div> \\r\\n                 </ion-button>\\r\\n                 </ion-buttons> \\r\\n               </ion-col>\\r\\n         <ion-col class=\\\"reactions-col\\\">\\r\\n                 <ion-buttons>\\r\\n                   <ion-button (click)=\\\"submitReactionResource(item, 'Thanks')\\\">\\r\\n                  <div *ngIf=\\\"item.showSmiley\\\"><ion-icon size=\\\"small\\\" class=\\\"icon\\\" src=\\\"./assets/icon/smile-active.svg\\\" ></ion-icon> <span class=\\\"text\\\">Thanks</span></div> \\r\\n                  <div *ngIf=\\\"!item.showSmiley\\\"><ion-icon size=\\\"small\\\" class=\\\"icon\\\"  src=\\\"./assets/icon/smile.svg\\\" ></ion-icon> <span class=\\\"text\\\">Thanks</span></div> \\r\\n                 </ion-button>\\r\\n                 </ion-buttons> \\r\\n               </ion-col>\\r\\n          <ion-col class=\\\"reactions-col\\\">\\r\\n                 <ion-buttons>\\r\\n                   <ion-button (click)=\\\"showResourceReactionsList(item)\\\">\\r\\n                 <div><ion-icon size=\\\"small\\\" src=\\\"./assets/icon/bookmark-active.svg\\\" class=\\\"icon\\\"></ion-icon><ion-icon size=\\\"small\\\" src=\\\"./assets/icon/smile-active.svg\\\" class=\\\"icon\\\"></ion-icon><span class=\\\"text\\\">{{item.totalReactionCount}}</span></div>\\r\\n               </ion-button>\\r\\n             </ion-buttons> \\r\\n               </ion-col>\\r\\n               <ion-col class=\\\"reactions-col\\\">\\r\\n                 <ion-buttons>\\r\\n                   <ion-button>\\r\\n                    <div><ion-icon size=\\\"small\\\" src=\\\"./assets/icon/chat.svg\\\" class=\\\"icon\\\"></ion-icon> <span class=\\\"text\\\">{{item.totalReviewCount}}</span></div>\\r\\n                  </ion-button>\\r\\n             </ion-buttons> \\r\\n               </ion-col>\\r\\n              </ion-row>\\r\\n       </ion-card>\\r\\n       </div>\\r\\n       <div *ngIf=\\\"item?.type == 'weblink'\\\">\\r\\n        <ion-card>\\r\\n            <ion-card-header>\\r\\n               <ion-card-subtitle (click)=\\\"viewResource(item)\\\">\\r\\n                <img class=\\\"subtitle\\\" src=\\\"{{item.addedByUser.addedByImg}}\\\" onError=\\\"this.src='./assets/images/default-dp.png'\\\" /> {{item.addedByUser.addedByUsername}}, posted {{item.dateCreated | DateFormat}}\\r\\n                <img *ngIf=\\\"item.showNewIcon\\\" class=\\\"newIcon\\\" src=\\\"./assets/icon/new.svg\\\" /> \\r\\n              </ion-card-subtitle>\\r\\n              <ion-card-title>{{item.title}}</ion-card-title>\\r\\n            </ion-card-header>\\r\\n         <ion-card-content class=\\\"message\\\" (click)=\\\"viewResource(item)\\\">\\r\\n        <app-text-shell animation=\\\"bouncing\\\" [data]=\\\"item.metatitle\\\"></app-text-shell><br/>\\r\\n        <img [src]=\\\"item.metaicon\\\"/> \\r\\n        <app-text-shell animation=\\\"bouncing\\\" [data]=\\\"item.metadescription\\\"></app-text-shell>\\r\\n        <app-text-shell animation=\\\"bouncing\\\" [data]=\\\"item.metasite\\\"></app-text-shell>\\r\\n           </ion-card-content>\\r\\n  \\r\\n                       <ion-row>\\r\\n           <ion-col class=\\\"reactions-col\\\">\\r\\n                   <ion-buttons>\\r\\n                     <ion-button (click)=\\\"submitReactionResource(item, 'Bookmark')\\\">\\r\\n                    <div *ngIf=\\\"item.showBookmark\\\"><ion-icon size=\\\"small\\\" class=\\\"icon\\\" src=\\\"./assets/icon/bookmark-active.svg\\\" ></ion-icon> <span class=\\\"text\\\">Bookmark</span></div> \\r\\n                    <div *ngIf=\\\"!item.showBookmark\\\"><ion-icon size=\\\"small\\\" class=\\\"icon\\\"  src=\\\"./assets/icon/bookmark.svg\\\" ></ion-icon> <span class=\\\"text\\\">Bookmark</span></div> \\r\\n                   </ion-button>\\r\\n                   </ion-buttons> \\r\\n                 </ion-col>\\r\\n           <ion-col class=\\\"reactions-col\\\">\\r\\n                   <ion-buttons>\\r\\n                     <ion-button (click)=\\\"submitReactionResource(item, 'Thanks')\\\">\\r\\n                    <div *ngIf=\\\"item.showSmiley\\\"><ion-icon size=\\\"small\\\" class=\\\"icon\\\" src=\\\"./assets/icon/smile-active.svg\\\" ></ion-icon> <span class=\\\"text\\\">Thanks</span></div> \\r\\n                    <div *ngIf=\\\"!item.showSmiley\\\"><ion-icon size=\\\"small\\\" class=\\\"icon\\\"  src=\\\"./assets/icon/smile.svg\\\" ></ion-icon> <span class=\\\"text\\\">Thanks</span></div> \\r\\n                   </ion-button>\\r\\n                   </ion-buttons> \\r\\n                 </ion-col>\\r\\n            <ion-col class=\\\"reactions-col\\\">\\r\\n                   <ion-buttons>\\r\\n                     <ion-button (click)=\\\"showResourceReactionsList(item)\\\">\\r\\n                   <div><ion-icon size=\\\"small\\\" src=\\\"./assets/icon/bookmark-active.svg\\\" class=\\\"icon\\\"></ion-icon><ion-icon size=\\\"small\\\" src=\\\"./assets/icon/smile-active.svg\\\" class=\\\"icon\\\"></ion-icon><span class=\\\"text\\\">{{item.totalReactionCount}}</span></div>\\r\\n                 </ion-button>\\r\\n               </ion-buttons> \\r\\n                 </ion-col>\\r\\n                 <ion-col class=\\\"reactions-col\\\">\\r\\n                   <ion-buttons>\\r\\n                     <ion-button>\\r\\n                      <div><ion-icon size=\\\"small\\\" src=\\\"./assets/icon/chat.svg\\\" class=\\\"icon\\\"></ion-icon> <span class=\\\"text\\\">{{item.totalReviewCount}}</span></div>\\r\\n                    </ion-button>\\r\\n               </ion-buttons> \\r\\n                 </ion-col>\\r\\n                </ion-row>\\r\\n        </ion-card>\\r\\n           </div>\\r\\n     </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div *ngSwitchCase=\\\"'events'\\\">\\r\\n      <!-- No Events to show -->\\r\\n       <div class=\\\"empty-list\\\" *ngIf=\\\"events && events.length == 0\\\">\\r\\n       <h1><ion-icon name=\\\"chatbubbles\\\"></ion-icon></h1>\\r\\n       <p>No new upcoming Events added to this group.</p>\\r\\n       </div>\\r\\n       <!-- Show Events -->\\r\\n       <div *ngIf=\\\"events && events.length > 0\\\" >\\r\\n        <div class=\\\"listing-item\\\" *ngFor=\\\"let item of events\\\">\\r\\n          <ion-card>\\r\\n         <ion-card-header>\\r\\n              <ion-card-subtitle (click)=\\\"viewEvent(item)\\\">\\r\\n               <img class=\\\"subtitle\\\" src=\\\"{{item.addedByUser.addedByImg}}\\\" onError=\\\"this.src='./assets/images/default-dp.png'\\\" /> {{item.addedByUser.addedByUsername}}, posted {{item.dateCreated | DateFormat}}\\r\\n               <img *ngIf=\\\"item.showNewIcon\\\" class=\\\"newIcon\\\" src=\\\"./assets/icon/new.svg\\\" /> \\r\\n             </ion-card-subtitle>\\r\\n             <ion-card-title>{{item.title}}</ion-card-title>\\r\\n           </ion-card-header>\\r\\n               <ion-card-content class=\\\"message\\\" (click)=\\\"viewEvent(item)\\\">\\r\\n          {{item.eventDate}} at {{item.eventTime}}<br/><br/>\\r\\n          {{item.address}}<br/><br/>\\r\\n          {{item.link}}\\r\\n          </ion-card-content>\\r\\n               <ion-row>\\r\\n          <ion-col>\\r\\n                  <ion-buttons>\\r\\n                    <ion-button (click)=\\\"submitReactionEvent(item, 'Checkin')\\\">\\r\\n                   <div *ngIf=\\\"item.showCheckin\\\"><ion-icon size=\\\"small\\\" class=\\\"icon\\\" src=\\\"./assets/icon/checkin-active.svg\\\" ></ion-icon> <span class=\\\"text\\\">Checkin</span></div> \\r\\n                   <div *ngIf=\\\"!item.showCheckin\\\"><ion-icon size=\\\"small\\\" class=\\\"icon\\\"  src=\\\"./assets/icon/checkin.svg\\\" ></ion-icon> <span class=\\\"text\\\">Checkin</span></div> \\r\\n                  </ion-button>\\r\\n                  </ion-buttons> \\r\\n                </ion-col>\\r\\n          <ion-col>\\r\\n                  <ion-buttons>\\r\\n                    <ion-button (click)=\\\"submitReactionEvent(item, 'Thanks')\\\">\\r\\n                   <div *ngIf=\\\"item.showSmiley\\\"><ion-icon size=\\\"small\\\" class=\\\"icon\\\" src=\\\"./assets/icon/smile-active.svg\\\" ></ion-icon> <span class=\\\"text\\\">Thanks</span></div> \\r\\n                   <div *ngIf=\\\"!item.showSmiley\\\"><ion-icon size=\\\"small\\\" class=\\\"icon\\\"  src=\\\"./assets/icon/smile.svg\\\" ></ion-icon> <span class=\\\"text\\\">Thanks</span></div> \\r\\n                  </ion-button>\\r\\n                  </ion-buttons> \\r\\n                </ion-col>\\r\\n                <ion-col>\\r\\n                  <ion-buttons>\\r\\n                    <ion-button (click)=\\\"showEventReactionsList(item)\\\">\\r\\n                  <div><ion-icon size=\\\"small\\\" src=\\\"./assets/icon/checkin-active.svg\\\" class=\\\"icon\\\"></ion-icon><ion-icon size=\\\"small\\\" src=\\\"./assets/icon/smile-active.svg\\\" class=\\\"icon\\\"></ion-icon><span class=\\\"text\\\">{{item.totalReactionCount}}</span></div>\\r\\n                </ion-button>\\r\\n              </ion-buttons> \\r\\n                </ion-col>\\r\\n                <ion-col>\\r\\n                  <ion-buttons>\\r\\n                    <ion-button>\\r\\n                     <div><ion-icon size=\\\"small\\\" src=\\\"./assets/icon/chat.svg\\\" class=\\\"icon\\\"></ion-icon> <span class=\\\"text\\\">{{item.totalReviewCount}}</span></div>\\r\\n                   </ion-button>\\r\\n              </ion-buttons> \\r\\n                </ion-col>\\r\\n               </ion-row>\\r\\n        </ion-card>\\r\\n        </div>\\r\\n       </div>\\r\\n      </div>\\r\\n      <!-- Group Info -->\\r\\n <div *ngSwitchCase=\\\"'groupInfo'\\\">\\r\\n   <ion-row  style=\\\"background: white\\\" padding>\\r\\n     <ion-col col-md-8>\\r\\n     <h4 tappable (click)=\\\"setName()\\\">{{group.name}}</h4>\\r\\n     <p tappable style=\\\"color:#aaa\\\" (click)=\\\"setDescription()\\\">{{group.description}}</p>\\r\\n     </ion-col>\\r\\n     <ion-col col-md-4 class=\\\"center\\\">\\r\\n       <img src=\\\"{{group.img}}\\\" style=\\\"border-radius: 100%; width: 80px; height: 80px;\\\" tappable (click)=\\\"setPhoto()\\\" onError=\\\"this.src='./assets/images/default-group.png'\\\">\\r\\n     </ion-col>\\r\\n   </ion-row>\\r\\n   <ion-list *ngIf=\\\"groupMembers\\\">\\r\\n     <ion-list-header>\\r\\n     Group Members ({{groupMembers.length}})\\r\\n     </ion-list-header>\\r\\n    <!-- <ion-item (click)=\\\"addMembers()\\\">\\r\\n     <ion-icon name=\\\"add\\\" item-left></ion-icon>\\r\\n     <h2>Add Members</h2>\\r\\n     </ion-item>-->\\r\\n     <ion-item *ngFor=\\\"let member of groupMembers\\\" (click)=\\\"viewUser(member.$key)\\\">\\r\\n     <ion-avatar item-left>\\r\\n       <img src=\\\"{{member.img}}\\\" onError=\\\"this.src='./assets/images/default-dp.png'\\\"/>\\r\\n     </ion-avatar>\\r\\n     <h2>{{member.name}}</h2>\\r\\n     <p>{{member.description}}</p>\\r\\n     </ion-item>\\r\\n   </ion-list>\\r\\n   <ion-list-header *ngIf=\\\"loggedInUserIsMember == true\\\" >\\r\\n     More\\r\\n   </ion-list-header>\\r\\n   <ion-list *ngIf=\\\"loggedInUserIsMember == true\\\"  style=\\\"text-align: center;\\\">  \\r\\n     <ion-item no-lines tappable (click)=\\\"leaveGroup()\\\" *ngIf=\\\"groupMembers && groupMembers.length > 1\\\">\\r\\n     Leave Group\\r\\n     </ion-item>\\r\\n     <!-- When there's only one member left, allow deleting of group. -->\\r\\n     <ion-item color=\\\"danger\\\" no-lines tappable (click)=\\\"deleteGroup()\\\" *ngIf=\\\"groupMembers && groupMembers.length <= 1\\\">\\r\\n     Delete Group\\r\\n     </ion-item>\\r\\n   </ion-list>\\r\\n   <p padding style=\\\"color:#aaa\\\">Started {{group.dateCreated | DateFormat}}</p>\\r\\n   </div>\\r\\n  </div>\\r\\n</ion-content>\\r\\n<!-- Message Box -->\\r\\n<ion-footer *ngIf=\\\"loggedInUserIsMember == true  && tab=='group'\\\">\\r\\n  <ion-toolbar>\\r\\n    <ion-item  class=\\\"bottom_bar\\\">\\r\\n      <ion-textarea style=\\\"margin:0\\\" type=\\\"text\\\" rows=\\\"0\\\" placeholder=\\\"Type your message\\\" [(ngModel)]=\\\"message\\\"\\r\\n        (ionFocus)=\\\"scrollBottom()\\\" (keypress)=\\\"onType($event.keyCode)\\\"></ion-textarea>\\r\\n      <ion-buttons slot=\\\"end\\\" style=\\\"margin-left:4px;\\\">\\r\\n        <ion-button fill=\\\"clear\\\" (click)=\\\"attach()\\\">\\r\\n          <ion-icon name=\\\"attach\\\"></ion-icon>\\r\\n        </ion-button>\\r\\n        <ion-button slot=\\\"end\\\" fill=\\\"clear\\\" (click)=\\\"send('text')\\\" [disabled]=\\\"!message\\\">\\r\\n          <ion-icon name=\\\"send\\\"></ion-icon>\\r\\n        </ion-button>\\r\\n      </ion-buttons>\\r\\n    </ion-item>\\r\\n  </ion-toolbar>\\r\\n</ion-footer>\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { GroupPage } from './group.page';\r\nimport { SharedModule } from '../services/share.module';\r\nimport { ComponentsModule } from '../components/components.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: GroupPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    SharedModule,\r\n    ComponentsModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [GroupPage]\r\n})\r\nexport class GroupPageModule {}\r\n","export default \":host {\\n  --page-margin: var(--app-fair-margin);\\n  --page-background: var(--app-background);\\n  --page-color: #00AFFF;\\n}\\n\\n.GroupAction .cancelAction {\\n  color: red;\\n}\\n\\n.tab-title {\\n  font-size: 10px;\\n  padding-bottom: 8px;\\n}\\n\\n.listing-item {\\n  background-color: var(--page-background);\\n}\\n\\n.listing-item .reactions-col {\\n  margin: -3px;\\n}\\n\\n.listing-item .icon {\\n  display: inline-block;\\n  vertical-align: middle;\\n}\\n\\n.listing-item .text {\\n  display: inline-block;\\n  vertical-align: middle;\\n  padding-left: 3px;\\n  text-transform: capitalize !important;\\n}\\n\\n.listing-item .subtitle {\\n  height: 30px;\\n  width: 30px;\\n  vertical-align: middle;\\n}\\n\\n.listing-item .newIcon {\\n  height: 40px;\\n  vertical-align: middle;\\n}\\n\\n.listing-item .message {\\n  font-family: \\\"HelveticaNeue\\\", \\\"Helvetica Neue\\\", Helvetica, \\\"Roboto\\\", \\\"Segoe UI\\\", Arial, sans-serif;\\n  font-weight: 400;\\n  font-size: 14px;\\n  line-height: 19px;\\n  -webkit-font-smoothing: subpixel-antialiased;\\n  -moz-osx-font-smoothing: auto;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\n\\n.listing-item .info-row {\\n  --ion-grid-column-padding: 0px;\\n  padding-left: var(--page-margin);\\n  padding-bottom: calc(var(--page-margin) / 2);\\n}\\n\\n.listing-item .info-row .main-info-col {\\n  padding-right: calc(var(--page-margin) / 2);\\n  line-height: 1;\\n}\\n\\n.listing-item .info-row poll-option-col {\\n  padding-right: calc(var(--page-margin) / 3);\\n}\\n\\n.listing-item .info-row .item-name {\\n  margin: 0px 0px var(--page-margin);\\n  text-transform: capitalize;\\n  font-size: 16px;\\n}\\n\\n.listing-item .info-row .item-name .name-anchor {\\n  color: var(--ion-color-dark);\\n  display: block;\\n  text-decoration: none;\\n}\\n\\n.listing-item .info-row .item-description {\\n  margin: 0px 0px calc(var(--page-margin) / 2);\\n  color: var(--ion-color-dark-shade);\\n  font-size: 14px;\\n  line-height: 1.3;\\n}\\n\\n.listing-item .info-row .item-address {\\n  margin: 0px 0px calc(var(--page-margin) / 2);\\n  color: var(--ion-color-dark-tint);\\n  font-size: 14px;\\n  line-height: 1.3;\\n}\\n\\n.listing-item .info-row .item-tags {\\n  margin: 0px 0px calc(var(--page-margin) / 2);\\n  color: var(--ion-color-dark-tint);\\n  font-size: 14px;\\n  line-height: 1.3;\\n}\\n\\n.listing-item .stats-row {\\n  --ion-grid-column-padding: 0px;\\n  padding: 0px var(--page-margin);\\n  -webkit-box-pack: end;\\n          justify-content: flex-end;\\n}\\n\\n.listing-item .stats-row .stats-icon {\\n  font-size: 24px;\\n}\\n\\n.listing-item .stats-row .item-rating {\\n  display: -webkit-inline-box;\\n  display: inline-flex;\\n  text-align: center;\\n  -webkit-box-pack: end;\\n          justify-content: flex-end;\\n  margin-right: 10px;\\n}\\n\\n.listing-item .stats-row .item-rating .rating-value {\\n  font-size: 16px;\\n  margin-right: 5px;\\n  margin: auto;\\n}\\n\\n.listing-item .stats-row .item-reviews {\\n  display: -webkit-inline-box;\\n  display: inline-flex;\\n  text-align: center;\\n  -webkit-box-pack: end;\\n          justify-content: flex-end;\\n}\\n\\n.listing-item .stats-row .item-reviews .reviews-count {\\n  font-size: 16px;\\n  margin-right: 5px;\\n  margin: auto;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZ3JvdXAvQzpcXFVzZXJzXFxzZXRoaVxcZmlyZWNoYXQ0X3YyXFxmaXJlY2hhdDQvc3JjXFxhcHBcXGdyb3VwXFxncm91cC5wYWdlLnNjc3MiLCJzcmMvYXBwL2dyb3VwL2dyb3VwLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHFDQUFBO0VBQ0Esd0NBQUE7RUFFQSxxQkFBQTtBQ0FKOztBRElFO0VBQ0UsVUFBQTtBQ0RKOztBRElBO0VBQ0UsZUFBQTtFQUNBLG1CQUFBO0FDREY7O0FER0E7RUFFSSx3Q0FBQTtBQ0RKOztBRElBO0VBQ0UsWUFBQTtBQ0ZGOztBREtBO0VBQ0UscUJBQUE7RUFDQSxzQkFBQTtBQ0hGOztBRE1DO0VBQ0UscUJBQUE7RUFDQSxzQkFBQTtFQUNBLGlCQUFBO0VBQ0EscUNBQUE7QUNKSDs7QURNRTtFQUNJLFlBQUE7RUFDQSxXQUFBO0VBQ0Esc0JBQUE7QUNKTjs7QURNSTtFQUNFLFlBQUE7RUFDQSxzQkFBQTtBQ0pOOztBRE1FO0VBQ0Usa0dBQUE7RUFDQSxnQkFBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtFQUNBLDRDQUFBO0VBQ0EsNkJBQUE7RUFDQSxnQkFBQTtFQUNBLHVCQUFBO0FDSko7O0FEUUk7RUFDRSw4QkFBQTtFQUVBLGdDQUFBO0VBQ0EsNENBQUE7QUNQTjs7QURTTTtFQUNFLDJDQUFBO0VBQ0EsY0FBQTtBQ1BSOztBRFNNO0VBQ0UsMkNBQUE7QUNQUjs7QURVTTtFQUNFLGtDQUFBO0VBQ0EsMEJBQUE7RUFDQSxlQUFBO0FDUlI7O0FEVVE7RUFDRSw0QkFBQTtFQUNBLGNBQUE7RUFDQSxxQkFBQTtBQ1JWOztBRFlNO0VBQ0UsNENBQUE7RUFDQSxrQ0FBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtBQ1ZSOztBRGFNO0VBQ0UsNENBQUE7RUFDQSxpQ0FBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtBQ1hSOztBRGFNO0VBQ0UsNENBQUE7RUFDQSxpQ0FBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtBQ1hSOztBRGVJO0VBQ0UsOEJBQUE7RUFFQSwrQkFBQTtFQUNBLHFCQUFBO1VBQUEseUJBQUE7QUNkTjs7QURnQk07RUFDRSxlQUFBO0FDZFI7O0FEaUJNO0VBQ0UsMkJBQUE7RUFBQSxvQkFBQTtFQUNBLGtCQUFBO0VBQ0EscUJBQUE7VUFBQSx5QkFBQTtFQUNBLGtCQUFBO0FDZlI7O0FEaUJRO0VBQ0UsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsWUFBQTtBQ2ZWOztBRG1CTTtFQUNFLDJCQUFBO0VBQUEsb0JBQUE7RUFDQSxrQkFBQTtFQUNBLHFCQUFBO1VBQUEseUJBQUE7QUNqQlI7O0FEbUJRO0VBQ0UsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsWUFBQTtBQ2pCViIsImZpbGUiOiJzcmMvYXBwL2dyb3VwL2dyb3VwLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcclxuICAgIC0tcGFnZS1tYXJnaW46IHZhcigtLWFwcC1mYWlyLW1hcmdpbik7XHJcbiAgICAtLXBhZ2UtYmFja2dyb3VuZDogdmFyKC0tYXBwLWJhY2tncm91bmQpO1xyXG4gIFxyXG4gICAgLS1wYWdlLWNvbG9yOiAjMDBBRkZGO1xyXG4gIH1cclxuXHJcbi5Hcm91cEFjdGlvbiB7XHJcbiAgLmNhbmNlbEFjdGlvbiB7XHJcbiAgICBjb2xvcjogcmVkO1xyXG4gIH1cclxufVxyXG4udGFiLXRpdGxlIHtcclxuICBmb250LXNpemU6IDEwcHg7XHJcbiAgcGFkZGluZy1ib3R0b206IDhweDtcclxufVxyXG4ubGlzdGluZy1pdGVtIHtcclxuICAgIC8vcGFkZGluZzogMHB4IDBweCB2YXIoLS1wYWdlLW1hcmdpbik7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1wYWdlLWJhY2tncm91bmQpO1xyXG4vLyAgICBib3JkZXItYm90dG9tOiBjYWxjKHZhcigtLXBhZ2UtbWFyZ2luKSAvIDIpIHNvbGlkIHZhcigtLXBhZ2UtY29sb3IpO1xyXG5cclxuLnJlYWN0aW9ucy1jb2wge1xyXG4gIG1hcmdpbjogLTNweDtcclxufVxyXG5cclxuLmljb24ge1xyXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xyXG4gfVxyXG4gXHJcbiAudGV4dHtcclxuICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xyXG4gICBwYWRkaW5nLWxlZnQ6IDNweDtcclxuICAgdGV4dC10cmFuc2Zvcm06IGNhcGl0YWxpemUgIWltcG9ydGFudDtcclxuIH1cclxuICAuc3VidGl0bGUge1xyXG4gICAgICBoZWlnaHQ6IDMwcHg7XHJcbiAgICAgIHdpZHRoOiAzMHB4O1xyXG4gICAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xyXG4gICAgfVxyXG4gICAgLm5ld0ljb24ge1xyXG4gICAgICBoZWlnaHQ6IDQwcHg7XHJcbiAgICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XHJcbiAgICB9XHJcbiAgLm1lc3NhZ2Uge1xyXG4gICAgZm9udC1mYW1pbHk6ICdIZWx2ZXRpY2FOZXVlJywgJ0hlbHZldGljYSBOZXVlJywgSGVsdmV0aWNhLCAnUm9ib3RvJywgJ1NlZ29lIFVJJywgQXJpYWwsIHNhbnMtc2VyaWY7XHJcbiAgICBmb250LXdlaWdodDogNDAwO1xyXG4gICAgZm9udC1zaXplOiAxNHB4O1xyXG4gICAgbGluZS1oZWlnaHQ6IDE5cHg7XHJcbiAgICAtd2Via2l0LWZvbnQtc21vb3RoaW5nOiBzdWJwaXhlbC1hbnRpYWxpYXNlZDtcclxuICAgIC1tb3otb3N4LWZvbnQtc21vb3RoaW5nOiBhdXRvO1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjsgXHJcbiAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcclxuICB9XHJcblxyXG4gIFxyXG4gICAgLmluZm8tcm93IHtcclxuICAgICAgLS1pb24tZ3JpZC1jb2x1bW4tcGFkZGluZzogMHB4O1xyXG4gIFxyXG4gICAgICBwYWRkaW5nLWxlZnQ6IHZhcigtLXBhZ2UtbWFyZ2luKTtcclxuICAgICAgcGFkZGluZy1ib3R0b206IGNhbGModmFyKC0tcGFnZS1tYXJnaW4pIC8gMik7XHJcblxyXG4gICAgICAubWFpbi1pbmZvLWNvbCB7XHJcbiAgICAgICAgcGFkZGluZy1yaWdodDogY2FsYyh2YXIoLS1wYWdlLW1hcmdpbikgLyAyKTtcclxuICAgICAgICBsaW5lLWhlaWdodDogMTtcclxuICAgICAgfVxyXG4gICAgICBwb2xsLW9wdGlvbi1jb2wge1xyXG4gICAgICAgIHBhZGRpbmctcmlnaHQ6IGNhbGModmFyKC0tcGFnZS1tYXJnaW4pIC8gMyk7XHJcbiAgICAgIH1cclxuICBcclxuICAgICAgLml0ZW0tbmFtZSB7XHJcbiAgICAgICAgbWFyZ2luOiAwcHggMHB4IHZhcigtLXBhZ2UtbWFyZ2luKTtcclxuICAgICAgICB0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZTtcclxuICAgICAgICBmb250LXNpemU6IDE2cHg7XHJcbiAgXHJcbiAgICAgICAgLm5hbWUtYW5jaG9yIHtcclxuICAgICAgICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFyayk7XHJcbiAgICAgICAgICBkaXNwbGF5OiBibG9jaztcclxuICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICBcclxuICAgICAgLml0ZW0tZGVzY3JpcHRpb24ge1xyXG4gICAgICAgIG1hcmdpbjogMHB4IDBweCBjYWxjKHZhcigtLXBhZ2UtbWFyZ2luKSAvIDIpO1xyXG4gICAgICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFyay1zaGFkZSk7XHJcbiAgICAgICAgZm9udC1zaXplOiAxNHB4O1xyXG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxLjM7XHJcbiAgICAgIH1cclxuICBcclxuICAgICAgLml0ZW0tYWRkcmVzcyB7XHJcbiAgICAgICAgbWFyZ2luOiAwcHggMHB4IGNhbGModmFyKC0tcGFnZS1tYXJnaW4pIC8gMik7XHJcbiAgICAgICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYXJrLXRpbnQpO1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMTRweDtcclxuICAgICAgICBsaW5lLWhlaWdodDogMS4zO1xyXG4gICAgICB9XHJcbiAgICAgIC5pdGVtLXRhZ3Mge1xyXG4gICAgICAgIG1hcmdpbjogMHB4IDBweCBjYWxjKHZhcigtLXBhZ2UtbWFyZ2luKSAvIDIpO1xyXG4gICAgICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFyay10aW50KTtcclxuICAgICAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICAgICAgbGluZS1oZWlnaHQ6IDEuMztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIFxyXG4gICAgLnN0YXRzLXJvdyB7XHJcbiAgICAgIC0taW9uLWdyaWQtY29sdW1uLXBhZGRpbmc6IDBweDtcclxuICBcclxuICAgICAgcGFkZGluZzogMHB4IHZhcigtLXBhZ2UtbWFyZ2luKTtcclxuICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcclxuICBcclxuICAgICAgLnN0YXRzLWljb24ge1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMjRweDtcclxuICAgICAgfVxyXG4gIFxyXG4gICAgICAuaXRlbS1yYXRpbmcge1xyXG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1mbGV4O1xyXG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xyXG4gICAgICAgIG1hcmdpbi1yaWdodDogMTBweDtcclxuICBcclxuICAgICAgICAucmF0aW5nLXZhbHVlIHtcclxuICAgICAgICAgIGZvbnQtc2l6ZTogMTZweDtcclxuICAgICAgICAgIG1hcmdpbi1yaWdodDogNXB4O1xyXG4gICAgICAgICAgbWFyZ2luOiBhdXRvO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gIFxyXG4gICAgICAuaXRlbS1yZXZpZXdzIHtcclxuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtZmxleDtcclxuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcclxuICBcclxuICAgICAgICAucmV2aWV3cy1jb3VudCB7XHJcbiAgICAgICAgICBmb250LXNpemU6IDE2cHg7XHJcbiAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDVweDtcclxuICAgICAgICAgIG1hcmdpbjogYXV0bztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9IiwiOmhvc3Qge1xuICAtLXBhZ2UtbWFyZ2luOiB2YXIoLS1hcHAtZmFpci1tYXJnaW4pO1xuICAtLXBhZ2UtYmFja2dyb3VuZDogdmFyKC0tYXBwLWJhY2tncm91bmQpO1xuICAtLXBhZ2UtY29sb3I6ICMwMEFGRkY7XG59XG5cbi5Hcm91cEFjdGlvbiAuY2FuY2VsQWN0aW9uIHtcbiAgY29sb3I6IHJlZDtcbn1cblxuLnRhYi10aXRsZSB7XG4gIGZvbnQtc2l6ZTogMTBweDtcbiAgcGFkZGluZy1ib3R0b206IDhweDtcbn1cblxuLmxpc3RpbmctaXRlbSB7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXBhZ2UtYmFja2dyb3VuZCk7XG59XG4ubGlzdGluZy1pdGVtIC5yZWFjdGlvbnMtY29sIHtcbiAgbWFyZ2luOiAtM3B4O1xufVxuLmxpc3RpbmctaXRlbSAuaWNvbiB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbn1cbi5saXN0aW5nLWl0ZW0gLnRleHQge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG4gIHBhZGRpbmctbGVmdDogM3B4O1xuICB0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZSAhaW1wb3J0YW50O1xufVxuLmxpc3RpbmctaXRlbSAuc3VidGl0bGUge1xuICBoZWlnaHQ6IDMwcHg7XG4gIHdpZHRoOiAzMHB4O1xuICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xufVxuLmxpc3RpbmctaXRlbSAubmV3SWNvbiB7XG4gIGhlaWdodDogNDBweDtcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbn1cbi5saXN0aW5nLWl0ZW0gLm1lc3NhZ2Uge1xuICBmb250LWZhbWlseTogXCJIZWx2ZXRpY2FOZXVlXCIsIFwiSGVsdmV0aWNhIE5ldWVcIiwgSGVsdmV0aWNhLCBcIlJvYm90b1wiLCBcIlNlZ29lIFVJXCIsIEFyaWFsLCBzYW5zLXNlcmlmO1xuICBmb250LXdlaWdodDogNDAwO1xuICBmb250LXNpemU6IDE0cHg7XG4gIGxpbmUtaGVpZ2h0OiAxOXB4O1xuICAtd2Via2l0LWZvbnQtc21vb3RoaW5nOiBzdWJwaXhlbC1hbnRpYWxpYXNlZDtcbiAgLW1vei1vc3gtZm9udC1zbW9vdGhpbmc6IGF1dG87XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xufVxuLmxpc3RpbmctaXRlbSAuaW5mby1yb3cge1xuICAtLWlvbi1ncmlkLWNvbHVtbi1wYWRkaW5nOiAwcHg7XG4gIHBhZGRpbmctbGVmdDogdmFyKC0tcGFnZS1tYXJnaW4pO1xuICBwYWRkaW5nLWJvdHRvbTogY2FsYyh2YXIoLS1wYWdlLW1hcmdpbikgLyAyKTtcbn1cbi5saXN0aW5nLWl0ZW0gLmluZm8tcm93IC5tYWluLWluZm8tY29sIHtcbiAgcGFkZGluZy1yaWdodDogY2FsYyh2YXIoLS1wYWdlLW1hcmdpbikgLyAyKTtcbiAgbGluZS1oZWlnaHQ6IDE7XG59XG4ubGlzdGluZy1pdGVtIC5pbmZvLXJvdyBwb2xsLW9wdGlvbi1jb2wge1xuICBwYWRkaW5nLXJpZ2h0OiBjYWxjKHZhcigtLXBhZ2UtbWFyZ2luKSAvIDMpO1xufVxuLmxpc3RpbmctaXRlbSAuaW5mby1yb3cgLml0ZW0tbmFtZSB7XG4gIG1hcmdpbjogMHB4IDBweCB2YXIoLS1wYWdlLW1hcmdpbik7XG4gIHRleHQtdHJhbnNmb3JtOiBjYXBpdGFsaXplO1xuICBmb250LXNpemU6IDE2cHg7XG59XG4ubGlzdGluZy1pdGVtIC5pbmZvLXJvdyAuaXRlbS1uYW1lIC5uYW1lLWFuY2hvciB7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFyayk7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG59XG4ubGlzdGluZy1pdGVtIC5pbmZvLXJvdyAuaXRlbS1kZXNjcmlwdGlvbiB7XG4gIG1hcmdpbjogMHB4IDBweCBjYWxjKHZhcigtLXBhZ2UtbWFyZ2luKSAvIDIpO1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWRhcmstc2hhZGUpO1xuICBmb250LXNpemU6IDE0cHg7XG4gIGxpbmUtaGVpZ2h0OiAxLjM7XG59XG4ubGlzdGluZy1pdGVtIC5pbmZvLXJvdyAuaXRlbS1hZGRyZXNzIHtcbiAgbWFyZ2luOiAwcHggMHB4IGNhbGModmFyKC0tcGFnZS1tYXJnaW4pIC8gMik7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFyay10aW50KTtcbiAgZm9udC1zaXplOiAxNHB4O1xuICBsaW5lLWhlaWdodDogMS4zO1xufVxuLmxpc3RpbmctaXRlbSAuaW5mby1yb3cgLml0ZW0tdGFncyB7XG4gIG1hcmdpbjogMHB4IDBweCBjYWxjKHZhcigtLXBhZ2UtbWFyZ2luKSAvIDIpO1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWRhcmstdGludCk7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgbGluZS1oZWlnaHQ6IDEuMztcbn1cbi5saXN0aW5nLWl0ZW0gLnN0YXRzLXJvdyB7XG4gIC0taW9uLWdyaWQtY29sdW1uLXBhZGRpbmc6IDBweDtcbiAgcGFkZGluZzogMHB4IHZhcigtLXBhZ2UtbWFyZ2luKTtcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcbn1cbi5saXN0aW5nLWl0ZW0gLnN0YXRzLXJvdyAuc3RhdHMtaWNvbiB7XG4gIGZvbnQtc2l6ZTogMjRweDtcbn1cbi5saXN0aW5nLWl0ZW0gLnN0YXRzLXJvdyAuaXRlbS1yYXRpbmcge1xuICBkaXNwbGF5OiBpbmxpbmUtZmxleDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xuICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG59XG4ubGlzdGluZy1pdGVtIC5zdGF0cy1yb3cgLml0ZW0tcmF0aW5nIC5yYXRpbmctdmFsdWUge1xuICBmb250LXNpemU6IDE2cHg7XG4gIG1hcmdpbi1yaWdodDogNXB4O1xuICBtYXJnaW46IGF1dG87XG59XG4ubGlzdGluZy1pdGVtIC5zdGF0cy1yb3cgLml0ZW0tcmV2aWV3cyB7XG4gIGRpc3BsYXk6IGlubGluZS1mbGV4O1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XG59XG4ubGlzdGluZy1pdGVtIC5zdGF0cy1yb3cgLml0ZW0tcmV2aWV3cyAucmV2aWV3cy1jb3VudCB7XG4gIGZvbnQtc2l6ZTogMTZweDtcbiAgbWFyZ2luLXJpZ2h0OiA1cHg7XG4gIG1hcmdpbjogYXV0bztcbn0iXX0= */\"","import { Component, OnInit, ElementRef, ViewChild } from '@angular/core';\r\nimport { DataService } from '../services/data.service';\r\nimport { Camera } from '@ionic-native/camera/ngx';\r\nimport { Keyboard } from '@ionic-native/keyboard/ngx';\r\nimport { NavController, ActionSheetController, AlertController, ModalController, PopoverController } from '@ionic/angular';\r\nimport { Contacts } from '@ionic-native/contacts/ngx';\r\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\r\nimport { LoadingService } from '../services/loading.service';\r\nimport { ImageService } from '../services/image.service';\r\nimport { AngularFirestore } from '@angular/fire/firestore';\r\nimport { ActivatedRoute, Router, NavigationExtras } from '@angular/router';\r\nimport * as firebase from 'firebase';\r\n\r\nimport { PopoverPage } from '../popover/popover.page';\r\nimport { TagModalPage } from '../tag-modal/tag-modal.page';\r\nimport { ReactionListModalPage } from '../reaction-list-modal/reaction-list-modal.page';\r\n\r\n@Component({\r\n  selector: 'app-group',\r\n  templateUrl: './group.page.html',\r\n  styleUrls: ['./group.page.scss'],\r\n})\r\nexport class GroupPage implements OnInit {\r\n\r\n  @ViewChild('content', null) content: ElementRef;\r\n\r\n  title: any;\r\n  groupId: any;\r\n  message: any;\r\n  messages: any;\r\n  updateDateTime: any;\r\n  subscription: any;\r\n  messagesToShow: any;\r\n  startIndex: any = -1;\r\n  scrollDirection: any = 'bottom';\r\n  // Set number of messages to show.\r\n  numberOfMessages = 10;\r\n  private polls: any = [];\r\n  private resources: any = [];\r\n  private events: any = [];\r\n  private tab: any;\r\n  private group: any;\r\n  private user: any;\r\n  private groupMembers: any;\r\n  private loggedInUserIsMember: any = 'false';\r\n  private searchPoll: any;\r\n  private searchResource: any;\r\n  private searchEvent: any;\r\n  private resourceTags: any = [];\r\n  private resourceTagsString: any;\r\n  private eventTags: any;\r\n  private eventTagsString: any;\r\n  private alert: any;\r\n\r\n  private toggled = false;\r\n  private emojitext: string;\r\n\r\n  // posts\r\n  private posts: any = [];\r\n  private postsToShow: any; \r\n  private numberOfPosts = 10;\r\n\r\n  // GroupPage\r\n  // This is the page where the user can chat with other group members and view group info.\r\n  constructor(\r\n    public dataProvider: DataService,\r\n    public navCtrl: NavController,\r\n    public modalCtrl: ModalController,\r\n    public firestore: AngularFirestore,\r\n    public alertCtrl: AlertController,\r\n    public imageProvider: ImageService,\r\n    public loadingProvider: LoadingService,\r\n    public camera: Camera,\r\n    public keyboard: Keyboard,\r\n    public actionSheet: ActionSheetController,\r\n    public contacts: Contacts,\r\n    public geolocation: Geolocation,\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n\r\n    public popoverCtrl: PopoverController\r\n  ) { }\r\n\r\n  handleSelection(event) {\r\n    this.emojitext = this.emojitext + ' ' + event.char;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.loadingProvider.show();\r\n    this.tab = 'posts';\r\n    this.title = 'Posts';\r\n    this.searchResource = '';\r\n    this.searchPoll = '';\r\n    this.searchEvent = '';\r\n\r\n    // Get user information for system message sent to the group when a member was added.\r\n    this.dataProvider.getCurrentUser().snapshotChanges().subscribe((user: any) => {\r\n      this.user  = user.payload.data();\r\n  });\r\n    this.getGroupDetailsandPosts();\r\n\r\n    this.loadingProvider.hide();\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n    // this.getGroupDetailsandMessages();\r\n  }\r\n\r\n  // Load previous messages in relation to numberOfMessages.\r\n  loadPreviousMessages() {\r\n    const that = this;\r\n    // Show loading.\r\n    this.loadingProvider.show();\r\n    setTimeout(function() {\r\n      // Set startIndex to load more messages.\r\n      if (that.startIndex - that.numberOfMessages > -1) {\r\n        that.startIndex -= that.numberOfMessages;\r\n      } else {\r\n        that.startIndex = 0;\r\n      }\r\n      // Refresh our messages list.\r\n      that.messages = null;\r\n      that.messagesToShow = null;\r\n      // Set scroll direction to top.\r\n      that.scrollDirection = 'top';\r\n      // Populate list again.\r\n      that.ionViewDidEnter();\r\n    }, 1000);\r\n  }\r\n\r\n  // Update messagesRead when user lefts this page.\r\n  ionViewWillLeave() {\r\n    if (this.messages) {\r\n      this.setMessagesRead(this.messages);\r\n    }\r\n  }\r\n\r\n  // Check if currentPage is active, then update user's messagesRead.\r\n  setMessagesRead(messages) {\r\n    // if (this.navCtrl.getActive().instance instanceof GroupPage) {\r\n    // Update user's messagesRead on database.\r\n    this.firestore.doc('/accounts/' + firebase.auth().currentUser.uid + '/groups/' + this.groupId).update({\r\n      messagesRead: this.messages.length\r\n    });\r\n    // }\r\n  }\r\n\r\n  // Check if 'return' button is pressed and send the message.\r\n  onType(keyCode) {\r\n    if (keyCode == 13) {\r\n      // this.keyboard.close();\r\n      // this.send();\r\n    }\r\n  }\r\n\r\n  // Scroll to bottom of page after a short delay.\r\n  scrollBottom() {\r\n    const that = this;\r\n    setTimeout(function() {\r\n      that.content.nativeElement.scrollBottom = that.content.nativeElement.scrollHeight;\r\n    }, 300);\r\n  }\r\n\r\n  // Scroll to top of the page after a short delay.\r\n  scrollTop() {\r\n    const that = this;\r\n    setTimeout(function() {\r\n      that.content.nativeElement.scrollTop = that.content.nativeElement.scrollHeight;\r\n    }, 300);\r\n  }\r\n\r\n  // Scroll depending on the direction.\r\n  doScroll() {\r\n    if (this.scrollDirection === 'bottom') {\r\n      this.scrollBottom();\r\n    } else if (this.scrollDirection === 'top') {\r\n      this.scrollTop();\r\n    }\r\n  }\r\n\r\n  // Check if the user is the sender of the message.\r\n  isSender(message) {\r\n    if (message.sender === firebase.auth().currentUser.uid) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Check if the message is a system message.\r\n  isSystemMessage(message) {\r\n    if (message.type === 'system') {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // View user info\r\n  viewUser(userId) {\r\n    this.router.navigateByUrl('/userinfo/' + userId);\r\n  }\r\n\r\n  // Send text message to the group.\r\n  send(type) {\r\n    // Clone an instance of messages object so it will not directly be updated.\r\n    // The messages object should be updated by our observer declared on ionViewDidLoad.\r\n    const messages = JSON.parse(JSON.stringify(this.messages));\r\n\r\n    messages.push({\r\n      date: new Date().toString(),\r\n      sender: firebase.auth().currentUser.uid,\r\n      // tslint:disable-next-line: object-literal-shorthand\r\n      type: type,\r\n      message: this.message\r\n    });\r\n\r\n    // Update group messages.\r\n    this.dataProvider.getGroup(this.groupId).update({\r\n      // tslint:disable-next-line: object-literal-shorthand\r\n      messages: messages\r\n    });\r\n    // Clear messagebox.\r\n    this.message = '';\r\n  }\r\n\r\n  // Enlarge image messages.\r\n  enlargeImage(img) {\r\n    // let imageModal = this.modalCtrl.create(\"ImageModalPage\", { img: img });\r\n    // imageModal.present();\r\n  }\r\n\r\n  attach() {\r\n    const action = this.actionSheet.create({\r\n      header: 'Choose attachments',\r\n      buttons: [{\r\n        text: 'Camera',\r\n        handler: () => {\r\n          console.log('take photo');\r\n          this.imageProvider.uploadGroupPhotoMessage(this.groupId, this.camera.PictureSourceType.CAMERA).then((url) => {\r\n            // Process image message.\r\n            this.sendPhotoMessage(url);\r\n          });\r\n        }\r\n      }, {\r\n        text: 'Photo Library',\r\n        handler: () => {\r\n          console.log('Access gallery');\r\n          this.imageProvider.uploadGroupPhotoMessage(this.groupId, this.camera.PictureSourceType.PHOTOLIBRARY).then((url) => {\r\n            // Process image message.\r\n            this.sendPhotoMessage(url);\r\n          });\r\n        }\r\n      }, {\r\n        text: 'Video',\r\n        handler: () => {\r\n          console.log('Video');\r\n          this.imageProvider.uploadGroupVideoMessage(this.groupId).then(url => {\r\n            this.sendVideoMessage(url);\r\n          });\r\n        }\r\n      }, {\r\n        text: 'Location',\r\n        handler: () => {\r\n          console.log('Location');\r\n          this.geolocation.getCurrentPosition({\r\n            timeout: 2000\r\n          }).then(res => {\r\n            const locationMessage = 'current location: lat:' + res.coords.latitude + ' lng:' + res.coords.longitude;\r\n            const mapUrl = '<a href=\\'https://www.google.com/maps/search/' + res.coords.latitude + ',' + res.coords.longitude + '\\'>View on Map</a>';\r\n            const confirm = this.alertCtrl.create({\r\n              header: 'Your Location',\r\n              message: locationMessage,\r\n              buttons: [{\r\n                text: 'cancel',\r\n                handler: () => {\r\n                  console.log('canceled');\r\n                }\r\n              }, {\r\n                text: 'Share',\r\n                handler: () => {\r\n                  console.log('share');\r\n                  this.message = locationMessage + '<br>' + mapUrl;\r\n                  this.send('location');\r\n                }\r\n              }]\r\n            }).then(r => r.present());\r\n          }, locationErr => {\r\n            console.log('Location Error' + JSON.stringify(locationErr));\r\n          });\r\n        }\r\n      }, {\r\n        text: 'Contact',\r\n        handler: () => {\r\n          console.log('Share contact');\r\n          this.contacts.pickContact().then(data => {\r\n            console.log(data.displayName);\r\n            console.log(data.phoneNumbers[0].value);\r\n            this.message = '<b>Name:</b> ' + data.displayName + '<br><b>Mobile:</b> <a href=\\'tel:' + data.phoneNumbers[0].value + '\\'>' + data.phoneNumbers[0].value + '</a>';\r\n            this.send('contact');\r\n          }, err => {\r\n            console.log(err);\r\n          });\r\n        }\r\n      }, {\r\n        text: 'cancel',\r\n        role: 'cancel',\r\n        handler: () => {\r\n          console.log('cancelled');\r\n        }\r\n      }]\r\n    }).then(r => r.present());\r\n  }\r\n  takePhoto() {\r\n    this.imageProvider.uploadGroupPhotoMessage(this.groupId, this.camera.PictureSourceType.CAMERA).then((url) => {\r\n      // Process image message.\r\n      this.sendPhotoMessage(url);\r\n    });\r\n  }\r\n\r\n  // Process photoMessage on database.\r\n  sendPhotoMessage(url) {\r\n    const messages = JSON.parse(JSON.stringify(this.messages));\r\n    messages.push({\r\n      date: new Date().toString(),\r\n      sender: firebase.auth().currentUser.uid,\r\n      type: 'image',\r\n      url\r\n    });\r\n    this.dataProvider.getGroup(this.groupId).update({\r\n      messages\r\n    });\r\n    this.message = '';\r\n  }\r\n\r\n  sendVideoMessage(url) {\r\n    const messages = JSON.parse(JSON.stringify(this.messages));\r\n    messages.push({\r\n      date: new Date().toString(),\r\n      sender: firebase.auth().currentUser.uid,\r\n      type: 'video',\r\n      url\r\n    });\r\n    this.dataProvider.getGroup(this.groupId).update({\r\n      messages\r\n    });\r\n    this.message = '';\r\n  }\r\n\r\n  // View group info.\r\n  groupInfo() {\r\n    this.router.navigateByUrl('/groupinfo/' + this.groupId);\r\n  }\r\n\r\n  // Controller Functions\r\n  onPress($event) {\r\n    console.log('onPress', $event);\r\n  }\r\n\r\n  onPressUp(event, message) {\r\n    console.log('onPressUp', event);\r\n    console.log(event.center.x);\r\n    console.log(event.center.y);\r\n    this.presentPopover(event, message);\r\n  }\r\n\r\n  // MY Methods ************************\r\n\r\n  async joinGroup() {\r\n    this.alert = this.alertCtrl.create({\r\n      header: 'Join Group',\r\n      message: 'Are you sure you want to join this group?',\r\n      buttons: [\r\n        {\r\n          text: 'Cancel'\r\n        },\r\n        {\r\n          text: 'Join',\r\n          handler: data => {\r\n            // Proceed\r\n            this.loadingProvider.show();\r\n\r\n            // Add groupInfo to each friend added to the group.\r\n            this.firestore.doc('/accounts/' + firebase.auth().currentUser.uid + '/groups/' + this.groupId).update({\r\n              messagesRead: 0\r\n            });\r\n            // Add friend as members of the group.\r\n            this.group.members.push(firebase.auth().currentUser.uid);\r\n            // Add system message that the members are added to the group.\r\n            this.group.messages.push({\r\n              date: new Date().toString(),\r\n              sender: firebase.auth().currentUser.uid,\r\n              type: 'system',\r\n              message: this.user.name + ' has joined the group.',\r\n              icon: 'md-contacts'\r\n            });\r\n\r\n            // Update group data on the database.\r\n            this.dataProvider.getGroup(this.groupId).update({\r\n              members: this.group.members,\r\n              messages: this.group.messages\r\n            }).then(() => {\r\n              // Back.\r\n              this.loadingProvider.hide();\r\n              this.navCtrl.back();\r\n            });\r\n          }\r\n        }\r\n      ]\r\n    }).then(r => r.present());\r\n  }\r\n\r\n\r\n  async presentPopover(myEvent: any, message) {\r\n    let ev: any;\r\n    ev = {\r\n      target: {\r\n        getBoundingClientRect: () => {\r\n          return {\r\n            top: myEvent.center.y,\r\n            left: myEvent.center.x\r\n          };\r\n        }\r\n      }\r\n    };\r\n    const popover = await this.popoverCtrl.create({\r\n      component: PopoverPage,\r\n      componentProps: { message, groupId: this.groupId },\r\n      event: ev,\r\n      translucent: true\r\n    });\r\n    return await popover.present();\r\n  }\r\n\r\n  /// ********************* POLL Functions ***********************************/\r\n\r\n  getGroupDetailsandMessages() {\r\n    // Get group details\r\n\r\n    this.groupId = this.route.snapshot.params.id;\r\n    this.subscription = this.dataProvider.getGroup(this.groupId).snapshotChanges().subscribe((group: any) => {\r\n      console.log('group:', group);\r\n\r\n      this.group = group.payload.data();\r\n      this.title = group.payload.data().name;\r\n\r\n        // Get Group Members\r\n      if (this.group.members) {\r\n          this.group.members.forEach((memberId) => {\r\n            this.dataProvider.getUser(memberId).snapshotChanges().subscribe((member: any) => {\r\n              if (member.key != null) {\r\n                member = { $key: member.key, ...member.payload.data() };\r\n                this.addUpdateOrRemoveMember(member);\r\n              }\r\n            });\r\n          });\r\n        }\r\n\r\n        // Get group messages\r\n      this.dataProvider.getGroupMessages(this.groupId).snapshotChanges().subscribe((messagesRes: any) => {\r\n          let messages = messagesRes.payload.data();\r\n          if (messages == null || messages == undefined) { messages = []; }\r\n\r\n          console.log(this.messages);\r\n          if (this.messages != null && this.messages != undefined) {\r\n            // Just append newly added messages to the bottom of the view.\r\n\r\n            if (messages.length > this.messages.length) {\r\n              const message = messages[messages.length - 1];\r\n              this.dataProvider.getUser(message.sender).snapshotChanges().subscribe((user: any) => {\r\n                message.avatar = user.payload.data().img;\r\n              });\r\n              this.messages.push(message);\r\n              // Also append to messagesToShow.\r\n              this.messagesToShow.push(message);\r\n              // Reset scrollDirection to bottom.\r\n              this.scrollDirection = 'bottom';\r\n            }\r\n          } else {\r\n            // Get all messages, this will be used as reference object for messagesToShow.\r\n            this.messages = [];\r\n            messages.forEach((message) => {\r\n              console.log(message);\r\n              this.dataProvider.getUser(message.sender).snapshotChanges().subscribe((user: any) => {\r\n                if (user.key != null) {\r\n                  message.avatar = user.payload.data().img;\r\n                }\r\n              });\r\n              this.messages.push(message);\r\n            });\r\n            // Load messages in relation to numOfMessages.\r\n            if (this.startIndex === -1) {\r\n              // Get initial index for numberOfMessages to show.\r\n              if ((this.messages.length - this.numberOfMessages) > 0) {\r\n                this.startIndex = this.messages.length - this.numberOfMessages;\r\n              } else {\r\n                this.startIndex = 0;\r\n              }\r\n            }\r\n            if (!this.messagesToShow) {\r\n              this.messagesToShow = [];\r\n            }\r\n            // Set messagesToShow\r\n            for (let i = this.startIndex; i < this.messages.length; i++) {\r\n              this.messagesToShow.push(this.messages[i]);\r\n            }\r\n            this.loadingProvider.hide();\r\n          }\r\n        });\r\n\r\n      this.dataProvider.getGroupMembers(this.groupId).snapshotChanges().subscribe((memberIdsRes: any) => {\r\n          const memberIds = memberIdsRes.payload.data();\r\n          if (memberIds.includes(firebase.auth().currentUser.uid)) {\r\n            this.loggedInUserIsMember = true;\r\n          } else {\r\n            this.loggedInUserIsMember = false;\r\n          }\r\n\r\n        });\r\n\r\n    });\r\n\r\n    // Update messages' date time elapsed every minute based on Moment.js.\r\n    const that = this;\r\n    if (!that.updateDateTime) {\r\n      that.updateDateTime = setInterval(() => {\r\n        if (that.messages) {\r\n          that.messages.forEach((message) => {\r\n            const date = message.date;\r\n            message.date = new Date(date);\r\n          });\r\n        }\r\n      }, 60000);\r\n    }\r\n  }\r\n\r\n\r\n  getGroupDetailsandPosts() {\r\n    // Get group details\r\n    this.posts = [];\r\n    this.groupId = this.route.snapshot.params.id;\r\n    this.subscription = this.dataProvider.getGroup(this.groupId).snapshotChanges().subscribe((group: any) => {\r\n\r\n    this.group = group.payload.data();\r\n    this.title = group.payload.data().name;\r\n\r\n    // Get Group Members\r\n    if (this.group.members) {\r\n      this.group.members.forEach((memberId) => {\r\n        this.dataProvider.getUser(memberId).snapshotChanges().subscribe((member: any) => {\r\n          if (member.key != null) {\r\n            member = { $key: member.key, ...member.payload.data() };\r\n            this.addUpdateOrRemoveMember(member);\r\n          }\r\n        });\r\n      });\r\n    }\r\n\r\n        // Get group posts\r\n    this.firestore.collection('/posts/').ref\r\n        .where('groupId', '==', this.groupId)\r\n        .get().then((snapshot) => {\r\n          console.log('where clause' + snapshot);\r\n          snapshot.forEach((childSnapshot) => {\r\n            let post: any;\r\n            post = { key: childSnapshot.id, ...childSnapshot.data() };\r\n            const startDate = new Date(post.date);\r\n            // Do your operations\r\n            const endDate   = new Date();\r\n            const seconds = (endDate.getTime() - startDate.getTime()) / 1000;\r\n            if (seconds > 120) {\r\n              post.showNewIcon = false;\r\n            } else {\r\n              post.showNewIcon = true;\r\n            }\r\n\r\n            // Check for Thanks\r\n            let totalReactionCount = 0;\r\n            let totalReviewCount = 0;\r\n            if (post.reviews !== undefined) {\r\n              const rev = Object.keys(post.reviews).map(function(e) {\r\n                totalReviewCount += 1;\r\n            });\r\n            }\r\n\r\n            let foundSmiley = false;\r\n            if (post.reactions !== undefined) {\r\n              const values = Object.keys(post.reactions).map(function(e) {\r\n                post.reactions[e].key = e;\r\n                totalReactionCount += 1;\r\n                return post.reactions[e];\r\n              });\r\n              foundSmiley = values.some(el => el.addedByUser.addedByKey === this.dataProvider.getCurrentUserId() && el.reactionType === 'Thanks');\r\n            }\r\n            if (foundSmiley) {\r\n              post.showSmiley = true;\r\n            } else {\r\n              post.showSmiley = false;\r\n            }\r\n            // Check for Hugs\r\n            let foundHug = false;\r\n            if (post.reactions !== undefined) {\r\n              const values = Object.keys(post.reactions).map(function(e) {\r\n                post.reactions[e].key = e;\r\n                return post.reactions[e];\r\n              });\r\n              foundHug = values.some(el => el.addedByUser.addedByKey === this.dataProvider.getCurrentUserId() && el.reactionType === 'Hug');\r\n            }\r\n            if (foundHug) {\r\n              post.showHug = true;\r\n            } else {\r\n              post.showHug = false;\r\n            }\r\n\r\n            post.totalReactionCount = totalReactionCount;\r\n            post.totalReviewCount = totalReviewCount;\r\n            this.addOrUpdatePost(post);\r\n            // this.dataProvider.getUser(childData.sender).snapshotChanges().subscribe((user: any) => {\r\n            //   childData.avatar = user.payload.data().img;\r\n            // });\r\n            // this.posts.push(childData);\r\n          });\r\n          });\r\n    Object.keys(this.group.members).forEach(key => {\r\n          if (this.group.members[key] === firebase.auth().currentUser.uid) {\r\n                this.loggedInUserIsMember = true;\r\n            } else {\r\n              this.loggedInUserIsMember = false;\r\n            }\r\n        });\r\n    });\r\n\r\n    // Update messages' date time elapsed every minute based on Moment.js.\r\n    const that = this;\r\n    if (!that.updateDateTime) {\r\n      that.updateDateTime = setInterval(() => {\r\n        if (that.posts) {\r\n          that.posts.forEach((post) => {\r\n            const date = post.date;\r\n            post.date = new Date(date);\r\n          });\r\n        }\r\n      }, 60000);\r\n    }\r\n  }\r\n\r\n  // Check if user exists in the group then add/update user.\r\n  // If the user has already left the group, remove user from the list.\r\n  addUpdateOrRemoveMember(member) {\r\n    console.log(member);\r\n    if (this.group) {\r\n      if (this.group.members.indexOf(member.$key) > -1) {\r\n        // User exists in the group.\r\n        if (!this.groupMembers) {\r\n          this.groupMembers = [member];\r\n        } else {\r\n          let index = -1;\r\n          for (let i = 0; i < this.groupMembers.length; i++) {\r\n            if (this.groupMembers[i].$key === member.$key) {\r\n              index = i;\r\n            }\r\n          }\r\n          // Add/Update User.\r\n          if (index > -1) {\r\n            this.groupMembers[index] = member;\r\n          } else {\r\n            this.groupMembers.push(member);\r\n          }\r\n        }\r\n      } else {\r\n        // User already left the group, remove member from list.\r\n        let index1 = -1;\r\n        for (let j = 0; j < this.groupMembers.length; j++) {\r\n          if (this.groupMembers[j].$key === member.$key) {\r\n            index1 = j;\r\n          }\r\n        }\r\n        if (index1 > -1) {\r\n          this.groupMembers.splice(index1, 1);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  segmentChanged($event) {\r\n    if (this.tab === 'groups') {\r\n      this.title = this.group.name; this.getGroupDetailsandMessages();\r\n    } else if (this.tab === 'posts') {\r\n      this.title = this.group.name; this.getGroupDetailsandPosts();\r\n    } else if (this.tab === 'polls') {\r\n      this.title = this.group.name; this.getPolls();\r\n    } else if (this.tab === 'resources') {\r\n      this.title = this.group.name; this.getResources();\r\n    } else if (this.tab === 'events') {\r\n      this.title = this.group.name; this.getEvents();\r\n    } else if (this.tab === 'groupInfo') {\r\n      this.title = this.group.name;\r\n    }\r\n  }\r\n\r\n  getPolls() {\r\n    this.subscription = this.dataProvider.getGroupPolls(this.groupId)\r\n    .snapshotChanges().subscribe((pollIdsRes: any) => {\r\n    if (pollIdsRes.length > 0) {\r\n      let pollIds = pollIdsRes.payload.data();\r\n      if (pollIds == null || pollIds === undefined) { pollIds = []; }\r\n      console.log(pollIds);\r\n      pollIds.forEach((pollId) => {\r\n          const pId = pollId;\r\n\r\n          console.log(pId);\r\n          if (pId != null && pId !== 'system0000') {\r\n            this.dataProvider.getPollDetails(pId).snapshotChanges().subscribe((pollRes) => {\r\n              const poll = { key: pollRes.payload.id, ...pollRes.payload.data };\r\n              console.log(poll);\r\n              this.addOrUpdatePoll(poll);\r\n            });\r\n          }\r\n        });\r\n      this.loadingProvider.hide();\r\n      } else {\r\n        this.polls = [];\r\n        this.loadingProvider.hide();\r\n      }\r\n\r\n    });\r\n\r\n  }\r\n  // Open Poll\r\n  viewPoll(poll) {\r\n    this.router.navigateByUrl('poll/' + poll.key);\r\n  }\r\n\r\n  // View Resource selected\r\n  viewResource(resource) {\r\n    this.router.navigateByUrl('resource/' + resource.key);\r\n    /*const navigationExtras: NavigationExtras = {\r\n      state: {\r\n        resource: resource\r\n      }\r\n    };\r\n    this.router.navigate(['resource'], navigationExtras); */\r\n  }\r\n\r\n  // View Post selected\r\n  viewPost(post) {\r\n    console.log('postID: ' + post.key);\r\n    this.router.navigateByUrl('post/' + post.key);\r\n\r\n  }\r\n\r\n  // View Resource selected\r\n  viewEvent(event) {\r\n    this.router.navigateByUrl('event/' + event.key);\r\n  }\r\n\r\n  newPoll() {\r\n    this.router.navigateByUrl('/new-poll/' + this.groupId);\r\n    // this.app.getRootNav().push(NewPollPage, { groupId: this.groupId });\r\n  }\r\n\r\n  newPost() {\r\n    this.router.navigateByUrl('/new-post/' + this.groupId);\r\n    // this.app.getRootNav().push(NewPollPage, { groupId: this.groupId });\r\n  }\r\n\r\n  newResource() {\r\n    this.router.navigateByUrl('/new-resource/' + this.groupId);\r\n    // this.app.getRootNav().push(NewResourcePage, { groupId: this.groupId });\r\n  }\r\n\r\n  newEvent() {\r\n    this.router.navigateByUrl('/new-event/' + this.groupId);\r\n    // this.app.getRootNav().push(NewResourcePage, { groupId: this.groupId });\r\n  }\r\n\r\n  getResources() {\r\n    this.dataProvider.getGroupResources(this.groupId)\r\n    .snapshotChanges().subscribe((resourceIdsRes: any) => {\r\n\r\n      if (resourceIdsRes.length > 0) {\r\n      let resourceIds = resourceIdsRes.payload.data();\r\n      if (resourceIds == null || resourceIds === undefined) { resourceIds = []; }\r\n      resourceIds.forEach((resourceId) => {\r\n          const rId = resourceId;\r\n\r\n          this.dataProvider.getResourceDetails(rId).snapshotChanges().subscribe((resourceRes: any) => {\r\n            const resource = { key: resourceRes.key, ...resourceRes.payload.data() };\r\n            console.log(resource);\r\n\r\n            // Check for Thanks\r\n            let totalReactionCount = 0;\r\n            let totalReviewCount = 0;\r\n\r\n            if (resource.reviews !== undefined) {\r\n              const rev = Object.keys(resource.reviews).map(function(e) {\r\n                totalReviewCount += 1;\r\n            });\r\n            }\r\n\r\n            let foundSmiley = false;\r\n            if (resource.reactions !== undefined) {\r\n            const values = Object.keys(resource.reactions).map(function(e) {\r\n              resource.reactions[e].key = e;\r\n              totalReactionCount += 1;\r\n              return resource.reactions[e];\r\n            });\r\n            // tslint:disable-next-line: max-line-length\r\n            foundSmiley = values.some(el => el.addedByUser.addedByKey === this.dataProvider.getCurrentUserId() && el.reactionType === 'Thanks');\r\n          }\r\n            if (foundSmiley) {\r\n            resource.showSmiley = true;\r\n          } else {\r\n            resource.showSmiley = false;\r\n          }\r\n\r\n          // Check for Bookmarks\r\n            let foundBookmark = false;\r\n            if (resource.reactions !== undefined) {\r\n            const values = Object.keys(resource.reactions).map(function(e) {\r\n            resource.reactions[e].key = e;\r\n            return resource.reactions[e];\r\n          });\r\n            // tslint:disable-next-line: max-line-length\r\n          foundBookmark = values.some(el => el.addedByUser.addedByKey === this.dataProvider.getCurrentUserId() && el.reactionType === 'Bookmark');\r\n        }\r\n            if (foundBookmark) {\r\n            resource.showBookmark = true;\r\n        } else {\r\n            resource.showBookmark = false;\r\n        }\r\n\r\n            resource.totalReviewCount = totalReviewCount;\r\n            resource.totalReactionCount = totalReactionCount;\r\n\r\n            this.addOrUpdateResource(resource);\r\n        });\r\n      });\r\n      this.loadingProvider.hide();\r\n      } else {\r\n        this.resources = [];\r\n        this.loadingProvider.hide();\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  getEvents() {\r\n    this.dataProvider.getGroupEvents(this.groupId).snapshotChanges().subscribe((eventIdsRes: any) => {\r\n      if (eventIdsRes.length > 0) {\r\n        let eventIds = eventIdsRes.payload.data();\r\n        if (eventIds == null || eventIds === undefined) { eventIds = []; }\r\n        eventIds.forEach((eventId) => {\r\n          const eId = eventId;\r\n          this.dataProvider.getEventDetails(eId).snapshotChanges().subscribe((eventRes: any) => {\r\n            const event = { key: eventRes.key, ...eventRes.payload.data() };\r\n\r\n            // Check for Thanks\r\n            let totalReactionCount = 0;\r\n            let totalReviewCount = 0;\r\n            if (event.reviews !== undefined) {\r\n              const rev = Object.keys(event.reviews).map(function(e) {\r\n                totalReviewCount += 1;\r\n            });\r\n            }\r\n\r\n            let foundSmiley = false;\r\n            if (event.reactions !== undefined) {\r\n              const values = Object.keys(event.reactions).map(function(e) {\r\n                event.reactions[e].key = e;\r\n                totalReactionCount += 1;\r\n                return event.reactions[e];\r\n              });\r\n              // tslint:disable-next-line: max-line-length\r\n              foundSmiley = values.some(el => el.addedByUser.addedByKey === this.dataProvider.getCurrentUserId() && el.reactionType === 'Thanks');\r\n            }\r\n            if (foundSmiley) {\r\n              event.showSmiley = true;\r\n              } else {\r\n                event.showSmiley = false;\r\n              }\r\n\r\n            // Check for Checkin\r\n            let foundCheckin = false;\r\n            if (event.reactions !== undefined) {\r\n              const values = Object.keys(event.reactions).map(function(e) {\r\n                event.reactions[e].key = e;\r\n                return event.reactions[e];\r\n              });\r\n                // tslint:disable-next-line: max-line-length\r\n              foundCheckin = values.some(el => el.addedByUser.addedByKey === this.dataProvider.getCurrentUserId() && el.reactionType === 'Checkin');\r\n            }\r\n            if (foundCheckin) {\r\n              event.showCheckin = true;\r\n            } else {\r\n              event.showCheckin = false;\r\n            }\r\n            event.totalReviewCount = totalReviewCount;\r\n            event.totalReactionCount = totalReactionCount;\r\n\r\n            this.addOrUpdateEvent(event);\r\n\r\n\r\n          });\r\n        });\r\n        this.loadingProvider.hide();\r\n      } else {\r\n        this.events = [];\r\n        this.loadingProvider.hide();\r\n      }\r\n    });\r\n  }\r\n\r\n  openResourceFilter() {\r\n    this.openModal();\r\n  }\r\n\r\n\r\n\r\n  openModal() {\r\n\r\n    this.modalCtrl.create({\r\n      component: TagModalPage,\r\n      componentProps: { groupTags: this.resourceTags }\r\n    }).then(res => {\r\n      res.present();\r\n    });\r\n\r\n    this.modalCtrl.dismiss((data) => {\r\n      this.resourceTagsString = '';\r\n      this.resourceTags = data;\r\n      this.resourceTags.forEach(element => {\r\n        if (element.isChecked == true) {\r\n          this.resourceTagsString = this.resourceTagsString + ', ' + element.val;\r\n        }\r\n      });\r\n      this.resourceTagsString = this.resourceTagsString.replace(', ', '');\r\n\r\n    });\r\n\r\n  }\r\n  // Add or update group for real-time sync based on our observer.\r\n  addOrUpdatePoll(poll) {\r\n    let totalPollCount = 0;\r\n    poll.pollTagsString = '';\r\n    if (poll.pollTags && poll.pollTags) {\r\n\r\n      poll.pollTags.forEach(element => {\r\n        if (element.isChecked == true) {\r\n          poll.pollTagsString = poll.pollTagsString + ', ' + element.val;\r\n        }\r\n      });\r\n\r\n      poll.pollTagsString = poll.pollTagsString.replace(', ', '');\r\n    } else {\r\n      poll.pollTagsString = 'No tags found';\r\n    }\r\n    // Add total poll count\r\n    if (poll.pollOptions) {\r\n      poll.pollOptions.forEach(element => {\r\n        if (element.members !== undefined) {\r\n        totalPollCount = totalPollCount + element.members.length;\r\n        }\r\n      });\r\n    }\r\n    poll.totalPollCount = totalPollCount;\r\n\r\n    // Add NEW Icon\r\n    const startDate = new Date(poll.dateCreated);\r\n    const endDate   = new Date();\r\n    const seconds = (endDate.getTime() - startDate.getTime()) / 1000;\r\n\r\n    if (seconds > 120) {\r\n      poll.showNewIcon = false;\r\n    } else {\r\n      poll.showNewIcon = true;\r\n    }\r\n\r\n    if (!this.polls) {\r\n      this.polls = [poll];\r\n    } else {\r\n      let index = -1;\r\n      for (let i = 0; i < this.polls.length; i++) {\r\n        if (this.polls[i].key == poll.key) {\r\n          index = i;\r\n        }\r\n      }\r\n      if (index > -1) {\r\n        this.polls[index] = poll;\r\n      } else {\r\n        this.polls.push(poll);\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n\r\n// Add or update group for real-time sync based on our observer.\r\naddOrUpdateResource(resource) {\r\n  resource.resourceTagsString = '';\r\n  if (resource.resourceTags && resource.resourceTags) {\r\n    resource.resourceTags.forEach(element => {\r\n      if (element.isChecked == true) {\r\n        resource.resourceTagsString = resource.resourceTagsString + ', ' + element.val;\r\n      }\r\n    });\r\n\r\n    resource.resourceTagsString = resource.resourceTagsString.replace(', ', '');\r\n  } else {\r\n    resource.resourceTagsString = 'No tags found';\r\n\r\n  }\r\n\r\n  // Add NEW Icon\r\n  const startDate = new Date(resource.dateCreated);\r\n  const endDate   = new Date();\r\n  const seconds = (endDate.getTime() - startDate.getTime()) / 1000;\r\n\r\n  if (seconds > 120) {\r\n    resource.showNewIcon = false;\r\n  } else {\r\n    resource.showNewIcon = true;\r\n  }\r\n\r\n  if (!this.resources) {\r\n    this.resources = [resource];\r\n  } else {\r\n    let index = -1;\r\n    for (let i = 0; i < this.resources.length; i++) {\r\n      if (this.resources[i].key == resource.key) {\r\n        index = i;\r\n      }\r\n    }\r\n    if (index > -1) {\r\n      this.resources[index] = resource;\r\n    } else {\r\n      this.resources.push(resource);\r\n    }\r\n  }\r\n}\r\n\r\naddOrUpdatePost(post) {\r\n  post.postTagsString = '';\r\n  if (post.resourceTags && post.resourceTags) {\r\n    post.resourceTags.forEach(element => {\r\n      if (element.isChecked == true) {\r\n        post.postTagsString = post.resourceTagsString + ', ' + element.val;\r\n      }\r\n    });\r\n\r\n    post.postTagsString = post.postTagsString.replace(', ', '');\r\n  } else {\r\n    post.postTagsString = 'No tags found';\r\n\r\n  }\r\n  if (!this.posts) {\r\n    this.posts = [post];\r\n  } else {\r\n    let index = -1;\r\n    for (let i = 0; i < this.posts.length; i++) {\r\n      if (this.posts[i].key == post.key) {\r\n        index = i;\r\n      }\r\n    }\r\n    if (index > -1) {\r\n      this.posts[index] = post;\r\n    } else {\r\n      this.posts.push(post);\r\n    }\r\n  }\r\n\r\n}\r\n\r\n// Add or update group for real-time sync based on our observer.\r\naddOrUpdateEvent(event) {\r\n  event.eventTagsString = '';\r\n  if (event.eventTags) {\r\n    event.eventTags.forEach(element => {\r\n      if (element.isChecked === true) {\r\n        event.eventTagsString = event.eventTagsString + ', ' + element.val;\r\n      }\r\n    });\r\n    // Remove first comma from the string\r\n    event.eventTagsString = event.eventTagsString.replace(', ', '');\r\n  } else {\r\n    event.eventTagsString = 'No tags found';\r\n  }\r\n\r\n  // Add NEW Icon\r\n  const startDate = new Date(event.dateCreated);\r\n  const endDate   = new Date();\r\n  const seconds = (endDate.getTime() - startDate.getTime()) / 1000;\r\n\r\n  if (seconds > 120) {\r\n    event.showNewIcon = false;\r\n  } else {\r\n    event.showNewIcon = true;\r\n  }\r\n\r\n  if (!this.events) {\r\n    this.events = [event];\r\n  } else {\r\n    let index = -1;\r\n    for (let i = 0; i < this.events.length; i++) {\r\n      if (this.events[i].key === event.key) {\r\n        index = i;\r\n      }\r\n    }\r\n    if (index > -1) {\r\n      this.events[index] = event;\r\n    } else {\r\n      this.events.push(event);\r\n    }\r\n  }\r\n}\r\n\r\nshowGroupOptions() {\r\nconst action = this.actionSheet.create({\r\n  header: 'Create a new ...',\r\n  backdropDismiss: true,\r\n  mode: 'md',\r\n  cssClass: 'GroupAction',\r\n  buttons: [{\r\n    text: 'Post',\r\n    icon: 'chatbubbles',\r\n    handler: () => {\r\n      this.newPost();\r\n    }\r\n  }, {\r\n    text: 'Resource',\r\n    icon: 'document',\r\n    handler: () => {\r\n      this.newResource();\r\n    }\r\n  }, {\r\n    text: 'Poll',\r\n    icon: 'podium',\r\n    handler: () => {\r\n      this.newPoll();\r\n    }\r\n  }, {\r\n    text: 'Event',\r\n    icon: 'calendar',\r\n    cssClass: 'cancelAction',\r\n    handler: () => {\r\n      this.newEvent();\r\n    }\r\n  }]\r\n}).then(r => r.present());\r\n}\r\n\r\nsubmitReactionPost(post, reactionType) {\r\n  switch (reactionType) {\r\n    case 'Thanks': {\r\n      if (!post.showSmiley) {\r\n        this.addPostReaction(post, reactionType);\r\n        post.showSmiley = true;\r\n        post.totalReactionCount += 1;\r\n      } else {\r\n        this.removePostReaction(post, reactionType);\r\n        post.showSmiley = false;\r\n        post.totalReactionCount -= 1;\r\n      }\r\n      break;\r\n    }\r\n\r\n    case 'Hug': {\r\n      if (!post.showHug) {\r\n        this.addPostReaction(post, reactionType);\r\n        post.showHug = true;\r\n        post.totalReactionCount += 1;\r\n      } else {\r\n        this.removePostReaction(post, reactionType);\r\n        post.showHug = false;\r\n        post.totalReactionCount -= 1;\r\n      }\r\n      break;\r\n    }\r\n  }\r\n\r\n}\r\n\r\naddPostReaction(post, reactionType) {\r\n  // first find the post in the collection\r\n  const postIndex = this.posts.findIndex(el => el.key ===  post.key);\r\n  const p = this.posts[postIndex];\r\n\r\n  const reaction = {\r\n    dateCreated: new Date().toString(),\r\n    reactionType\r\n  };\r\n\r\n  if (postIndex >= 0) {\r\n    if (p.reactions === undefined) {\r\n      const key = this.dataProvider.addFirstPostReactions(post.key, reaction);\r\n      // reaction.key = key;\r\n    } else {\r\n      const key = this.dataProvider.updatePostReactions(post.key, reaction);\r\n      // reaction.key = key;\r\n    }\r\n  }\r\n}\r\n\r\nremovePostReaction(post, reactionType) {\r\n  // first find the post in the collection\r\n  const postIndex = this.posts.findIndex(el => el.key ===  post.key);\r\n  const p = this.posts[postIndex];\r\n\r\n  const found = false;\r\n  if (p.reactions !== undefined) {\r\n    const values = Object.keys(p.reactions).map(function(e) {\r\n      return p.reactions[e];\r\n    });\r\n\r\n    const reactionIndex = values.find(\r\n                              el => el.addedByUser.addedByKey === this.dataProvider.getCurrentUserId()\r\n                              && el.reactionType === reactionType);\r\n    if (reactionIndex === undefined) {\r\n      // this shouldn't have happened, so set the smiley to false for now\r\n      // post.showSmiley = false;\r\n    } else {\r\n      console.log('remove reaction now : ' + post.key + ' : ' + reactionIndex.key);\r\n      this.dataProvider.removePostReaction(post.key, reactionIndex.key);\r\n    }\r\n}\r\n}\r\n\r\nasync showReactionsList(post) {\r\n  if (post.totalReactionCount === 0) {\r\n    return;\r\n  }\r\n // first find the post in the collection\r\n  const postIndex = this.posts.findIndex(el => el.key ===  post.key);\r\n  const p = this.posts[postIndex];\r\n\r\n  const modal = await this.modalCtrl.create({\r\n    component: ReactionListModalPage,\r\n    componentProps: {\r\n      reactions: p.reactions\r\n    }\r\n  });\r\n  return await modal.present();\r\n\r\n}\r\n\r\nasync showResourceReactionsList(resource) {\r\n  if (resource.totalReactionCount === 0) {\r\n    return;\r\n  }\r\n // first find the post in the collection\r\n  const resourceIndex = this.resources.findIndex(el => el.key ===  resource.key);\r\n  const p = this.resources[resourceIndex];\r\n\r\n  const modal = await this.modalCtrl.create({\r\n    component: ReactionListModalPage,\r\n    componentProps: {\r\n      reactions: p.reactions\r\n    }\r\n  });\r\n  return await modal.present();\r\n\r\n}\r\n\r\nasync showResourceBookmarkList(resource) {\r\n  if (resource.totalBookmarkCount === 0) {\r\n    return;\r\n  }\r\n // first find the post in the collection\r\n  const resourceIndex = this.resources.findIndex(el => el.key ===  resource.key);\r\n  const p = this.resources[resourceIndex];\r\n\r\n  const modal = await this.modalCtrl.create({\r\n    component: ReactionListModalPage,\r\n    componentProps: {\r\n      reactions: p.bookmarks\r\n    }\r\n  });\r\n  return await modal.present();\r\n\r\n}\r\n\r\nasync showEventReactionsList(event) {\r\n  if (event.totalReactionCount === 0) {\r\n    return;\r\n  }\r\n // first find the post in the collection\r\n  const eventIndex = this.events.findIndex(el => el.key ===  event.key);\r\n  const p = this.events[eventIndex];\r\n\r\n  const modal = await this.modalCtrl.create({\r\n    component: ReactionListModalPage,\r\n    componentProps: {\r\n      reactions: p.reactions\r\n    }\r\n  });\r\n  return await modal.present();\r\n\r\n}\r\n\r\nsubmitReactionResource(resource, reactionType) {\r\n  switch (reactionType) {\r\n    case 'Bookmark': {\r\n      if (!resource.showBookmark) {\r\n        this.addResourceReaction(resource, reactionType);\r\n        resource.showBookmark = true;\r\n        resource.totalReactionCount += 1;\r\n      } else {\r\n        this.removeResourceReaction(resource, reactionType);\r\n        resource.showBookmark = false;\r\n        resource.totalReactionCount -= 1;\r\n      }\r\n      break;\r\n    }\r\n\r\n    case 'Thanks': {\r\n      if (!resource.showSmiley) {\r\n        this.addResourceReaction(resource, reactionType);\r\n        resource.showSmiley = true;\r\n        resource.totalReactionCount += 1;\r\n      } else {\r\n        this.removeResourceReaction(resource, reactionType);\r\n        resource.showSmiley = false;\r\n        resource.totalReactionCount -= 1;\r\n      }\r\n      break;\r\n    }\r\n  }\r\n\r\n}\r\n\r\naddResourceReaction(resource, reactionType) {\r\n  // first find the post in the collection\r\n  const resourceIndex = this.resources.findIndex(el => el.key ===  resource.key);\r\n  const p = this.resources[resourceIndex];\r\n\r\n  const reaction = {\r\n    dateCreated: new Date().toString(),\r\n    reactionType\r\n  };\r\n\r\n  if (resourceIndex >= 0) {\r\n    if (p.reactions === undefined) {\r\n      const key = this.dataProvider.addFirstResourceReactions(resource.key, reaction);\r\n      // reaction.key = key;\r\n    } else {\r\n      const key = this.dataProvider.updateResourceReactions(resource.key, reaction);\r\n      // reaction.key = key;\r\n    }\r\n  }\r\n}\r\n\r\nremoveResourceReaction(resource, reactionType) {\r\n  // first find the post in the collection\r\n  const resourceIndex = this.resources.findIndex(el => el.key ===  resource.key);\r\n  const p = this.resources[resourceIndex];\r\n\r\n  const found = false;\r\n  if (p.reactions !== undefined) {\r\n    const values = Object.keys(p.reactions).map(function(e) {\r\n      return p.reactions[e];\r\n    });\r\n\r\n    const reactionIndex = values.find(\r\n                              el => el.addedByUser.addedByKey === this.dataProvider.getCurrentUserId()\r\n                              && el.reactionType === reactionType);\r\n    if (reactionIndex === undefined) {\r\n      // this shouldn't have happened, so set the smiley to false for now\r\n      // post.showSmiley = false;\r\n    } else {\r\n      console.log('remove reaction now : ' + resource.key + ' : ' + reactionIndex.key);\r\n      this.dataProvider.removeResourceReaction(resource.key, reactionIndex.key);\r\n    }\r\n}\r\n}\r\n\r\nsubmitReactionEvent(event, reactionType) {\r\n  switch (reactionType) {\r\n    case 'Checkin': {\r\n      if (!event.showCheckin) {\r\n        this.addEventReaction(event, reactionType);\r\n        event.showCheckin = true;\r\n        event.totalReactionCount += 1;\r\n      } else {\r\n        this.removeEventReaction(event, reactionType);\r\n        event.showCheckin = false;\r\n        event.totalReactionCount -= 1;\r\n      }\r\n      break;\r\n    }\r\n\r\n    case 'Thanks': {\r\n      if (!event.showSmiley) {\r\n        this.addEventReaction(event, reactionType);\r\n        event.showSmiley = true;\r\n        event.totalReactionCount += 1;\r\n      } else {\r\n        this.removeEventReaction(event, reactionType);\r\n        event.showSmiley = false;\r\n        event.totalReactionCount -= 1;\r\n      }\r\n      break;\r\n    }\r\n  }\r\n\r\n}\r\n\r\naddEventReaction(event, reactionType) {\r\n  // first find the post in the collection\r\n  const eventIndex = this.events.findIndex(el => el.key ===  event.key);\r\n  const p = this.events[eventIndex];\r\n\r\n  const reaction = {\r\n    dateCreated: new Date().toString(),\r\n    reactionType\r\n  };\r\n\r\n  if (eventIndex >= 0) {\r\n    if (p.reactions === undefined) {\r\n      const key = this.dataProvider.addFirstEventReactions(event.key, reaction);\r\n      // reaction.key = key;\r\n    } else {\r\n      const key = this.dataProvider.updateEventReactions(event.key, reaction);\r\n      // reaction.key = key;\r\n    }\r\n  }\r\n}\r\n\r\nremoveEventReaction(event, reactionType) {\r\n  // first find the post in the collection\r\n  const eventIndex = this.events.findIndex(el => el.key ===  event.key);\r\n  const p = this.events[eventIndex];\r\n\r\n  const found = false;\r\n  if (p.reactions !== undefined) {\r\n    const values = Object.keys(p.reactions).map(function(e) {\r\n      return p.reactions[e];\r\n    });\r\n\r\n    const reactionIndex = values.find(\r\n                              el => el.addedByUser.addedByKey === this.dataProvider.getCurrentUserId()\r\n                              && el.reactionType === reactionType);\r\n    if (reactionIndex === undefined) {\r\n      // this shouldn't have happened, so set the smiley to false for now\r\n      // post.showSmiley = false;\r\n    } else {\r\n      console.log('remove reaction now : ' + event.key + ' : ' + reactionIndex.key);\r\n      this.dataProvider.removeEventReaction(event.key, reactionIndex.key);\r\n    }\r\n}\r\n}\r\n}\r\n"],"sourceRoot":"webpack:///"}