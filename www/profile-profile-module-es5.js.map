{"version":3,"sources":["src/app/profile/profile.page.html","src/app/profile/profile.module.ts","src/app/profile/profile.page.scss","src/app/profile/profile.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar color=\\\"secondary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Profile</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button (click)=\\\"logout()\\\">\\n        Logout\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n  <div *ngIf=\\\"user\\\">\\n    <div class=\\\"center ion-padding\\\">\\n      <img src=\\\"{{user.img}}\\\" style=\\\"border-radius: 100%;height: 80px;width:80px\\\" tappable (click)=\\\"setPhoto()\\\"\\n        onError=\\\"this.src='http://placehold.it/80x80'\\\">\\n    </div>\\n    <form [formGroup]=\\\"myForm\\\">\\n      <ion-list lines=\\\"none\\\">\\n        <ion-item>\\n          <ion-label position=\\\"stacked\\\">Fullname</ion-label>\\n          <ion-input type=\\\"text\\\" formControlName=\\\"name\\\" [(ngModel)]=\\\"user.name\\\"></ion-input>\\n          <div *ngFor=\\\"let validation of errorMessages.name\\\">\\n            <p class=\\\"error\\\"\\n              *ngIf=\\\"myForm.get('name').hasError(validation.type) && (myForm.get('name').dirty || myForm.get('name').touched || submitAttempt) \\\">\\n              {{validation.message}}\\n            </p>\\n          </div>\\n        </ion-item>\\n        <ion-item>\\n          <ion-label position=\\\"stacked\\\">Username</ion-label>\\n          <ion-input formControlName=\\\"username\\\" type=\\\"text\\\" [(ngModel)]=\\\"user.username\\\"></ion-input>\\n          <div *ngFor=\\\"let validation of errorMessages.username\\\">\\n            <p class=\\\"error\\\"\\n              *ngIf=\\\"myForm.get('username').hasError(validation.type) && (myForm.get('username').dirty || myForm.get('username').touched || submitAttempt) \\\">\\n              {{validation.message}}\\n            </p>\\n          </div>\\n        </ion-item>\\n        <ion-item>\\n          <ion-label position=\\\"stacked\\\">Bio</ion-label>\\n          <ion-textarea formControlName=\\\"bio\\\" [(ngModel)]=\\\"user.description\\\"></ion-textarea>\\n          <div *ngFor=\\\"let validation of errorMessages.bio\\\">\\n            <p class=\\\"error\\\"\\n              *ngIf=\\\"myForm.get('bio').hasError(validation.type) && (myForm.get('bio').dirty || myForm.get('bio').touched || submitAttempt) \\\">\\n              {{validation.message}}\\n            </p>\\n          </div>\\n        </ion-item>\\n        <ion-item>\\n          <ion-label position=\\\"stacked\\\">Email</ion-label>\\n          <ion-input type=\\\"text\\\" formControlName=\\\"email\\\" [(ngModel)]=\\\"user.email\\\" disabled></ion-input>\\n        </ion-item>\\n        <div class=\\\"ion-padding\\\">\\n          <ion-button expand=\\\"block\\\" (click)=\\\"save()\\\">Save Changes</ion-button>\\n        </div>\\n      </ion-list>\\n    </form>\\n    <ion-item-divider>Other Settings</ion-item-divider>\\n    <ion-list lines=\\\"none\\\">\\n\\n      <ion-item>\\n        <ion-label>Enable Public Visibility</ion-label>\\n        <ion-toggle slot=\\\"end\\\" [(ngModel)]=\\\"user.publicVisibility\\\" (ionChange)=\\\"changeVisibility()\\\"></ion-toggle>\\n      </ion-item>\\n      <ion-item>\\n        <ion-label>Show Online</ion-label>\\n        <ion-toggle slot=\\\"end\\\" [(ngModel)]=\\\"user.showOnline\\\" (ionChange)=\\\"changeStatus()\\\"></ion-toggle>\\n      </ion-item>\\n      <ion-item>\\n        <ion-label>\\n          <ion-text>\\n            <h3>Enable Notification</h3>\\n          </ion-text>\\n          <ion-text *ngIf=\\\"isBrowser\\\">\\n            <p>Push Notification only works on browser</p>\\n          </ion-text>\\n        </ion-label>\\n        <ion-toggle slot=\\\"end\\\" [(ngModel)]=\\\"user.isPushEnabled\\\" [disabled]=\\\"isBrowser\\\"\\n          (ionChange)=\\\"changeNotification()\\\">\\n        </ion-toggle>\\n      </ion-item>\\n      <ion-item routerLink=\\\"/blockedlist\\\">\\n        <ion-label>Blocked List</ion-label>\\n        <ion-icon slot=\\\"end\\\" name=\\\"arrow-forward\\\"></ion-icon>\\n      </ion-item>\\n      <ion-item tappable (click)=\\\"setPassword()\\\" *ngIf=\\\"user && user.provider == 'Email'\\\">\\n        Update Password\\n      </ion-item>\\n      <ion-item tappable (click)=\\\"logout()\\\">Logout</ion-item>\\n      <ion-item tappable (click)=\\\"deleteAccount()\\\" style=\\\"color:#F44336\\\">\\n        Delete Account\\n      </ion-item>\\n    </ion-list>\\n  </div>\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ProfilePage } from './profile.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProfilePage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ProfilePage]\n})\nexport class ProfilePageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3Byb2ZpbGUvcHJvZmlsZS5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { LoginService } from '../services/login.service';\nimport { DataService } from '../services/data.service';\nimport { LoadingService } from '../services/loading.service';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { AlertController, Platform } from '@ionic/angular';\nimport { ImageService } from '../services/image.service';\nimport { Camera } from '@ionic-native/camera/ngx';\nimport { FirebaseX } from '@ionic-native/firebase-x/ngx';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { Validator } from 'src/environments/validator';\n\n@Component({\n  selector: 'app-profile',\n  templateUrl: './profile.page.html',\n  styleUrls: ['./profile.page.scss'],\n})\nexport class ProfilePage implements OnInit {\n\n  showOnline = false;\n  isPushEnabled: any = false;\n  user: any;\n  isBrowser = true;\n\n  myForm: FormGroup;\n  submitAttempt = false;\n  errorMessages: any = [];\n\n  constructor(\n    private loginService: LoginService,\n    private dataProvider: DataService,\n    private loadingProvider: LoadingService,\n    private firestore: AngularFirestore,\n    private afAuth: AngularFireAuth,\n    private alertCtrl: AlertController,\n    private imageProvider: ImageService,\n    private camera: Camera,\n    private fcm: FirebaseX,\n    private platform: Platform,\n    private formBuilder: FormBuilder\n  ) {\n\n    this.errorMessages = Validator.errorMessages\n    this.myForm = this.formBuilder.group({\n      name: Validator.nameValidator,\n      username: Validator.usernameValidator,\n      email: Validator.emailValidator,\n      bio: Validator.bioValidator\n    })\n\n  }\n\n  ngOnInit() {\n    this.isBrowser = this.platform.is('desktop');\n  }\n\n  ionViewDidEnter() {\n    this.dataProvider.getCurrentUser().snapshotChanges().subscribe((user: any) => {\n      let account = user.payload.data(); \n      this.loadingProvider.hide();\n      if (account != null) {\n        this.user = account;\n      }\n      console.log(this.user);\n    });\n  }\n\n  changeStatus() {\n    this.firestore.doc('accounts/' + this.user.userId).update({ showOnline: this.user.showOnline });\n  }\n  changeVisibility() {\n    this.firestore.doc('accounts/' + this.user.userId).update({ publicVisibility: this.user.publicVisibility });\n  }\n\n  save() {\n    this.submitAttempt = true;\n    if (this.myForm.valid) {\n      this.loadingProvider.show();\n      this.firestore.doc('accounts/' + this.user.userId).update(this.user).then(() => {\n        this.loadingProvider.hide();\n        this.loadingProvider.showToast(\"Updated Successfully\")\n      }).catch(err => {\n        this.loadingProvider.showToast(\"Something went wrong\");\n        this.loadingProvider.hide();\n      });\n    }\n  }\n\n  changeNotification() {\n\n    if (this.platform.is('desktop')) {\n      this.user.isPushEnabled = false;\n      this.loadingProvider.showToast(\"Notification only working on mobile device\")\n    }\n    else {\n      console.log(this.user.isPushEnabled);\n      if (this.user.isPushEnabled == true) {\n        //Registering for push notification\n        this.fcm.hasPermission().then(hasPermission => {\n          if (!hasPermission) {\n            this.fcm.grantPermission().then(data => console.log(data));\n          }\n          else {\n            this.fcm.getToken().then(token => {\n              console.log(token);\n              this.firestore.doc('/accounts/' + this.afAuth.auth.currentUser.uid).update({ isPushEnabled: true, pushToken: token });\n              this.user.isPushEnabled = true;\n            }).catch(err => {\n              console.log(err);\n            });\n            this.fcm.onTokenRefresh().subscribe(token => {\n              console.log(token);\n              this.firestore.doc('/accounts/' + this.afAuth.auth.currentUser.uid).update({ isPushEnabled: true, pushToken: token });\n            });\n          }\n        });\n        this.fcm.onMessageReceived().subscribe(data => {\n          console.log(data);\n        });\n      }\n      else {\n        this.user.isPushEnabled == false;\n        this.firestore.doc('/accounts/' + this.afAuth.auth.currentUser.uid).update({ isPushEnabled: false, pushToken: '' });\n      }\n    }\n  }\n\n\n  setPhoto() {\n\n    this.alertCtrl.create({\n      header: 'Set Profile Photo',\n      message: 'Do you want to take a photo or choose from your photo gallery?',\n      buttons: [\n        {\n          text: 'Cancel',\n          handler: data => { }\n        },\n        {\n          text: 'Choose from Gallery',\n          handler: () => {\n            // Call imageProvider to process, upload, and update user photo.\n            this.imageProvider.setProfilePhoto(this.user, this.camera.PictureSourceType.PHOTOLIBRARY);\n          }\n        },\n        {\n          text: 'Take Photo',\n          handler: () => {\n            // Call imageProvider to process, upload, and update user photo.\n            this.imageProvider.setProfilePhoto(this.user, this.camera.PictureSourceType.CAMERA);\n          }\n        }\n      ]\n    }).then(r => r.present());\n  }\n\n  setPassword() {\n    this.afAuth.auth.sendPasswordResetEmail(this.afAuth.auth.currentUser.email)\n      .then(res => {\n        this.loadingProvider.showToast(\"Please Check your inbox\");\n      }).catch(err => {\n        this.loadingProvider.showToast(err.message);\n      })\n  }\n\n  // Delete the user account. After deleting the Firebase user, the userData along with their profile pic uploaded on the storage will be deleted as well.\n  // If you added some other info or traces for the account, make sure to account for them when deleting the account.\n  deleteAccount() {\n    this.alertCtrl.create({\n      header: 'Confirm Delete',\n      message: 'Are you sure you want to delete your account? This cannot be undone.',\n      buttons: [\n        { text: 'Cancel' },\n        {\n          text: 'Delete',\n          handler: data => {\n            this.loadingProvider.show();\n            // Delete Firebase user\n            this.afAuth.auth.currentUser.delete()\n              .then((success) => {\n                // Delete profilePic of user on Firebase storage\n                this.imageProvider.deleteUserImageFile(this.user);\n                // Delete user data on Database\n                this.firestore.doc('/accounts/' + this.user.userId).delete().then(() => {\n                  this.loadingProvider.hide();\n                  this.loadingProvider.showToast(\"Your Account Deleted Successfully\");\n                  this.loginService.logout();\n                });\n              })\n              .catch((error) => {\n                this.loadingProvider.hide();\n                this.loadingProvider.showToast(\"Something went wrong\");\n              });\n          }\n        }\n      ]\n    }).then(r => r.present());\n  }\n\n  logout() {\n    this.loginService.logout();\n  }\n\n}"],"sourceRoot":"webpack:///","file":"profile-profile-module-es5.js"}