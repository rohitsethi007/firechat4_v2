{"version":3,"sources":["webpack:///src/app/profile/profile.module.ts","webpack:///src/app/profile/profile.page.ts","webpack:///src/app/profile/profile.page.html","webpack:///src/app/profile/profile.page.scss"],"names":["routes","path","component","ProfilePageModule","imports","forChild","declarations","ProfilePage","loginService","dataProvider","loadingProvider","firestore","afAuth","imageProvider","alertCtrl","camera","fcm","firebaseProvider","platform","formBuilder","route","router","modalCtrl","routerOutlet","showOnline","messageMe","isPushEnabled","isBrowser","userPosts","userReactions","userComments","groups","friends","myProfile","submitAttempt","errorMessages","userId","snapshot","params","id","loggedInUserId","getCurrentUserId","myForm","group","name","nameValidator","username","usernameValidator","email","emailValidator","bio","bioValidator","ngOnInit","is","ionViewDidEnter","getUserData","getUser","snapshotChanges","subscribe","user","account","payload","data","title","collection","ref","where","FieldPath","documentId","get","then","po","loadEachPostData","forEach","f","friend","key","addOrUpdateUserFriend","console","log","foundFriend","some","el","g","addOrUpdateUserGroup","p","post","postTags","filter","x","isChecked","addOrUpdateUserPost","addOrUpdateCommentPost","addOrUpdateReactionPost","index","i","length","push","changeStatus","doc","update","changeVisibility","publicVisibility","save","valid","show","hide","showToast","err","changeNotification","currentUser","u","uid","hasPermission","grantPermission","getToken","token","pushToken","onTokenRefresh","onMessageReceived","setPhoto","create","header","message","buttons","text","handler","setProfilePhoto","PictureSourceType","PHOTOLIBRARY","CAMERA","r","present","setPassword","sendPasswordResetEmail","res","deleteAccount","success","deleteUserImageFile","logout","error","viewPost","navigateByUrl","viewUser","viewGroup","groupId","editProfile","componentProps","modal","messageUser","connectUser","alert","sendFriendRequest","selector","template"],"mappings":"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","file":"profile-profile-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Routes, RouterModule } from '@angular/router';\nimport { IonicModule } from '@ionic/angular';\nimport { SharedModule } from '../services/share.module';\nimport { ComponentsModule } from '../components/components.module';\nimport { ProfilePage } from './profile.page';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProfilePage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    IonicModule,\n    SharedModule,\n    FormsModule,\n    ReactiveFormsModule,\n    ComponentsModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ProfilePage]\n})\nexport class ProfilePageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { LoginService } from '../services/login.service';\nimport { DataService } from '../services/data.service';\nimport { LoadingService } from '../services/loading.service';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { AlertController, Platform, ModalController, IonRouterOutlet } from '@ionic/angular';\nimport { ImageService } from '../services/image.service';\nimport { Camera } from '@ionic-native/camera/ngx';\nimport { FirebaseX } from '@ionic-native/firebase-x/ngx';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { Validator } from 'src/environments/validator';\nimport * as firebase from 'firebase/app';\nimport { ActivatedRoute, Router, NavigationExtras } from '@angular/router';\nimport { FirebaseService } from '../services/firebase.service';\nimport { UserProfileModalPage } from '../user-profile-modal/user-profile-modal.page';\n\n@Component({\n  selector: 'app-profile',\n  templateUrl: './profile.page.html',\n  styleUrls: ['./profile.page.scss'],\n})\nexport class ProfilePage implements OnInit {\n  title: any;\n  userId: any;\n  showOnline = false;\n  messageMe = false;\n  loggedInUserId: any;\n  isPushEnabled: any = false;\n  user: any;\n  isBrowser = true;\n  userPosts: any = [];\n  userReactions: any = [];\n  userComments: any = [];\n  groups: any = [];\n  friends: any = [];\n  myProfile = false;\n  myForm: FormGroup;\n  submitAttempt = false;\n  errorMessages: any = [];\n  alert: any;\n\n  constructor(\n    private loginService: LoginService,\n    private dataProvider: DataService,\n    private loadingProvider: LoadingService,\n    private firestore: AngularFirestore,\n    private afAuth: AngularFireAuth,\n    private imageProvider: ImageService,\n    public alertCtrl: AlertController,\n    private camera: Camera,\n    private fcm: FirebaseX,\n    public firebaseProvider: FirebaseService,\n    private platform: Platform,\n    private formBuilder: FormBuilder,\n    private route: ActivatedRoute,\n    private router: Router,\n    public modalCtrl: ModalController,\n    private routerOutlet: IonRouterOutlet\n  ) {\n    this.userId = this.route.snapshot.params.id;\n    this.loggedInUserId = this.dataProvider.getCurrentUserId();\n    if (this.userId === this.loggedInUserId) {\n      this.myProfile = true;\n    } else {\n      this.myProfile = false;\n    }\n\n    this.errorMessages = Validator.errorMessages;\n    this.myForm = this.formBuilder.group({\n      name: Validator.nameValidator,\n      username: Validator.usernameValidator,\n      email: Validator.emailValidator,\n      bio: Validator.bioValidator\n    });\n  }\n\n  ngOnInit() {\n    this.isBrowser = this.platform.is('desktop');\n  }\n\n  ionViewDidEnter() {\n    this.getUserData();\n  }\n\n  getUserData() {\n    this.dataProvider.getUser(this.userId).snapshotChanges().subscribe((user: any) => {\n      let account = user.payload.data();\n      if (account != null) {\n        this.user = account;\n        this.title = this.user.username;\n        // get user Posts\n        if (this.user.userPosts) {\n          this.firestore.collection('posts').ref\n          .where(firebase.default.firestore.FieldPath.documentId(), 'in', this.user.userPosts)\n          .get().then((po: any) => {\n            this.userPosts = [];\n            this.loadEachPostData(po, 'userPosts');\n          });\n        }\n\n        // get user Reaction Posts\n        if (this.user.userReactions) {\n          this.firestore.collection('posts').ref\n          .where(firebase.default.firestore.FieldPath.documentId(), 'in', this.user.userReactions)\n          .get().then((po: any) => {\n          this.userReactions = [];\n          this.loadEachPostData(po, 'userReactions');\n          });\n        }\n\n        // get user Posts\n        if (this.user.userComments) {\n          this.firestore.collection('posts').ref\n          .where(firebase.default.firestore.FieldPath.documentId(), 'in', this.user.userComments)\n          .get().then((po: any) => {\n          this.userComments = [];\n          this.loadEachPostData(po, 'userComments');\n          });\n        }\n\n        // Get User Friends list\n        if (this.user.friends) {\n          this.firestore.collection('accounts').ref\n          .where(firebase.default.firestore.FieldPath.documentId(), 'in', this.user.friends)\n          .get().then((user: any) => {\n            this.friends = [];\n            user.forEach(f => {\n              let friend: any;\n              friend = f.data();\n              friend.key = f.id;\n              this.addOrUpdateUserFriend(friend);\n            });\n\n            console.log('this.friends', this.friends);\n            // check if logged in user is a friend\n            const foundFriend = this.friends.some(el => el.userId === this.loggedInUserId);\n            if (foundFriend) {\n               this.messageMe = true;\n            } else {\n              this.messageMe = false;\n            }\n          });\n        }\n\n        // Get User Groups List\n        if (this.user.groups) {\n          this.firestore.collection('groups').ref\n          .where(firebase.default.firestore.FieldPath.documentId(), 'in', this.user.groups)\n          .get().then((group: any) => {\n            this.groups = [];\n            group.forEach(g => {\n              let group: any;\n              group = g.data();\n              group.key = g.id;\n              this.addOrUpdateUserGroup(group);\n            });\n          });\n          }\n      }\n    });\n  }\n\n  loadEachPostData(po: any, collection: any) {\n    po.forEach(p => {\n      let post: any;\n      post = p.data();\n      post.key = p.id;\n      post.postTags = post.postTags.filter(x => x.isChecked !== false);\n      if (collection === 'userPosts') { this.addOrUpdateUserPost(post); }\n      if (collection === 'userComments') { this.addOrUpdateCommentPost(post); }\n      if (collection === 'userReactions') { this.addOrUpdateReactionPost(post); }\n    });\n  }\n\n  addOrUpdateUserPost(post) {\n    if (!this.userPosts) {\n      this.userPosts = [post];\n    } else {\n      let index = -1;\n      for (let i = 0; i < this.userPosts.length; i++) {\n        if (this.userPosts[i].key == post.key) {\n          index = i;\n        }\n      }\n      if (index > -1) {\n        this.userPosts[index] = post;\n      } else {\n        this.userPosts.push(post);\n      }\n    }\n  }\n\n  addOrUpdateUserFriend(friend) {\n    if (!this.friends) {\n      this.friends = [friend];\n    } else {\n      let index = -1;\n      for (let i = 0; i < this.friends.length; i++) {\n        if (this.friends[i].key == friend.key) {\n          index = i;\n        }\n      }\n      if (index > -1) {\n        this.friends[index] = friend;\n      } else {\n        this.friends.push(friend);\n      }\n    }\n  }\n\n  addOrUpdateUserGroup(group) {\n    if (!this.groups) {\n      this.groups = [group];\n    } else {\n      let index = -1;\n      for (let i = 0; i < this.groups.length; i++) {\n        if (this.groups[i].key == group.key) {\n          index = i;\n        }\n      }\n      if (index > -1) {\n        this.groups[index] = group;\n      } else {\n        this.groups.push(group);\n      }\n    }\n  }\n\n  addOrUpdateReactionPost(post) {\n    if (!this.userReactions) {\n      this.userReactions = [post];\n    } else {\n      let index = -1;\n      for (let i = 0; i < this.userReactions.length; i++) {\n        if (this.userReactions[i].key == post.key) {\n          index = i;\n        }\n      }\n      if (index > -1) {\n        this.userReactions[index] = post;\n      } else {\n        this.userReactions.push(post);\n      }\n    }\n  }\n\n  addOrUpdateCommentPost(post) {\n    if (!this.userComments) {\n      this.userComments = [post];\n    } else {\n      let index = -1;\n      for (let i = 0; i < this.userComments.length; i++) {\n        if (this.userComments[i].key == post.key) {\n          index = i;\n        }\n      }\n      if (index > -1) {\n        this.userComments[index] = post;\n      } else {\n        this.userComments.push(post);\n      }\n    }\n  }\n\n  changeStatus() {\n    this.firestore.doc('accounts/' + this.user.userId).update({ showOnline: this.user.showOnline });\n  }\n  changeVisibility() {\n    this.firestore.doc('accounts/' + this.user.userId).update({ publicVisibility: this.user.publicVisibility });\n  }\n\n  save() {\n    this.submitAttempt = true;\n    if (this.myForm.valid) {\n      this.loadingProvider.show();\n      this.firestore.doc('accounts/' + this.user.userId).update(this.user).then(() => {\n        this.loadingProvider.hide();\n        this.loadingProvider.showToast(\"Updated Successfully\")\n      }).catch(err => {\n        this.loadingProvider.showToast(\"Something went wrong\");\n        this.loadingProvider.hide();\n      });\n    }\n  }\n\n  async changeNotification() {\n    let uid = await this.afAuth.currentUser.then((u) => u.uid);\n    if (this.platform.is('desktop')) {\n      this.user.isPushEnabled = false;\n      this.loadingProvider.showToast(\"Notification only working on mobile device\")\n    }\n    else {\n      console.log(this.user.isPushEnabled);\n      if (this.user.isPushEnabled == true) {\n        //Registering for push notification\n        this.fcm.hasPermission().then(hasPermission => {\n          if (!hasPermission) {\n            this.fcm.grantPermission().then(data => console.log(data));\n          }\n          else {\n            this.fcm.getToken().then(token => {\n              console.log(token);\n              this.firestore.doc('/accounts/' + uid).update({ isPushEnabled: true, pushToken: token });\n              this.user.isPushEnabled = true;\n            }).catch(err => {\n              console.log(err);\n            });\n            this.fcm.onTokenRefresh().subscribe(token => {\n              console.log(token);\n              this.firestore.doc('/accounts/' + uid).update({ isPushEnabled: true, pushToken: token });\n            });\n          }\n        });\n        this.fcm.onMessageReceived().subscribe(data => {\n          console.log(data);\n        });\n      }\n      else {\n        this.user.isPushEnabled == false;\n        this.firestore.doc('/accounts/' + uid).update({ isPushEnabled: false, pushToken: '' });\n      }\n    }\n  }\n\n\n  setPhoto() {\n    this.alertCtrl.create({\n      header: 'Set Profile Photo',\n      message: 'Do you want to take a photo or choose from your photo gallery?',\n      buttons: [\n        {\n          text: 'Cancel',\n          handler: data => { }\n        },\n        {\n          text: 'Choose from Gallery',\n          handler: () => {\n            // Call imageProvider to process, upload, and update user photo.\n            this.imageProvider.setProfilePhoto(this.user, this.camera.PictureSourceType.PHOTOLIBRARY);\n          }\n        },\n        {\n          text: 'Take Photo',\n          handler: () => {\n            // Call imageProvider to process, upload, and update user photo.\n            this.imageProvider.setProfilePhoto(this.user, this.camera.PictureSourceType.CAMERA);\n          }\n        }\n      ]\n    }).then(r => r.present());\n  }\n\n  async setPassword() {\n    let email = await this.afAuth.currentUser.then((u) => {return u.email});\n    this.afAuth.sendPasswordResetEmail(email)\n      .then(res => {\n        this.loadingProvider.showToast(\"Please Check your inbox\");\n      }).catch(err => {\n        this.loadingProvider.showToast(err.message);\n      })\n  }\n\n  // Delete the user account. After deleting the Firebase user, the userData along with their profile pic uploaded on the storage will be deleted as well.\n  // If you added some other info or traces for the account, make sure to account for them when deleting the account.\n  deleteAccount() {\n    this.alertCtrl.create({\n      header: 'Confirm Delete',\n      message: 'Are you sure you want to delete your account? This cannot be undone.',\n      buttons: [\n        { text: 'Cancel' },\n        {\n          text: 'Delete',\n          handler: data => {\n            this.loadingProvider.show();\n            // Delete Firebase user\n            this.afAuth.currentUser.then((u) => {\n              u.delete()\n              .then((success) => {\n                // Delete profilePic of user on Firebase storage\n                this.imageProvider.deleteUserImageFile(this.user);\n                // Delete user data on Database\n                this.firestore.doc('/accounts/' + this.user.userId).delete().then(() => {\n                  this.loadingProvider.hide();\n                  this.loadingProvider.showToast(\"Your Account Deleted Successfully\");\n                  this.loginService.logout();\n                });\n              })\n              .catch((error) => {\n                this.loadingProvider.hide();\n                this.loadingProvider.showToast(\"Something went wrong\");\n              }); \n            });\n          }\n        }\n      ]\n    }).then(r => r.present());\n  }\n\n  logout() {\n    this.loginService.logout();\n  }\n\n  viewPost(post) {\n    this.router.navigateByUrl('post/' + post.key);\n  }\n\n  viewUser(userId) {\n    this.router.navigateByUrl('profile/' + userId);\n  }\n\n  viewGroup(groupId) {\n    this.router.navigateByUrl('group/' + groupId);\n  }\n\n  async editProfile() {\n    const modal = await this.modalCtrl.create({\n      component: UserProfileModalPage,\n      componentProps: {\n        user: this.user\n      }\n    });\n    return await modal.present();\n  }\n\n  messageUser() {\n    this.router.navigateByUrl('/message/' + this.userId);\n  }\n\n  connectUser() {\n    this.alert = this.alertCtrl.create({\n      header: 'Send Friend Request',\n      message: 'Do you want to send friend request to <b>' + this.user.name + '</b>?',\n      buttons: [\n        {\n          text: 'Cancel',\n          handler: data => { }\n        },\n        {\n          text: 'Send',\n          handler: () => {\n            this.firebaseProvider.sendFriendRequest(this.userId);\n          }\n        }\n      ]\n    }).then(r => r.present());\n  }\n}","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>{{title}}</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button class=\\\"logout\\\" color=\\\"secondary\\\" (click)=\\\"logout()\\\">\\n        Logout\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div *ngIf=\\\"user\\\">\\n    <ion-row> \\n      <div class=\\\"user-info\\\">\\n        <div class=\\\"user-img\\\"> \\n          <img src=\\\"{{user.img}}\\\" tappable (click)=\\\"setPhoto()\\\"\\n          onError=\\\"this.src='./assets/images/default-dp_rect.png'\\\">\\n        </div>\\n        <div>\\n          <ion-item lines=\\\"none\\\">\\n          <ion-text class=\\\"profile-summary-name\\\">{{user.name}}</ion-text>\\n          <ion-button *ngIf=\\\"myProfile\\\" color=\\\"primary\\\" slot=\\\"end\\\" (click)=\\\"editProfile()\\\" class=\\\"profile-edit-button\\\">Edit</ion-button>\\n        </ion-item>\\n        <ion-text class=\\\"profile-component-title ion-padding\\\">@{{user.username}}<span *ngIf=\\\"myProfile\\\"> Â· {{user.email}}</span></ion-text>\\n      </div>\\n        <br>\\n        <div class=\\\"ion-no-border\\\">\\n          <ion-item class=\\\"toggle-text\\\" lines=\\\"none\\\">\\n            <ion-text>{{user.description}}</ion-text>\\n          </ion-item>\\n        </div>\\n        <ion-row *ngIf=\\\"!myProfile\\\">\\n          <div *ngIf=\\\"!messageMe\\\" class=\\\"ion-padding save\\\">\\n            <ion-button color=\\\"secondary\\\" expand=\\\"block\\\" (click)=\\\"connectUser()\\\">Connect with me</ion-button>\\n          </div>\\n          <div *ngIf=\\\"messageMe\\\" class=\\\"ion-padding save\\\">\\n            <ion-button color=\\\"secondary\\\" expand=\\\"block\\\" (click)=\\\"messageUser()\\\">Message me</ion-button>\\n          </div>\\n        </ion-row>\\n        <br><br>\\n        <ion-item-divider *ngIf=\\\"myProfile\\\" class=\\\"profile-component-title\\\">Other Settings</ion-item-divider>\\n    <ion-list *ngIf=\\\"myProfile\\\" lines=\\\"none\\\">\\n      <ion-item>\\n        <ion-label class=\\\"toggle-text\\\">Enable Public Visibility</ion-label>\\n        <ion-toggle  slot=\\\"end\\\" color=\\\"secondary\\\" [(ngModel)]=\\\"user.publicVisibility\\\" (ionChange)=\\\"changeVisibility()\\\"></ion-toggle>\\n      </ion-item>\\n      <ion-item>\\n        <ion-label class=\\\"toggle-text\\\">Show Online</ion-label>\\n        <ion-toggle slot=\\\"end\\\" color=\\\"secondary\\\" [(ngModel)]=\\\"user.showOnline\\\" (ionChange)=\\\"changeStatus()\\\"></ion-toggle>\\n      </ion-item>\\n      <ion-item>\\n        <ion-label class=\\\"toggle-text\\\">Enable Notification</ion-label>\\n        <ion-toggle slot=\\\"end\\\" color=\\\"secondary\\\" [(ngModel)]=\\\"user.isPushEnabled\\\" [disabled]=\\\"isBrowser\\\"\\n          (ionChange)=\\\"changeNotification()\\\">\\n        </ion-toggle>\\n      </ion-item>\\n      <ion-item  routerLink=\\\"/blockedlist\\\">\\n        <ion-label class=\\\"toggle-text\\\">Blocked List</ion-label>\\n        <ion-icon slot=\\\"end\\\" name=\\\"arrow-forward-circle-outline\\\"></ion-icon>\\n      </ion-item>\\n      <ion-item tappable (click)=\\\"setPassword()\\\" *ngIf=\\\"user && user.provider == 'Email'\\\">\\n        Update Password\\n      </ion-item>\\n     </ion-list>\\n     <ion-item-divider class=\\\"profile-component-title\\\">Activity</ion-item-divider>\\n     <ion-list class=\\\"activities\\\" lines=\\\"none\\\" > \\n      <ion-item *ngIf=\\\"userPosts.length == 0\\\" class=\\\"toggle-text\\\">\\n       <ion-label>You have not created or commented on any posts.</ion-label>\\n      </ion-item>\\n      <ion-item class=\\\"toggle-text activities-item\\\"  *ngFor=\\\"let item of userPosts\\\">\\n        New post: <a class=\\\"link\\\" [routerLink]=\\\"['/post', item.key]\\\"> \\\"{{item.title}}\\\"</a>\\n      <ion-text slot=\\\"end\\\" class=\\\"addedByDate\\\">{{item.date.toDate() | date:'mediumDate'}}</ion-text>  \\n    </ion-item>\\n    <ion-item class=\\\"toggle-text activities-item\\\"  *ngFor=\\\"let item of userReactions\\\">\\n      Reacted on: <a class=\\\"link\\\" [routerLink]=\\\"['/post', item.key]\\\"> \\\"{{item.title}}\\\"</a>\\n    <ion-text slot=\\\"end\\\" class=\\\"addedByDate\\\">{{item.date.toDate() | date:'mediumDate'}}</ion-text>  \\n  </ion-item>\\n     </ion-list>\\n     <ion-item-divider class=\\\"profile-component-title\\\">Groups</ion-item-divider>\\n     <ion-list lines=\\\"none\\\">\\n      <ion-item *ngIf=\\\"groups.length == 0\\\" class=\\\"toggle-text\\\">\\n          <ion-label>You have not joined any groups.</ion-label>\\n      </ion-item>\\n        <ion-item text-wrap *ngFor=\\\"let group of groups\\\" (click)=\\\"viewGroup(group.key)\\\">\\n          <ion-avatar slot=\\\"start\\\">\\n            <ion-img src=\\\"{{group.img}}\\\"></ion-img>\\n          </ion-avatar>\\n          <ion-label class=\\\"toggle-text\\\">\\n              <ion-label class=\\\"ion-no-padding\\\">{{group.name}}<br/>\\n              {{group.description}}</ion-label>\\n          </ion-label>\\n        </ion-item>\\n    </ion-list>\\n    <ion-item-divider class=\\\"profile-component-title\\\">Connected to:</ion-item-divider>\\n    <ion-list lines=\\\"none\\\">\\n      <ion-list lines=\\\"none\\\">\\n        <ion-item  *ngIf=\\\"friends.length == 0\\\" class=\\\"toggle-text\\\">\\n          <ion-label>You are not connected to any fellow members.</ion-label>\\n        </ion-item>  \\n        <ion-item text-wrap *ngFor=\\\"let friend of friends\\\" (click)=\\\"viewUser(friend.key)\\\">\\n          <ion-avatar slot=\\\"start\\\">\\n            <ion-img src=\\\"{{friend.img}}\\\"></ion-img>\\n          </ion-avatar>\\n          <ion-label class=\\\"toggle-text\\\">\\n              <ion-label class=\\\"ion-no-padding\\\">{{friend.username}}<br/>\\n              {{friend.description}}</ion-label>\\n          </ion-label>\\n        </ion-item>\\n      </ion-list>\\n    </ion-list>\\n    </div>\\n</ion-row>\\n<ion-row *ngIf=\\\"myProfile\\\">\\n  <div class=\\\"ion-padding save\\\">\\n    <ion-button color=\\\"danger\\\" expand=\\\"block\\\" (click)=\\\"deleteAccount()\\\">Delete Account</ion-button>\\n  </div>\\n</ion-row>\\n</div>\\n</ion-content>\";","export default \":host {\\n  --page-margin: var(--app-narrow-margin);\\n  --page-background: var(--app-background);\\n}\\n\\n.user-info {\\n  width: 100%;\\n}\\n\\n.save {\\n  height: 25px;\\n  width: 100%;\\n  text-transform: initial !important;\\n}\\n\\n.myform {\\n  font-family: \\\"HelveticaNeue\\\", \\\"Helvetica Neue\\\", Helvetica, \\\"Roboto\\\", \\\"Segoe UI\\\", Arial, sans-serif;\\n  font-weight: 400;\\n  font-size: 14px;\\n  line-height: 19px;\\n  -webkit-font-smoothing: subpixel-antialiased;\\n  -moz-osx-font-smoothing: auto;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\n\\n.toggle-text {\\n  font-family: \\\"HelveticaNeue\\\", \\\"Helvetica Neue\\\", Helvetica, \\\"Roboto\\\", \\\"Segoe UI\\\", Arial, sans-serif;\\n  font-weight: 400;\\n  font-size: 14px;\\n  line-height: 19px;\\n  -webkit-font-smoothing: subpixel-antialiased;\\n  -moz-osx-font-smoothing: auto;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\n\\n.profile-summary-name {\\n  font-family: \\\"HelveticaNeue-Medium\\\", \\\"Helvetica Neue Medium\\\", \\\"Helvetica-Bold\\\", \\\"Roboto-Medium\\\", \\\"Segoe UI Semibold\\\", Arial-Bold, sans-serif;\\n  font-weight: 500;\\n  font-size: 22px;\\n  line-height: 26px;\\n  margin: 4px 0;\\n  display: inline-block;\\n}\\n\\n.profile-component-title {\\n  font-family: \\\"HelveticaNeue-Medium\\\", \\\"Helvetica Neue Medium\\\", Helvetica-Bold, \\\"Roboto-Medium\\\", \\\"Segoe UI Semibold\\\", Arial-Bold, sans-serif;\\n  font-weight: 500;\\n  font-size: 14px;\\n  line-height: 19px;\\n}\\n\\n.addedByDate {\\n  font-style: italic;\\n  font-size: 12px;\\n}\\n\\n.logout {\\n  text-transform: capitalize !important;\\n}\\n\\n.profile-edit-button {\\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, \\\"HelveticaNeue\\\", \\\"Helvetica Neue\\\", Helvetica, \\\"Roboto\\\", \\\"Segoe UI\\\", Arial, sans-serif;\\n  font-weight: 400;\\n  font-size: 12px;\\n  line-height: 16px;\\n}\\n\\n.link {\\n  color: #007B99;\\n  text-decoration: none;\\n}\\n\\n.activities {\\n  padding-bottom: 20px;\\n}\\n\\n.activities .activities-item {\\n  height: 30px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcHJvZmlsZS9wcm9maWxlLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHVDQUFBO0VBQ0Esd0NBQUE7QUFDSjs7QUFFRTtFQUNFLFdBQUE7QUFDSjs7QUFFRTtFQUNFLFlBQUE7RUFDQSxXQUFBO0VBQ0Esa0NBQUE7QUFDSjs7QUFFRTtFQUNFLGtHQUFBO0VBQ0EsZ0JBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7RUFDQSw0Q0FBQTtFQUNBLDZCQUFBO0VBQ0EsZ0JBQUE7RUFDQSx1QkFBQTtBQUNKOztBQUVFO0VBQ0Usa0dBQUE7RUFDQSxnQkFBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtFQUNBLDRDQUFBO0VBQ0EsNkJBQUE7RUFDQSxnQkFBQTtFQUNBLHVCQUFBO0FBQ0o7O0FBRUU7RUFDRSw0SUFBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsYUFBQTtFQUNBLHFCQUFBO0FBQ0o7O0FBRUU7RUFDRSwwSUFBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0FBQ0o7O0FBRUE7RUFDRSxrQkFBQTtFQUNBLGVBQUE7QUFDRjs7QUFFRTtFQUNFLHFDQUFBO0FBQ0o7O0FBRUU7RUFDRSxnSkFBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0FBQ0o7O0FBRUE7RUFDRSxjQUFBO0VBQ0EscUJBQUE7QUFDRjs7QUFFQTtFQUNFLG9CQUFBO0FBQ0Y7O0FBQUU7RUFDQSxZQUFBO0FBRUYiLCJmaWxlIjoic3JjL2FwcC9wcm9maWxlL3Byb2ZpbGUucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xuICAgIC0tcGFnZS1tYXJnaW46IHZhcigtLWFwcC1uYXJyb3ctbWFyZ2luKTtcbiAgICAtLXBhZ2UtYmFja2dyb3VuZDogdmFyKC0tYXBwLWJhY2tncm91bmQpO1xuICB9XG5cbiAgLnVzZXItaW5mbyB7XG4gICAgd2lkdGg6IDEwMCU7XG4gIH1cblxuICAuc2F2ZSB7XG4gICAgaGVpZ2h0OiAyNXB4O1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIHRleHQtdHJhbnNmb3JtOiBpbml0aWFsICFpbXBvcnRhbnQ7XG4gIH1cblxuICAubXlmb3JtIHtcbiAgICBmb250LWZhbWlseTogXCJIZWx2ZXRpY2FOZXVlXCIsIFwiSGVsdmV0aWNhIE5ldWVcIiwgSGVsdmV0aWNhLCBcIlJvYm90b1wiLCBcIlNlZ29lIFVJXCIsIEFyaWFsLCBzYW5zLXNlcmlmO1xuICAgIGZvbnQtd2VpZ2h0OiA0MDA7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIGxpbmUtaGVpZ2h0OiAxOXB4O1xuICAgIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IHN1YnBpeGVsLWFudGlhbGlhc2VkO1xuICAgIC1tb3otb3N4LWZvbnQtc21vb3RoaW5nOiBhdXRvO1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gIH1cblxuICAudG9nZ2xlLXRleHQge1xuICAgIGZvbnQtZmFtaWx5OiAnSGVsdmV0aWNhTmV1ZScsICdIZWx2ZXRpY2EgTmV1ZScsIEhlbHZldGljYSwgJ1JvYm90bycsICdTZWdvZSBVSScsIEFyaWFsLCBzYW5zLXNlcmlmO1xuICAgIGZvbnQtd2VpZ2h0OiA0MDA7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIGxpbmUtaGVpZ2h0OiAxOXB4O1xuICAgIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IHN1YnBpeGVsLWFudGlhbGlhc2VkO1xuICAgIC1tb3otb3N4LWZvbnQtc21vb3RoaW5nOiBhdXRvO1xuICAgIG92ZXJmbG93OiBoaWRkZW47IFxuICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICB9XG5cbiAgLnByb2ZpbGUtc3VtbWFyeS1uYW1lIHtcbiAgICBmb250LWZhbWlseTogJ0hlbHZldGljYU5ldWUtTWVkaXVtJywgJ0hlbHZldGljYSBOZXVlIE1lZGl1bScsICdIZWx2ZXRpY2EtQm9sZCcsICdSb2JvdG8tTWVkaXVtJywgJ1NlZ29lIFVJIFNlbWlib2xkJywgQXJpYWwtQm9sZCwgc2Fucy1zZXJpZjtcbiAgICBmb250LXdlaWdodDogNTAwO1xuICAgIGZvbnQtc2l6ZTogMjJweDtcbiAgICBsaW5lLWhlaWdodDogMjZweDtcbiAgICBtYXJnaW46IDRweCAwO1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgfVxuXG4gIC5wcm9maWxlLWNvbXBvbmVudC10aXRsZSB7XG4gICAgZm9udC1mYW1pbHk6ICdIZWx2ZXRpY2FOZXVlLU1lZGl1bScsICdIZWx2ZXRpY2EgTmV1ZSBNZWRpdW0nLCBIZWx2ZXRpY2EtQm9sZCwgJ1JvYm90by1NZWRpdW0nLCAnU2Vnb2UgVUkgU2VtaWJvbGQnLCBBcmlhbC1Cb2xkLCBzYW5zLXNlcmlmO1xuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIGxpbmUtaGVpZ2h0OiAxOXB4O1xufVxuXG4uYWRkZWRCeURhdGUge1xuICBmb250LXN0eWxlOiBpdGFsaWM7XG4gIGZvbnQtc2l6ZTogMTJweDtcbiAgfVxuXG4gIC5sb2dvdXQge1xuICAgIHRleHQtdHJhbnNmb3JtOiBjYXBpdGFsaXplICFpbXBvcnRhbnQ7XG4gIH1cblxuICAucHJvZmlsZS1lZGl0LWJ1dHRvbiB7XG4gICAgZm9udC1mYW1pbHk6IHN5c3RlbS11aSwgLWFwcGxlLXN5c3RlbSwgQmxpbmtNYWNTeXN0ZW1Gb250LCAnSGVsdmV0aWNhTmV1ZScsICdIZWx2ZXRpY2EgTmV1ZScsIEhlbHZldGljYSwgJ1JvYm90bycsICdTZWdvZSBVSScsIEFyaWFsLCBzYW5zLXNlcmlmO1xuICAgIGZvbnQtd2VpZ2h0OiA0MDA7XG4gICAgZm9udC1zaXplOiAxMnB4O1xuICAgIGxpbmUtaGVpZ2h0OiAxNnB4O1xufVxuXG4ubGluayB7XG4gIGNvbG9yOiAjMDA3Qjk5O1xuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG59XG5cbi5hY3Rpdml0aWVzIHtcbiAgcGFkZGluZy1ib3R0b206IDIwcHg7XG4gIC5hY3Rpdml0aWVzLWl0ZW0ge1xuICBoZWlnaHQ6IDMwcHg7XG4gIH1cblxuICAuZW1wdHktbGlzdCB7XG4gICAgXG4gIH1cbn0iXX0= */\";"]}