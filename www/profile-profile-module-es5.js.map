{"version":3,"sources":["src/app/profile/profile.page.html","src/app/profile/profile.module.ts","src/app/profile/profile.page.scss","src/app/profile/profile.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar color=\\\"secondary\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>Profile</ion-title>\\r\\n    <ion-buttons slot=\\\"end\\\">\\r\\n      <ion-button (click)=\\\"logout()\\\">\\r\\n        Logout\\r\\n      </ion-button>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n\\r\\n  <div *ngIf=\\\"user\\\">\\r\\n    <div class=\\\"center ion-padding\\\">\\r\\n      <img src=\\\"{{user.img}}\\\" style=\\\"border-radius: 100%;height: 80px;width:80px\\\" tappable (click)=\\\"setPhoto()\\\"\\r\\n        onError=\\\"this.src='http://placehold.it/80x80'\\\">\\r\\n    </div>\\r\\n    <form [formGroup]=\\\"myForm\\\">\\r\\n      <ion-list lines=\\\"none\\\">\\r\\n        <ion-item>\\r\\n          <ion-label position=\\\"stacked\\\">Fullname</ion-label>\\r\\n          <ion-input type=\\\"text\\\" formControlName=\\\"name\\\" [(ngModel)]=\\\"user.name\\\"></ion-input>\\r\\n          <div *ngFor=\\\"let validation of errorMessages.name\\\">\\r\\n            <p class=\\\"error\\\"\\r\\n              *ngIf=\\\"myForm.get('name').hasError(validation.type) && (myForm.get('name').dirty || myForm.get('name').touched || submitAttempt) \\\">\\r\\n              {{validation.message}}\\r\\n            </p>\\r\\n          </div>\\r\\n        </ion-item>\\r\\n        <ion-item>\\r\\n          <ion-label position=\\\"stacked\\\">Username</ion-label>\\r\\n          <ion-input formControlName=\\\"username\\\" type=\\\"text\\\" [(ngModel)]=\\\"user.username\\\"></ion-input>\\r\\n          <div *ngFor=\\\"let validation of errorMessages.username\\\">\\r\\n            <p class=\\\"error\\\"\\r\\n              *ngIf=\\\"myForm.get('username').hasError(validation.type) && (myForm.get('username').dirty || myForm.get('username').touched || submitAttempt) \\\">\\r\\n              {{validation.message}}\\r\\n            </p>\\r\\n          </div>\\r\\n        </ion-item>\\r\\n        <ion-item>\\r\\n          <ion-label position=\\\"stacked\\\">Bio</ion-label>\\r\\n          <ion-textarea formControlName=\\\"bio\\\" [(ngModel)]=\\\"user.description\\\"></ion-textarea>\\r\\n          <div *ngFor=\\\"let validation of errorMessages.bio\\\">\\r\\n            <p class=\\\"error\\\"\\r\\n              *ngIf=\\\"myForm.get('bio').hasError(validation.type) && (myForm.get('bio').dirty || myForm.get('bio').touched || submitAttempt) \\\">\\r\\n              {{validation.message}}\\r\\n            </p>\\r\\n          </div>\\r\\n        </ion-item>\\r\\n        <ion-item>\\r\\n          <ion-label position=\\\"stacked\\\">Email</ion-label>\\r\\n          <ion-input type=\\\"text\\\" formControlName=\\\"email\\\" [(ngModel)]=\\\"user.email\\\" disabled></ion-input>\\r\\n        </ion-item>\\r\\n        <div class=\\\"ion-padding\\\">\\r\\n          <ion-button expand=\\\"block\\\" (click)=\\\"save()\\\">Save Changes</ion-button>\\r\\n        </div>\\r\\n      </ion-list>\\r\\n    </form>\\r\\n    <ion-item-divider>Other Settings</ion-item-divider>\\r\\n    <ion-list lines=\\\"none\\\">\\r\\n\\r\\n      <ion-item>\\r\\n        <ion-label>Enable Public Visibility</ion-label>\\r\\n        <ion-toggle slot=\\\"end\\\" [(ngModel)]=\\\"user.publicVisibility\\\" (ionChange)=\\\"changeVisibility()\\\"></ion-toggle>\\r\\n      </ion-item>\\r\\n      <ion-item>\\r\\n        <ion-label>Show Online</ion-label>\\r\\n        <ion-toggle slot=\\\"end\\\" [(ngModel)]=\\\"user.showOnline\\\" (ionChange)=\\\"changeStatus()\\\"></ion-toggle>\\r\\n      </ion-item>\\r\\n      <ion-item>\\r\\n        <ion-label>\\r\\n          <ion-text>\\r\\n            <h3>Enable Notification</h3>\\r\\n          </ion-text>\\r\\n          <ion-text *ngIf=\\\"isBrowser\\\">\\r\\n            <p>Push Notification only works on browser</p>\\r\\n          </ion-text>\\r\\n        </ion-label>\\r\\n        <ion-toggle slot=\\\"end\\\" [(ngModel)]=\\\"user.isPushEnabled\\\" [disabled]=\\\"isBrowser\\\"\\r\\n          (ionChange)=\\\"changeNotification()\\\">\\r\\n        </ion-toggle>\\r\\n      </ion-item>\\r\\n      <ion-item routerLink=\\\"/blockedlist\\\">\\r\\n        <ion-label>Blocked List</ion-label>\\r\\n        <ion-icon slot=\\\"end\\\" name=\\\"arrow-forward\\\"></ion-icon>\\r\\n      </ion-item>\\r\\n      <ion-item tappable (click)=\\\"setPassword()\\\" *ngIf=\\\"user && user.provider == 'Email'\\\">\\r\\n        Update Password\\r\\n      </ion-item>\\r\\n      <ion-item tappable (click)=\\\"logout()\\\">Logout</ion-item>\\r\\n      <ion-item tappable (click)=\\\"deleteAccount()\\\" style=\\\"color:#F44336\\\">\\r\\n        Delete Account\\r\\n      </ion-item>\\r\\n    </ion-list>\\r\\n  </div>\\r\\n</ion-content>\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ProfilePage } from './profile.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ProfilePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [ProfilePage]\r\n})\r\nexport class ProfilePageModule {}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3Byb2ZpbGUvcHJvZmlsZS5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { LoginService } from '../services/login.service';\r\nimport { DataService } from '../services/data.service';\r\nimport { LoadingService } from '../services/loading.service';\r\nimport { AngularFireAuth } from '@angular/fire/auth';\r\nimport { AlertController, Platform } from '@ionic/angular';\r\nimport { ImageService } from '../services/image.service';\r\nimport { Camera } from '@ionic-native/camera/ngx';\r\nimport { FirebaseX } from '@ionic-native/firebase-x/ngx';\r\nimport { AngularFirestore } from '@angular/fire/firestore';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\nimport { Validator } from 'src/environments/validator';\r\n\r\n@Component({\r\n  selector: 'app-profile',\r\n  templateUrl: './profile.page.html',\r\n  styleUrls: ['./profile.page.scss'],\r\n})\r\nexport class ProfilePage implements OnInit {\r\n\r\n  showOnline = false;\r\n  isPushEnabled: any = false;\r\n  user: any;\r\n  isBrowser = true;\r\n\r\n  myForm: FormGroup;\r\n  submitAttempt = false;\r\n  errorMessages: any = [];\r\n\r\n  constructor(\r\n    private loginService: LoginService,\r\n    private dataProvider: DataService,\r\n    private loadingProvider: LoadingService,\r\n    private firestore: AngularFirestore,\r\n    private afAuth: AngularFireAuth,\r\n    private alertCtrl: AlertController,\r\n    private imageProvider: ImageService,\r\n    private camera: Camera,\r\n    private fcm: FirebaseX,\r\n    private platform: Platform,\r\n    private formBuilder: FormBuilder\r\n  ) {\r\n\r\n    this.errorMessages = Validator.errorMessages\r\n    this.myForm = this.formBuilder.group({\r\n      name: Validator.nameValidator,\r\n      username: Validator.usernameValidator,\r\n      email: Validator.emailValidator,\r\n      bio: Validator.bioValidator\r\n    })\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.isBrowser = this.platform.is('desktop');\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n    this.dataProvider.getCurrentUser().snapshotChanges().subscribe((user: any) => {\r\n      let account = user.payload.data(); \r\n      this.loadingProvider.hide();\r\n      if (account != null) {\r\n        this.user = account;\r\n      }\r\n      console.log(this.user);\r\n    });\r\n  }\r\n\r\n  changeStatus() {\r\n    this.firestore.doc('accounts/' + this.user.userId).update({ showOnline: this.user.showOnline });\r\n  }\r\n  changeVisibility() {\r\n    this.firestore.doc('accounts/' + this.user.userId).update({ publicVisibility: this.user.publicVisibility });\r\n  }\r\n\r\n  save() {\r\n    this.submitAttempt = true;\r\n    if (this.myForm.valid) {\r\n      this.loadingProvider.show();\r\n      this.firestore.doc('accounts/' + this.user.userId).update(this.user).then(() => {\r\n        this.loadingProvider.hide();\r\n        this.loadingProvider.showToast(\"Updated Successfully\")\r\n      }).catch(err => {\r\n        this.loadingProvider.showToast(\"Something went wrong\");\r\n        this.loadingProvider.hide();\r\n      });\r\n    }\r\n  }\r\n\r\n  changeNotification() {\r\n\r\n    if (this.platform.is('desktop')) {\r\n      this.user.isPushEnabled = false;\r\n      this.loadingProvider.showToast(\"Notification only working on mobile device\")\r\n    }\r\n    else {\r\n      console.log(this.user.isPushEnabled);\r\n      if (this.user.isPushEnabled == true) {\r\n        //Registering for push notification\r\n        this.fcm.hasPermission().then(hasPermission => {\r\n          if (!hasPermission) {\r\n            this.fcm.grantPermission().then(data => console.log(data));\r\n          }\r\n          else {\r\n            this.fcm.getToken().then(token => {\r\n              console.log(token);\r\n              this.firestore.doc('/accounts/' + this.afAuth.auth.currentUser.uid).update({ isPushEnabled: true, pushToken: token });\r\n              this.user.isPushEnabled = true;\r\n            }).catch(err => {\r\n              console.log(err);\r\n            });\r\n            this.fcm.onTokenRefresh().subscribe(token => {\r\n              console.log(token);\r\n              this.firestore.doc('/accounts/' + this.afAuth.auth.currentUser.uid).update({ isPushEnabled: true, pushToken: token });\r\n            });\r\n          }\r\n        });\r\n        this.fcm.onMessageReceived().subscribe(data => {\r\n          console.log(data);\r\n        });\r\n      }\r\n      else {\r\n        this.user.isPushEnabled == false;\r\n        this.firestore.doc('/accounts/' + this.afAuth.auth.currentUser.uid).update({ isPushEnabled: false, pushToken: '' });\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  setPhoto() {\r\n\r\n    this.alertCtrl.create({\r\n      header: 'Set Profile Photo',\r\n      message: 'Do you want to take a photo or choose from your photo gallery?',\r\n      buttons: [\r\n        {\r\n          text: 'Cancel',\r\n          handler: data => { }\r\n        },\r\n        {\r\n          text: 'Choose from Gallery',\r\n          handler: () => {\r\n            // Call imageProvider to process, upload, and update user photo.\r\n            this.imageProvider.setProfilePhoto(this.user, this.camera.PictureSourceType.PHOTOLIBRARY);\r\n          }\r\n        },\r\n        {\r\n          text: 'Take Photo',\r\n          handler: () => {\r\n            // Call imageProvider to process, upload, and update user photo.\r\n            this.imageProvider.setProfilePhoto(this.user, this.camera.PictureSourceType.CAMERA);\r\n          }\r\n        }\r\n      ]\r\n    }).then(r => r.present());\r\n  }\r\n\r\n  setPassword() {\r\n    this.afAuth.auth.sendPasswordResetEmail(this.afAuth.auth.currentUser.email)\r\n      .then(res => {\r\n        this.loadingProvider.showToast(\"Please Check your inbox\");\r\n      }).catch(err => {\r\n        this.loadingProvider.showToast(err.message);\r\n      })\r\n  }\r\n\r\n  // Delete the user account. After deleting the Firebase user, the userData along with their profile pic uploaded on the storage will be deleted as well.\r\n  // If you added some other info or traces for the account, make sure to account for them when deleting the account.\r\n  deleteAccount() {\r\n    this.alertCtrl.create({\r\n      header: 'Confirm Delete',\r\n      message: 'Are you sure you want to delete your account? This cannot be undone.',\r\n      buttons: [\r\n        { text: 'Cancel' },\r\n        {\r\n          text: 'Delete',\r\n          handler: data => {\r\n            this.loadingProvider.show();\r\n            // Delete Firebase user\r\n            this.afAuth.auth.currentUser.delete()\r\n              .then((success) => {\r\n                // Delete profilePic of user on Firebase storage\r\n                this.imageProvider.deleteUserImageFile(this.user);\r\n                // Delete user data on Database\r\n                this.firestore.doc('/accounts/' + this.user.userId).delete().then(() => {\r\n                  this.loadingProvider.hide();\r\n                  this.loadingProvider.showToast(\"Your Account Deleted Successfully\");\r\n                  this.loginService.logout();\r\n                });\r\n              })\r\n              .catch((error) => {\r\n                this.loadingProvider.hide();\r\n                this.loadingProvider.showToast(\"Something went wrong\");\r\n              });\r\n          }\r\n        }\r\n      ]\r\n    }).then(r => r.present());\r\n  }\r\n\r\n  logout() {\r\n    this.loginService.logout();\r\n  }\r\n\r\n}"],"sourceRoot":"webpack:///","file":"profile-profile-module-es5.js"}