{"version":3,"sources":["./src/app/new-poll/new-poll.page.html","./src/app/new-poll/new-poll.module.ts","./src/app/new-poll/new-poll.page.scss","./src/app/new-poll/new-poll.page.ts","./src/app/validators/checkbox-checked.validator.ts"],"names":[],"mappings":"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","file":"new-poll-new-poll-module-es2015.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>{{title}}</ion-title>\\r\\n    <ion-buttons *ngIf=\\\"step==2\\\" slot=\\\"end\\\">\\r\\n      <ion-button color=\\\"secondary\\\" class=\\\"ion-text-capitalize\\\" [disabled]=\\\"!pollForm.valid\\\" (click)=\\\"submitPollForm()\\\">Post</ion-button>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header> \\r\\n\\r\\n<ion-content class=\\\"forms-validations-content\\\">\\r\\n  <div *ngIf=\\\"step==1\\\"> \\r\\n    <div *ngIf=\\\"groups && groups.length > 0\\\">\\r\\n      <ion-list>\\r\\n        <ion-item text-wrap *ngFor=\\\"let group of groups\\\" (click)=\\\"selectGroup(group.$key)\\\">\\r\\n          <ion-thumbnail slot=\\\"start\\\">\\r\\n            <img src=\\\"{{group.img}}\\\" onError=\\\"this.src='./assets/images/default-group.png'\\\">\\r\\n          </ion-thumbnail>\\r\\n          <ion-label>\\r\\n              <b>{{group.name}}</b><br/>\\r\\n              {{group.description}}\\r\\n          </ion-label>\\r\\n        </ion-item>\\r\\n      </ion-list>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div *ngIf=\\\"step==2\\\">\\r\\n    <form class=\\\"validations-form\\\" [formGroup]=\\\"pollForm\\\" (ngSubmit)=\\\"submitPollForm()\\\">\\r\\n      <ion-list class=\\\"inputs-list\\\" lines=\\\"full\\\">\\r\\n        <ion-list-header class=\\\"header\\\">\\r\\n          posting in &nbsp;<ion-label><b>{{group.name}}</b></ion-label>\\r\\n        </ion-list-header>\\r\\n        <ion-item class=\\\"input-item\\\">\\r\\n          <ion-input type=\\\"text\\\" formControlName=\\\"description\\\" clearInput placeholder=\\\"What would like to ask?\\\"></ion-input>\\r\\n        </ion-item>\\r\\n        <ion-item class=\\\"input-item\\\">\\r\\n          <ion-input type=\\\"text\\\" formControlName=\\\"pollOption1\\\" clearInput placeholder=\\\"Enter the first option\\\"></ion-input>\\r\\n        </ion-item>\\r\\n        <ion-item class=\\\"input-item\\\">\\r\\n          <ion-input type=\\\"text\\\" formControlName=\\\"pollOption2\\\" clearInput placeholder=\\\"Enter the second option\\\"></ion-input>\\r\\n        </ion-item>\\r\\n        <ion-item class=\\\"input-item\\\">\\r\\n          <ion-input type=\\\"text\\\" formControlName=\\\"pollOption3\\\" clearInput placeholder=\\\"This is optional\\\"></ion-input>\\r\\n        </ion-item>\\r\\n        <ion-item class=\\\"input-item\\\">\\r\\n          <ion-input type=\\\"text\\\" formControlName=\\\"pollOption4\\\" clearInput placeholder=\\\"This is optional\\\"></ion-input>\\r\\n        </ion-item>\\r\\n      </ion-list>\\r\\n \\r\\n      <ion-list class=\\\"inputs-list\\\" lines=\\\"full\\\">\\r\\n        <ion-list-header>\\r\\n          <ion-label class=\\\"header-title\\\">Select relevant tags</ion-label>\\r\\n        </ion-list-header>\\r\\n  \\r\\n        <div class=\\\"reviews-wrapper\\\">\\r\\n        <ion-row>\\r\\n          <div class=\\\"tags\\\" formArrayName=\\\"tags\\\" *ngFor=\\\"let entry of pollForm.controls.tags.controls; let i = index\\\">\\r\\n            <ion-label *ngIf=\\\"postTags[i] === undefined || !postTags[i].isChecked\\\" class=\\\"item-rating\\\" [attr.ratingBase]=\\\"0\\\">{{postTags[i].val}}</ion-label>\\r\\n            <ion-label *ngIf=\\\"postTags[i] !== undefined && postTags[i].isChecked\\\" class=\\\"item-rating\\\" [attr.ratingBase]=\\\"1\\\">{{postTags[i].val}}</ion-label>  \\r\\n            <ion-checkbox slot=\\\"start\\\" [formControlName]=\\\"i\\\" [(ngModel)]=\\\"postTags[i].isChecked\\\"></ion-checkbox>\\r\\n          </div>\\r\\n        </ion-row>\\r\\n\\r\\n        <div class=\\\"error-container\\\">\\r\\n          <ng-container *ngFor=\\\"let validation of validations.tags\\\">\\r\\n            <div class=\\\"error-message\\\" *ngIf=\\\"pollForm.get('tags').hasError(validation.type) && (pollForm.get('tags').dirty || pollForm.get('tags').touched)\\\">\\r\\n              <ion-icon name=\\\"information-circle-outline\\\"></ion-icon>\\r\\n              <span>{{ validation.message }}</span>\\r\\n            </div>\\r\\n          </ng-container>\\r\\n        </div>\\r\\n        </div>\\r\\n      </ion-list>\\r\\n      <!-- <ion-button class=\\\"submit-btn\\\" type=\\\"submit\\\" expand=\\\"block\\\" fill=\\\"outline\\\" [disabled]=\\\"!pollForm.valid\\\">Submit</ion-button> -->\\r\\n  </form>\\r\\n  </div>\\r\\n</ion-content>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { NewPollPage } from './new-poll.page';\r\nimport { SharedModule } from '../services/share.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: NewPollPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    IonicModule,\r\n    SharedModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [NewPollPage]\r\n})\r\nexport class NewPollPageModule {}\r\n","export default \":host {\\n  --page-margin: var(--app-narrow-margin);\\n}\\n\\n.forms-validations-content .validations-form {\\n  margin-bottom: calc(var(--page-margin) * 2);\\n}\\n\\n.forms-validations-content .validations-form .inputs-list {\\n  padding: var(--page-margin) var(--page-margin) calc(var(--page-margin) * 2);\\n}\\n\\n.forms-validations-content .validations-form .inputs-list .header {\\n  font-size: 14px;\\n}\\n\\n.forms-validations-content .validations-form .inputs-list .error-container .error-message {\\n  margin: calc(var(--page-margin) / 2) 0px;\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  color: var(--ion-color-danger);\\n  font-size: 14px;\\n}\\n\\n.forms-validations-content .validations-form .inputs-list .error-container .error-message ion-icon {\\n  -webkit-padding-end: calc(var(--page-margin) / 2);\\n          padding-inline-end: calc(var(--page-margin) / 2);\\n  flex-shrink: 0;\\n}\\n\\n.forms-validations-content .validations-form .submit-btn {\\n  margin: var(--page-margin);\\n}\\n\\n.forms-validations-content .tags {\\n  padding-right: 5px;\\n  padding-bottom: 5px;\\n}\\n\\n.forms-validations-content .tags .item-rating {\\n  background-color: rgba(var(--page-color-rgb), 0.35);\\n  color: var(--ion-color-lightest);\\n  border-radius: var(--app-narrow-radius);\\n  padding-top: calc(var(--page-margin) / 3);\\n  padding-bottom: calc(var(--page-margin) / 3);\\n  padding-left: calc(var(--page-margin) / 2);\\n  padding-right: calc(var(--page-margin) / 2);\\n  font-size: 12px;\\n  font-weight: 600;\\n  width: 100%;\\n  display: block;\\n  text-align: center;\\n}\\n\\n.forms-validations-content .tags .item-rating[ratingBase=\\\"0\\\"] {\\n  background-color: #bbb2b2;\\n}\\n\\n.forms-validations-content .tags .item-rating[ratingBase=\\\"1\\\"] {\\n  background-color: #e0c77c;\\n}\\n\\n.forms-validations-content .tags ion-checkbox {\\n  margin: 0px;\\n  width: 50px;\\n  align-content: center;\\n  --border-width: 0px;\\n  --color-checked: transparent;\\n  margin-left: 9px;\\n  margin-top: -20px;\\n  display: block;\\n  opacity: 0;\\n}\\n\\n.uploads {\\n  margin: 5px;\\n}\\n\\n.uploads .img-wrap {\\n  position: relative;\\n  display: inline-block;\\n  font-size: 0;\\n  padding: 5px;\\n}\\n\\n.uploads .img-wrap .close {\\n  position: absolute;\\n  top: -2px;\\n  right: -7px;\\n  z-index: 100;\\n  background-color: #FFF;\\n  padding: 5px 2px 2px;\\n  color: #000;\\n  cursor: pointer;\\n  text-align: center;\\n  font-size: 22px;\\n  line-height: 10px;\\n  border-radius: 50%;\\n}\\n\\n.uploads .img-wrap:hover .close {\\n  opacity: 1;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbmV3LXBvbGwvQzpcXFVzZXJzXFxyb2hpc2V0aGlcXERvY3VtZW50c1xcaW9uaWNcXGZpcmVjaGF0NF92Mi9zcmNcXGFwcFxcbmV3LXBvbGxcXG5ldy1wb2xsLnBhZ2Uuc2NzcyIsInNyYy9hcHAvbmV3LXBvbGwvbmV3LXBvbGwucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsdUNBQUE7QUNDRjs7QURHRztFQUNDLDJDQUFBO0FDQUo7O0FERUk7RUFDRSwyRUFBQTtBQ0FOOztBREVNO0VBQ0UsZUFBQTtBQ0FSOztBREdRO0VBQ0Usd0NBQUE7RUFDQSxvQkFBQTtFQUFBLGFBQUE7RUFDQSx5QkFBQTtVQUFBLG1CQUFBO0VBQ0EsOEJBQUE7RUFDQSxlQUFBO0FDRFY7O0FER1U7RUFDRSxpREFBQTtVQUFBLGdEQUFBO0VBQ0EsY0FBQTtBQ0RaOztBRE9JO0VBQ0UsMEJBQUE7QUNMTjs7QURTRTtFQUNFLGtCQUFBO0VBQ0EsbUJBQUE7QUNQSjs7QURRRTtFQUVFLG1EQUFBO0VBQ1EsZ0NBQUE7RUFDQSx1Q0FBQTtFQUNBLHlDQUFBO0VBQ0EsNENBQUE7RUFDQSwwQ0FBQTtFQUNBLDJDQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0VBQ0EsV0FBQTtFQUNBLGNBQUE7RUFDQSxrQkFBQTtBQ1BaOztBRFFZO0VBQ0UseUJBQUE7QUNOZDs7QURRWTtFQUNFLHlCQUFBO0FDTmQ7O0FEU0U7RUFDRSxXQUFBO0VBQ0EsV0FBQTtFQUNBLHFCQUFBO0VBQ0EsbUJBQUE7RUFDQSw0QkFBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7RUFDQSxjQUFBO0VBQ0EsVUFBQTtBQ1BKOztBRGFBO0VBQ0UsV0FBQTtBQ1ZGOztBRFdBO0VBQ0Usa0JBQUE7RUFDQSxxQkFBQTtFQUNBLFlBQUE7RUFDQSxZQUFBO0FDVEY7O0FEV0E7RUFDRSxrQkFBQTtFQUNBLFNBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLHNCQUFBO0VBQ0Esb0JBQUE7RUFDQSxXQUFBO0VBQ0EsZUFBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7QUNURjs7QURXQTtFQUNFLFVBQUE7QUNURiIsImZpbGUiOiJzcmMvYXBwL25ldy1wb2xsL25ldy1wb2xsLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcclxuICAtLXBhZ2UtbWFyZ2luOiB2YXIoLS1hcHAtbmFycm93LW1hcmdpbik7XHJcbn1cclxuXHJcbi5mb3Jtcy12YWxpZGF0aW9ucy1jb250ZW50IHtcclxuICAgLnZhbGlkYXRpb25zLWZvcm0ge1xyXG4gICAgbWFyZ2luLWJvdHRvbTogY2FsYyh2YXIoLS1wYWdlLW1hcmdpbikgKiAyKTtcclxuXHJcbiAgICAuaW5wdXRzLWxpc3Qge1xyXG4gICAgICBwYWRkaW5nOiB2YXIoLS1wYWdlLW1hcmdpbikgdmFyKC0tcGFnZS1tYXJnaW4pIGNhbGModmFyKC0tcGFnZS1tYXJnaW4pICogMik7XHJcblxyXG4gICAgICAuaGVhZGVyIHtcclxuICAgICAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICAgIH1cclxuICAgICAgLmVycm9yLWNvbnRhaW5lciB7XHJcbiAgICAgICAgLmVycm9yLW1lc3NhZ2Uge1xyXG4gICAgICAgICAgbWFyZ2luOiBjYWxjKHZhcigtLXBhZ2UtbWFyZ2luKSAvIDIpIDBweDtcclxuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICAgICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYW5nZXIpO1xyXG4gICAgICAgICAgZm9udC1zaXplOiAxNHB4O1xyXG5cclxuICAgICAgICAgIGlvbi1pY29uIHtcclxuICAgICAgICAgICAgcGFkZGluZy1pbmxpbmUtZW5kOiBjYWxjKHZhcigtLXBhZ2UtbWFyZ2luKSAvIDIpO1xyXG4gICAgICAgICAgICBmbGV4LXNocmluazogMDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC5zdWJtaXQtYnRuIHtcclxuICAgICAgbWFyZ2luOiB2YXIoLS1wYWdlLW1hcmdpbik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAudGFncyB7XHJcbiAgICBwYWRkaW5nLXJpZ2h0OiA1cHg7XHJcbiAgICBwYWRkaW5nLWJvdHRvbTogNXB4O1xyXG4gIC5pdGVtLXJhdGluZyB7XHJcbiAgICAvLyBEZWZhdWx0IGJhY2tncm91bmRcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEodmFyKC0tcGFnZS1jb2xvci1yZ2IpLCAuMzUpO1xyXG4gICAgICAgICAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWxpZ2h0ZXN0KTtcclxuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogdmFyKC0tYXBwLW5hcnJvdy1yYWRpdXMpO1xyXG4gICAgICAgICAgICBwYWRkaW5nLXRvcDogY2FsYyh2YXIoLS1wYWdlLW1hcmdpbikgLyAzKTtcclxuICAgICAgICAgICAgcGFkZGluZy1ib3R0b206IGNhbGModmFyKC0tcGFnZS1tYXJnaW4pIC8gMyk7XHJcbiAgICAgICAgICAgIHBhZGRpbmctbGVmdDogY2FsYyh2YXIoLS1wYWdlLW1hcmdpbikgLyAyKTtcclxuICAgICAgICAgICAgcGFkZGluZy1yaWdodDogY2FsYyh2YXIoLS1wYWdlLW1hcmdpbikgLyAyKTtcclxuICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4O1xyXG4gICAgICAgICAgICBmb250LXdlaWdodDogNjAwO1xyXG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgICAgICAgJltyYXRpbmdCYXNlPVwiMFwiXSB7XHJcbiAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2JiYjJiMjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAmW3JhdGluZ0Jhc2U9XCIxXCJdIHtcclxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTBjNzdjO1xyXG4gICAgICAgICAgICB9XHJcbiAgfVxyXG4gIGlvbi1jaGVja2JveCB7XHJcbiAgICBtYXJnaW46IDBweDtcclxuICAgIHdpZHRoOiA1MHB4O1xyXG4gICAgYWxpZ24tY29udGVudDogY2VudGVyO1xyXG4gICAgLS1ib3JkZXItd2lkdGg6IDBweDtcclxuICAgIC0tY29sb3ItY2hlY2tlZDogdHJhbnNwYXJlbnQ7XHJcbiAgICBtYXJnaW4tbGVmdDogOXB4O1xyXG4gICAgbWFyZ2luLXRvcDogLTIwcHg7XHJcbiAgICBkaXNwbGF5OmJsb2NrO1xyXG4gICAgb3BhY2l0eTogMDtcclxuICB9XHJcbiAgXHJcbn1cclxufVxyXG5cclxuLnVwbG9hZHMge1xyXG4gIG1hcmdpbjogNXB4O1xyXG4uaW1nLXdyYXAge1xyXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgZm9udC1zaXplOiAwO1xyXG4gIHBhZGRpbmc6IDVweDtcclxufVxyXG4uaW1nLXdyYXAgLmNsb3NlIHtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgdG9wOiAtMnB4O1xyXG4gIHJpZ2h0OiAtN3B4O1xyXG4gIHotaW5kZXg6IDEwMDtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjRkZGO1xyXG4gIHBhZGRpbmc6IDVweCAycHggMnB4O1xyXG4gIGNvbG9yOiAjMDAwO1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgZm9udC1zaXplOiAyMnB4O1xyXG4gIGxpbmUtaGVpZ2h0OiAxMHB4O1xyXG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcclxufVxyXG4uaW1nLXdyYXA6aG92ZXIgLmNsb3NlIHtcclxuICBvcGFjaXR5OiAxO1xyXG59XHJcbn1cclxuXHJcbiIsIjpob3N0IHtcbiAgLS1wYWdlLW1hcmdpbjogdmFyKC0tYXBwLW5hcnJvdy1tYXJnaW4pO1xufVxuXG4uZm9ybXMtdmFsaWRhdGlvbnMtY29udGVudCAudmFsaWRhdGlvbnMtZm9ybSB7XG4gIG1hcmdpbi1ib3R0b206IGNhbGModmFyKC0tcGFnZS1tYXJnaW4pICogMik7XG59XG4uZm9ybXMtdmFsaWRhdGlvbnMtY29udGVudCAudmFsaWRhdGlvbnMtZm9ybSAuaW5wdXRzLWxpc3Qge1xuICBwYWRkaW5nOiB2YXIoLS1wYWdlLW1hcmdpbikgdmFyKC0tcGFnZS1tYXJnaW4pIGNhbGModmFyKC0tcGFnZS1tYXJnaW4pICogMik7XG59XG4uZm9ybXMtdmFsaWRhdGlvbnMtY29udGVudCAudmFsaWRhdGlvbnMtZm9ybSAuaW5wdXRzLWxpc3QgLmhlYWRlciB7XG4gIGZvbnQtc2l6ZTogMTRweDtcbn1cbi5mb3Jtcy12YWxpZGF0aW9ucy1jb250ZW50IC52YWxpZGF0aW9ucy1mb3JtIC5pbnB1dHMtbGlzdCAuZXJyb3ItY29udGFpbmVyIC5lcnJvci1tZXNzYWdlIHtcbiAgbWFyZ2luOiBjYWxjKHZhcigtLXBhZ2UtbWFyZ2luKSAvIDIpIDBweDtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYW5nZXIpO1xuICBmb250LXNpemU6IDE0cHg7XG59XG4uZm9ybXMtdmFsaWRhdGlvbnMtY29udGVudCAudmFsaWRhdGlvbnMtZm9ybSAuaW5wdXRzLWxpc3QgLmVycm9yLWNvbnRhaW5lciAuZXJyb3ItbWVzc2FnZSBpb24taWNvbiB7XG4gIHBhZGRpbmctaW5saW5lLWVuZDogY2FsYyh2YXIoLS1wYWdlLW1hcmdpbikgLyAyKTtcbiAgZmxleC1zaHJpbms6IDA7XG59XG4uZm9ybXMtdmFsaWRhdGlvbnMtY29udGVudCAudmFsaWRhdGlvbnMtZm9ybSAuc3VibWl0LWJ0biB7XG4gIG1hcmdpbjogdmFyKC0tcGFnZS1tYXJnaW4pO1xufVxuLmZvcm1zLXZhbGlkYXRpb25zLWNvbnRlbnQgLnRhZ3Mge1xuICBwYWRkaW5nLXJpZ2h0OiA1cHg7XG4gIHBhZGRpbmctYm90dG9tOiA1cHg7XG59XG4uZm9ybXMtdmFsaWRhdGlvbnMtY29udGVudCAudGFncyAuaXRlbS1yYXRpbmcge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKHZhcigtLXBhZ2UtY29sb3ItcmdiKSwgMC4zNSk7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItbGlnaHRlc3QpO1xuICBib3JkZXItcmFkaXVzOiB2YXIoLS1hcHAtbmFycm93LXJhZGl1cyk7XG4gIHBhZGRpbmctdG9wOiBjYWxjKHZhcigtLXBhZ2UtbWFyZ2luKSAvIDMpO1xuICBwYWRkaW5nLWJvdHRvbTogY2FsYyh2YXIoLS1wYWdlLW1hcmdpbikgLyAzKTtcbiAgcGFkZGluZy1sZWZ0OiBjYWxjKHZhcigtLXBhZ2UtbWFyZ2luKSAvIDIpO1xuICBwYWRkaW5nLXJpZ2h0OiBjYWxjKHZhcigtLXBhZ2UtbWFyZ2luKSAvIDIpO1xuICBmb250LXNpemU6IDEycHg7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG4gIHdpZHRoOiAxMDAlO1xuICBkaXNwbGF5OiBibG9jaztcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuLmZvcm1zLXZhbGlkYXRpb25zLWNvbnRlbnQgLnRhZ3MgLml0ZW0tcmF0aW5nW3JhdGluZ0Jhc2U9XCIwXCJdIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2JiYjJiMjtcbn1cbi5mb3Jtcy12YWxpZGF0aW9ucy1jb250ZW50IC50YWdzIC5pdGVtLXJhdGluZ1tyYXRpbmdCYXNlPVwiMVwiXSB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNlMGM3N2M7XG59XG4uZm9ybXMtdmFsaWRhdGlvbnMtY29udGVudCAudGFncyBpb24tY2hlY2tib3gge1xuICBtYXJnaW46IDBweDtcbiAgd2lkdGg6IDUwcHg7XG4gIGFsaWduLWNvbnRlbnQ6IGNlbnRlcjtcbiAgLS1ib3JkZXItd2lkdGg6IDBweDtcbiAgLS1jb2xvci1jaGVja2VkOiB0cmFuc3BhcmVudDtcbiAgbWFyZ2luLWxlZnQ6IDlweDtcbiAgbWFyZ2luLXRvcDogLTIwcHg7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBvcGFjaXR5OiAwO1xufVxuXG4udXBsb2FkcyB7XG4gIG1hcmdpbjogNXB4O1xufVxuLnVwbG9hZHMgLmltZy13cmFwIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIGZvbnQtc2l6ZTogMDtcbiAgcGFkZGluZzogNXB4O1xufVxuLnVwbG9hZHMgLmltZy13cmFwIC5jbG9zZSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAtMnB4O1xuICByaWdodDogLTdweDtcbiAgei1pbmRleDogMTAwO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjRkZGO1xuICBwYWRkaW5nOiA1cHggMnB4IDJweDtcbiAgY29sb3I6ICMwMDA7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBmb250LXNpemU6IDIycHg7XG4gIGxpbmUtaGVpZ2h0OiAxMHB4O1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG59XG4udXBsb2FkcyAuaW1nLXdyYXA6aG92ZXIgLmNsb3NlIHtcbiAgb3BhY2l0eTogMTtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Validators, FormGroup, FormControl, FormArray } from '@angular/forms';\r\nimport { DataService } from '../services/data.service';\r\nimport { LoadingService } from '../services/loading.service';\r\nimport { CheckboxCheckedValidator } from '../validators/checkbox-checked.validator';\r\n\r\n@Component({\r\n  selector: 'app-new-poll', \r\n  templateUrl: './new-poll.page.html',\r\n  styleUrls: ['./new-poll.page.scss'],\r\n})\r\nexport class NewPollPage implements OnInit {\r\n  private poll: any;\r\n  private title: any;\r\n  private pollForm: FormGroup;\r\n  private groupId: any;\r\n  private group: any;\r\n  private pollId: any;\r\n  private postTags: any = [];\r\n  private addedByUser: any;\r\n  private step: any = 1;\r\n  groups: any;\r\n\r\n  validations = {\r\n    name: [\r\n      { type: 'required', message: 'Title is required.' },\r\n      { type: 'minlength', message: 'Title must be at least 5 characters long.' },\r\n      { type: 'maxlength', message: 'Title cannot be more than 25 characters long.' }\r\n    ],\r\n    description: [\r\n      { type: 'required', message: 'Poll Question is required.' },\r\n      { type: 'minlength', message: 'Poll Question must be at least 10 characters long.' },\r\n      { type: 'maxlength', message: 'Poll Question cannot be more than 50 characters long.' }\r\n    ],\r\n    pollOption1: [\r\n      { type: 'required', message: 'Poll Question is required.' },\r\n      { type: 'minlength', message: 'Poll Question must be at least 10 characters long.' },\r\n      { type: 'maxlength', message: 'Poll Question cannot be more than 50 characters long.' }\r\n    ],\r\n    pollOption2: [\r\n      { type: 'required', message: 'Poll Question is required.' },\r\n      { type: 'minlength', message: 'Poll Question must be at least 10 characters long.' },\r\n      { type: 'maxlength', message: 'Poll Question cannot be more than 50 characters long.' }\r\n    ],\r\n    tags: [\r\n      { type: 'required', message: 'Please select at least one tag.' }\r\n    ]\r\n    };\r\n\r\n  constructor(\r\n    public dataProvider: DataService,\r\n    public loadingProvider: LoadingService,\r\n    private route: ActivatedRoute,\r\n    private router: Router\r\n  ) {\r\n    this.groupId = this.route.snapshot.params.id;\r\n\r\n    this.group = {name:''}\r\n    if (this.groupId === 'undefined') {\r\n      this.step = 1;\r\n    } else {\r\n      this.step = 2;\r\n    }\r\n\r\n    this.pollForm = new FormGroup({\r\n      description: new FormControl('', Validators.compose([\r\n        // Validators.minLength(10),\r\n        // Validators.maxLength(50),\r\n        Validators.required\r\n      ])),\r\n      pollOption1: new FormControl('', Validators.compose([\r\n        // Validators.minLength(1),\r\n        // Validators.maxLength(20),\r\n        Validators.required\r\n      ])),\r\n      pollOption2: new FormControl('', Validators.compose([\r\n        // Validators.minLength(1),\r\n        // Validators.maxLength(20),\r\n        Validators.required\r\n      ])),\r\n      pollOption3: new FormControl(''),\r\n      pollOption4: new FormControl(''),\r\n      tags: new FormArray([], CheckboxCheckedValidator.tagsSelected(1))\r\n      });\r\n   }\r\n\r\n   ionViewDidEnter() {\r\n    if (this.step === 1) {\r\n    this.title = 'Select a group ...';\r\n    this.dataProvider.getGroups().snapshotChanges().subscribe((data: any) => {\r\n\r\n    this.groups = data.map(c => {\r\n          return { $key: c.payload.doc.id, ...c.payload.doc.data() };\r\n        });\r\n      });\r\n    } else {\r\n      this.title = 'Poll';\r\n\r\n      this.dataProvider.getGroup(this.groupId).snapshotChanges().subscribe((group) => {\r\n        this.group = group.payload.data();\r\n        this.group.groupTags.forEach((element: any) => {\r\n          this.postTags.push({val: element, isChecked: false});\r\n        });\r\n        this.addTagControls();\r\n      });   \r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n     // Initialize\r\n\r\n     this.dataProvider.getCurrentUser().snapshotChanges().subscribe((value: any) => {\r\n      this.addedByUser = {\r\n      addedByKey: value.payload.data().userId,\r\n      addedByUsername: value.payload.data().username,\r\n      addedByImg: value.payload.data().img\r\n    };\r\n\r\n      this.poll = {\r\n      addedByUser: this.addedByUser,\r\n      date: '',\r\n      title: '',\r\n      postTags: [],\r\n      groupId: '',\r\n      groupName: '',\r\n      type: 'poll',\r\n      data: {},\r\n      totalReactionCount: 0,\r\n      totalReviewCount: 0,\r\n      totalPollCount: 0\r\n    };\r\n  });\r\n\r\n  }\r\n\r\n  addTagControls() {\r\n    this.postTags.forEach((o, i) => {\r\n      const control = new FormControl(i === 0); // if first item set to true, else false\r\n      (this.pollForm.controls.tags as FormArray).push(control);\r\n    });\r\n  }\r\n\r\n  submitPollForm() {\r\n    this.loadingProvider.show();\r\n\r\n    // Add poll info and date.\r\n    this.poll.groupId = this.groupId;\r\n    this.poll.groupName = this.group.name;\r\n    this.poll.date = new Date();\r\n    this.poll.title = this.pollForm.value.description;\r\n    this.poll.postTags = [];\r\n    this.poll.postTags = this.postTags;\r\n\r\n    const today = new Date();\r\n    const dd = today.getDate();\r\n    const mm = today.getMonth(); // January is 0!\r\n    const yyyy = today.getFullYear();\r\n\r\n    const date: Date = new Date(yyyy, mm, dd + 2);\r\n    const dateEnding = date;\r\n\r\n    this.poll.data = {\r\n      dateCreated: new Date(),\r\n      dateEnding,\r\n      pollOptions: []\r\n    };\r\n\r\n\r\n    if (this.pollForm.value.pollOption1 != null\r\n          && this.pollForm.value.pollOption1.trim() !== '') {\r\n          this.poll.data.pollOptions.push({\r\n            name : this.pollForm.value.pollOption1.trim()});\r\n        }\r\n    if (this.pollForm.value.pollOption2 != null\r\n            && this.pollForm.value.pollOption2.trim() !== '') {\r\n            this.poll.data.pollOptions.push({\r\n              name : this.pollForm.value.pollOption2.trim()});\r\n        }\r\n    if (this.pollForm.value.pollOption3 != null\r\n            && this.pollForm.value.pollOption3.trim() !== '') {\r\n            this.poll.data.pollOptions.push({\r\n               name : this.pollForm.value.pollOption3.trim()});\r\n        }\r\n    if (this.pollForm.value.pollOption4 != null\r\n          && this.pollForm.value.pollOption4.trim() !== '') {\r\n        this.poll.data.pollOptions.push({\r\n          name : this.pollForm.value.pollOption4.trim()});\r\n    }\r\n\r\n\r\n    this.dataProvider.addPost(this.poll).then((success) => {\r\n          const pollId = success.id;\r\n          this.pollId = pollId;\r\n          if (this.group.polls === undefined) {\r\n            this.group.polls = [];\r\n          }\r\n          this.group.polls.push(this.pollId);\r\n\r\n          // Update group data on the database.\r\n          this.dataProvider.getGroup(this.groupId).update({\r\n            posts: this.group.posts\r\n          }).then(() => {\r\n          // Back.\r\n          this.loadingProvider.hide();\r\n          this.router.navigateByUrl('tabs/tab2');\r\n          });\r\n      });\r\n    }\r\n\r\n  selectGroup(groupId) {\r\n    this.groupId = groupId;\r\n    console.log('groupId', groupId);\r\n    this.step = 2;\r\n    this.title = 'Event';\r\n\r\n    this.dataProvider.getGroup(this.groupId).snapshotChanges().subscribe((group) => {\r\n      this.group = group.payload.data();\r\n      this.group.groupTags.forEach((element: any) => {\r\n        this.postTags.push({val: element, isChecked: false});\r\n      });\r\n      this.addTagControls();\r\n\r\n  });\r\n\r\n    }\r\n\r\n}\r\n","import { ValidatorFn, FormArray } from '@angular/forms';\n\nexport class CheckboxCheckedValidator {\n\n  static tagsSelected(min) {\n    const validator: ValidatorFn = (formArray: FormArray) => {\n      const totalSelected = formArray.controls\n        .map(control => control.value)\n        .reduce((prev, next) => next ? prev + next : prev, 0);\n      return totalSelected >= min ? null : { required: true };\n    };\n\n    return validator;\n  }\n}\n"],"sourceRoot":"webpack:///"}