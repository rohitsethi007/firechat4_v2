{"version":3,"sources":["webpack:///src/app/feed/feed.page.html","webpack:///src/app/feed/feed.page.scss","webpack:///src/app/feed/feed.page.ts","webpack:///src/app/feed/feed.module.ts"],"names":["FeedPage","dataProvider","navCtrl","modalCtrl","firestore","alertCtrl","routerOutlet","loadingProvider","actionSheet","route","router","afAuth","localNotifications","fcm","plt","pushes","userNotifications","userReactions","searchMode","posts","searchPosts","memberofGroups","maxNoOfPosts","ALOGOLIA_APP_ID","ALGOLIA_API_KEY","slideOptsOne","initialSlide","slidesPerView","autoplay","ready","then","console","log","onNotification","subscribe","data","wasTapped","onTokenRefresh","token","subscribeToTopic","getToken","unsubscribeFromTopic","loggedInUserId","auth","currentUser","uid","getCurrentUser","u","get","user","loggedInUser","getFeedData","firstDataSet","collection","ref","where","groups","orderBy","limit","po","lastDataSet","docs","length","loadEachPostData","post","index","i","key","push","unreadMessagesCount","action","create","header","backdropDismiss","mode","cssClass","buttons","text","icon","handler","newPost","newResource","newPoll","newEvent","role","r","present","createPostOptionButtons","navigateByUrl","groupId","reactionType","showSmiley","addPostReaction","totalReactionCount","removePostReaction","showHug","showCheckin","showBookmark","postIndex","findIndex","el","p","reactions","find","addedByUser","addedByKey","getCurrentUserId","react","dateCreated","Date","addedByUsername","username","addedByImg","img","addPostReactions","some","postId","getUser","update","doc","FieldValue","arrayUnion","increment","found","undefined","values","Object","keys","map","e","reaction","arrayRemove","component","componentProps","modal","userId","showToast","indexOf","splice","addReports","message","cancelButton","reportButton","reportPost","notificationButton","deletePostButton","deletePost","unFollowPost","followPost","event","target","disabled","nextDataSet","startAfter","onSnapshot","complete","forEach","id","showMore","startDate","date","endDate","seconds","getTime","showNewIcon","type","today","de","dateEnding","toDate","pollClosed","snapshotChanges","element","payload","foundSmiley","foundHug","foundCheckin","foundBookmark","postTags","filter","x","isChecked","addOrUpdatePost","string","substring","searchTerm","tag","val","selector","template","routes","path","FeedPageModule","imports","forChild","declarations"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCsBFA,QAAQ;AAsCnB,0BACSC,YADT,EAESC,OAFT,EAGSC,SAHT,EAISC,SAJT,EAKSC,SALT,EAMUC,YANV,EAOSC,eAPT,EAQSC,WART,EASUC,KATV,EAUUC,MAVV,EAWUC,MAXV,EAYUC,kBAZV,EAaUC,GAbV,EAcSC,GAdT,EAcsB;AAAA;;AAAA;;AAbb,eAAAb,YAAA,GAAAA,YAAA;AACA,eAAAC,OAAA,GAAAA,OAAA;AACA,eAAAC,SAAA,GAAAA,SAAA;AACA,eAAAC,SAAA,GAAAA,SAAA;AACA,eAAAC,SAAA,GAAAA,SAAA;AACC,eAAAC,YAAA,GAAAA,YAAA;AACD,eAAAC,eAAA,GAAAA,eAAA;AACA,eAAAC,WAAA,GAAAA,WAAA;AACC,eAAAC,KAAA,GAAAA,KAAA;AACA,eAAAC,MAAA,GAAAA,MAAA;AACA,eAAAC,MAAA,GAAAA,MAAA;AACA,eAAAC,kBAAA,GAAAA,kBAAA;AACA,eAAAC,GAAA,GAAAA,GAAA;AACD,eAAAC,GAAA,GAAAA,GAAA;AAjDT,eAAAC,MAAA,GAAc,EAAd;AAQA,eAAAC,iBAAA,GAAyB,EAAzB;AACA,eAAAC,aAAA,GAAqB,EAArB;AACA,eAAAC,UAAA,GAAa,KAAb;AAKQ,eAAAC,KAAA,GAAa,EAAb;AACA,eAAAC,WAAA,GAAmB,EAAnB;AACA,eAAAC,cAAA,GAAsB,EAAtB;AAKA,eAAAC,YAAA,GAAoB,IAApB;AAKR,eAAAC,eAAA,GAAkB,YAAlB;AACA,eAAAC,eAAA,GAAkB,kCAAlB;AAEA,eAAAC,YAAA,GAAe;AACbC,wBAAY,EAAE,CADD;AAEbC,yBAAa,EAAE,CAFF;AAGbC,oBAAQ,EAAE;AAHG,WAAf;AAqBI,eAAKd,GAAL,CAASe,KAAT,GACCC,IADD,CACM,YAAM;AACVC,mBAAO,CAACC,GAAR,CAAY,6BAAZ;;AACA,iBAAI,CAACnB,GAAL,CAASoB,cAAT,GAA0BC,SAA1B,CAAoC,UAAAC,IAAI,EAAI;AAC1C,kBAAIA,IAAI,CAACC,SAAT,EAAoB;AAClBL,uBAAO,CAACC,GAAR,CAAY,wBAAZ;AACD,eAFD,MAEO;AACLD,uBAAO,CAACC,GAAR,CAAY,wBAAZ;AACD;;AAAA;AACF,aAND;;AAQA,iBAAI,CAACnB,GAAL,CAASwB,cAAT,GAA0BH,SAA1B,CAAoC,UAAAI,KAAK,EAAI;AAC3C;AACA;AACAP,qBAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBM,KAAzB;AACD,aAJD;AAKD,WAhBD,EAFkB,CAoBlB;AACA;AAED;;AA3EgB;AAAA;AAAA,6CA6EE;AACjB,iBAAKzB,GAAL,CAAS0B,gBAAT,CAA0B,QAA1B;AACD;AA/EgB;AAAA;AAAA,qCAgFN;AACT,iBAAK1B,GAAL,CAAS2B,QAAT,GAAoBV,IAApB,CAAyB,UAAAQ,KAAK,EAAI,CAChC;AACA;AACD,aAHD;AAID;AArFgB;AAAA;AAAA,iDAsFM;AACrB,iBAAKzB,GAAL,CAAS4B,oBAAT,CAA8B,QAA9B;AACD;AAxFgB;AAAA;AAAA,qCA0FR,CACV;AA3FkB;AAAA;AAAA,4CA6FD;AAAA;;AAChB,iBAAKC,cAAL,GAAsB,kDAAiBC,IAAjB,GAAwBC,WAAxB,CAAoCC,GAA1D,CADgB,CAEjB;;AACC,iBAAK5C,YAAL,CAAkB6C,cAAlB,GAAmChB,IAAnC,CAAwC,UAACiB,CAAD,EAAO;AAC7CA,eAAC,CAACC,GAAF,GAAQd,SAAR,CAAkB,UAACe,IAAD,EAAU;AAC1B,sBAAI,CAAChC,aAAL,GAAqBgC,IAAI,CAACd,IAAL,GAAYlB,aAAjC;AACA,sBAAI,CAACD,iBAAL,GAAyBiC,IAAI,CAACd,IAAL,GAAYnB,iBAArC;AACA,sBAAI,CAACkC,YAAL,GAAoBD,IAAI,CAACd,IAAL,EAApB;;AACA,sBAAI,CAACgB,WAAL;AACA,eALF;AAMD,aAPD;AASD;AAzGkB;AAAA;AAAA,wCA2GL;AAAA;;AACZ,iBAAKC,YAAL,GAAoB,KAAKhD,SAAL,CAAeiD,UAAf,CAA0B,OAA1B,EAAmCC,GAAnC,CACnBC,KADmB,CACb,SADa,EACF,IADE,EACI,KAAKL,YAAL,CAAkBM,MADtB,EAEnBC,OAFmB,CAEX,MAFW,EAEH,MAFG,EAGnBC,KAHmB,CAGb,CAHa,CAApB;AAIA,iBAAKN,YAAL,CAAkBJ,GAAlB,GAAwBlB,IAAxB,CAA6B,UAAC6B,EAAD,EAAa;AAC1C,oBAAI,CAACC,WAAL,GAAmBD,EAAE,CAACE,IAAH,CAAQF,EAAE,CAACE,IAAH,CAAQC,MAAR,GAAiB,CAAzB,CAAnB;AACA,oBAAI,CAAC3C,KAAL,GAAa,EAAb;;AACA,oBAAI,CAAC4C,gBAAL,CAAsBJ,EAAtB;AACH,aAJG;AAKD;AArHkB;AAAA;AAAA,0CAsHHK,IAtHG,EAsHG;AACpB,gBAAI,CAAC,KAAK7C,KAAV,EAAiB;AACf,mBAAKA,KAAL,GAAa,CAAC6C,IAAD,CAAb;AACD,aAFD,MAEO;AACL,kBAAIC,KAAK,GAAG,CAAC,CAAb;;AACA,mBAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK/C,KAAL,CAAW2C,MAA/B,EAAuCI,CAAC,EAAxC,EAA4C;AAC1C,oBAAI,KAAK/C,KAAL,CAAW+C,CAAX,EAAcC,GAAd,IAAqBH,IAAI,CAACG,GAA9B,EAAmC;AACjCF,uBAAK,GAAGC,CAAR;AACD;AACF;;AACD,kBAAID,KAAK,GAAG,CAAC,CAAb,EAAgB;AACd,qBAAK9C,KAAL,CAAW8C,KAAX,IAAoBD,IAApB;AACD,eAFD,MAEO;AACL,qBAAK7C,KAAL,CAAWiD,IAAX,CAAgBJ,IAAhB;AACD;AACF;AAEF;AAvIkB;AAAA;AAAA,mDAyIM;AACvB,gBAAI,KAAKK,mBAAT,EAA8B;AAC5B,kBAAI,KAAKA,mBAAL,GAA2B,CAA/B,EAAkC;AAChC,uBAAO,KAAKA,mBAAZ;AACD;AACF;;AACD,mBAAO,IAAP;AACD;AAhJkB;AAAA;AAAA,6CAkJA;AAAA;;AACjB,gBAAMC,MAAM,GAAG,KAAK9D,WAAL,CAAiB+D,MAAjB,CAAwB;AACrCC,oBAAM,EAAE,kBAD6B;AAErCC,6BAAe,EAAE,IAFoB;AAGrCC,kBAAI,EAAE,IAH+B;AAIrCC,sBAAQ,EAAE,aAJ2B;AAKrCC,qBAAO,EAAE,CAAC;AACRC,oBAAI,EAAE,MADE;AAERC,oBAAI,EAAE,qBAFE;AAGRH,wBAAQ,EAAE,YAHF;AAIRI,uBAAO,EAAE,mBAAM;AACb,wBAAI,CAACC,OAAL;AACD;AANO,eAAD,EAON;AACDH,oBAAI,EAAE,UADL;AAEDC,oBAAI,EAAE,kBAFL;AAGDC,uBAAO,EAAE,mBAAM;AACb,wBAAI,CAACE,WAAL;AACD;AALA,eAPM,EAaN;AACDJ,oBAAI,EAAE,MADL;AAEDC,oBAAI,EAAE,gBAFL;AAGDC,uBAAO,EAAE,mBAAM;AACb,wBAAI,CAACG,OAAL;AACD;AALA,eAbM,EAmBN;AACDL,oBAAI,EAAE,OADL;AAEDC,oBAAI,EAAE,kBAFL;AAGDH,wBAAQ,EAAE,cAHT;AAIDI,uBAAO,EAAE,mBAAM;AACb,wBAAI,CAACI,QAAL;AACD;AANA,eAnBM,EA0BN;AACDN,oBAAI,EAAE,QADL;AAEDC,oBAAI,EAAE,OAFL;AAGDM,oBAAI,EAAE,QAHL;AAIDL,uBAAO,EAAE,mBAAM;AACbhD,yBAAO,CAACC,GAAR,CAAY,gBAAZ;AACD;AANA,eA1BM;AAL4B,aAAxB,EAuCZF,IAvCY,CAuCP,UAAAuD,CAAC;AAAA,qBAAIA,CAAC,CAACC,OAAF,EAAJ;AAAA,aAvCM,CAAf;AAwCD;AA3LkB;AAAA;AAAA,0CA6LHtB,IA7LG,EA6LG;AACpB,gBAAMM,MAAM,GAAG,KAAK9D,WAAL,CAAiB+D,MAAjB,CAAwB;AACrCC,oBAAM,EAAE,cAD6B;AAErCC,6BAAe,EAAE,IAFoB;AAGrCC,kBAAI,EAAE,IAH+B;AAIrCC,sBAAQ,EAAE,aAJ2B;AAKrCC,qBAAO,EAAE,KAAKW,uBAAL,CAA6BvB,IAA7B;AAL4B,aAAxB,EAMZlC,IANY,CAMP,UAAAuD,CAAC;AAAA,qBAAIA,CAAC,CAACC,OAAF,EAAJ;AAAA,aANM,CAAf;AAOD;AArMkB;AAAA;AAAA,oCAuMT;AACR,iBAAK5E,MAAL,CAAY8E,aAAZ,CAA0B,eAAe,KAAKC,OAA9C;AACD;AAzMkB;AAAA;AAAA,oCA2MT;AACR,iBAAK/E,MAAL,CAAY8E,aAAZ,CAA0B,eAAe,KAAKC,OAA9C;AACD;AA7MkB;AAAA;AAAA,wCA+ML;AACZ,iBAAK/E,MAAL,CAAY8E,aAAZ,CAA0B,mBAAmB,KAAKC,OAAlD;AACD;AAjNkB;AAAA;AAAA,qCAmNR;AACT,iBAAK/E,MAAL,CAAY8E,aAAZ,CAA0B,gBAAgB,KAAKC,OAA/C;AACD;AArNkB;AAAA;AAAA,6CAuNAzB,IAvNA,EAuNM0B,YAvNN,EAuNoB;AACrC,oBAAQA,YAAR;AACE,mBAAK,QAAL;AAAe;AACb,sBAAI,CAAC1B,IAAI,CAAC2B,UAAV,EAAsB;AACpB,yBAAKC,eAAL,CAAqB5B,IAArB,EAA2B0B,YAA3B;AACA1B,wBAAI,CAAC2B,UAAL,GAAkB,IAAlB;AACA3B,wBAAI,CAAC6B,kBAAL,IAA2B,CAA3B;AACD,mBAJD,MAIO;AACL,yBAAKC,kBAAL,CAAwB9B,IAAxB,EAA8B0B,YAA9B;AACA1B,wBAAI,CAAC2B,UAAL,GAAkB,KAAlB;AACA3B,wBAAI,CAAC6B,kBAAL,IAA2B,CAA3B;AACD;;AACD;AACD;;AAED,mBAAK,KAAL;AAAY;AACV,sBAAI,CAAC7B,IAAI,CAAC+B,OAAV,EAAmB;AACjB,yBAAKH,eAAL,CAAqB5B,IAArB,EAA2B0B,YAA3B;AACA1B,wBAAI,CAAC+B,OAAL,GAAe,IAAf;AACA/B,wBAAI,CAAC6B,kBAAL,IAA2B,CAA3B;AACD,mBAJD,MAIO;AACL,yBAAKC,kBAAL,CAAwB9B,IAAxB,EAA8B0B,YAA9B;AACA1B,wBAAI,CAAC+B,OAAL,GAAe,KAAf;AACA/B,wBAAI,CAAC6B,kBAAL,IAA2B,CAA3B;AACD;;AACD;AACD;;AAED,mBAAK,SAAL;AAAgB;AACd,sBAAI,CAAC7B,IAAI,CAACgC,WAAV,EAAuB;AACrB,yBAAKJ,eAAL,CAAqB5B,IAArB,EAA2B0B,YAA3B;AACA1B,wBAAI,CAACgC,WAAL,GAAmB,IAAnB;AACAhC,wBAAI,CAAC6B,kBAAL,IAA2B,CAA3B;AACD,mBAJD,MAIO;AACL,yBAAKC,kBAAL,CAAwB9B,IAAxB,EAA8B0B,YAA9B;AACA1B,wBAAI,CAACgC,WAAL,GAAmB,KAAnB;AACAhC,wBAAI,CAAC6B,kBAAL,IAA2B,CAA3B;AACD;;AACD;AACD;;AAED,mBAAK,UAAL;AAAiB;AACf,sBAAI,CAAC7B,IAAI,CAACiC,YAAV,EAAwB;AACtB,yBAAKL,eAAL,CAAqB5B,IAArB,EAA2B0B,YAA3B;AACA1B,wBAAI,CAACiC,YAAL,GAAoB,IAApB;AACAjC,wBAAI,CAAC6B,kBAAL,IAA2B,CAA3B;AACD,mBAJD,MAIO;AACL,yBAAKC,kBAAL,CAAwB9B,IAAxB,EAA8B0B,YAA9B;AACA1B,wBAAI,CAACiC,YAAL,GAAoB,KAApB;AACAjC,wBAAI,CAAC6B,kBAAL,IAA2B,CAA3B;AACD;;AACD;AACD;AAnDH;AAqDD;AA7QkB;AAAA;AAAA,0CA+QH7B,IA/QG,EA+QG0B,YA/QH,EA+QiB;AAAA;;AAClC;AACA,gBAAMQ,SAAS,GAAG,KAAK/E,KAAL,CAAWgF,SAAX,CAAqB,UAAAC,EAAE;AAAA,qBAAIA,EAAE,CAACjC,GAAH,KAAYH,IAAI,CAACG,GAArB;AAAA,aAAvB,CAAlB;AACA,gBAAMkC,CAAC,GAAG,KAAKlF,KAAL,CAAW+E,SAAX,CAAV;AAEA,gBAAMb,CAAC,GAAGgB,CAAC,CAACC,SAAF,CAAYC,IAAZ,CAAiB,UAAAH,EAAE;AAAA,qBAAIA,EAAE,CAACI,WAAH,CAAeC,UAAf,KAA8B,MAAI,CAACxG,YAAL,CAAkByG,gBAAlB,EAAlC;AAAA,aAAnB,CAAV;;AAEA,gBAAI,CAACrB,CAAL,EAAQ;AACN,kBAAMsB,KAAK,GAAG;AACZC,2BAAW,EAAE,IAAIC,IAAJ,EADD;AAEZL,2BAAW,EAAE;AACCC,4BAAU,EAAE,KAAKxG,YAAL,CAAkByG,gBAAlB,EADb;AAECI,iCAAe,EAAE,KAAK5D,YAAL,CAAkB6D,QAFpC;AAGCC,4BAAU,EAAE,KAAK9D,YAAL,CAAkB+D;AAH/B,iBAFD;AAOZvB,4BAAY,EAAE,CAACA,YAAD;AAPF,eAAd;AAUA,mBAAKzF,YAAL,CAAkBiH,gBAAlB,CAAmClD,IAAI,CAACG,GAAxC,EAA6CwC,KAA7C,EAAoD7E,IAApD,CAAyD,YAAM;AAC7D;AACA,oBAAI,CAAC,MAAI,CAACd,iBAAL,CAAuBmG,IAAvB,CAA4B,UAAAd,CAAC;AAAA,yBAAIA,CAAC,KAAK,MAAI,CAACe,MAAf;AAAA,iBAA7B,CAAL,EAA0D;AACxD,wBAAI,CAACpG,iBAAL,CAAuBoD,IAAvB,CAA4B,MAAI,CAACgD,MAAjC;;AACA,wBAAI,CAACnH,YAAL,CAAkBoH,OAAlB,CAA0B,MAAI,CAAC3E,cAA/B,EAA+C4E,MAA/C,CAAsD;AACpDtG,qCAAiB,EAAE,MAAI,CAACA;AAD4B,mBAAtD;AAGD,iBAP4D,CAS7D;;;AACA,oBAAI,CAAC,MAAI,CAACC,aAAN,IAAuB,MAAI,CAACA,aAAL,CAAmBkG,IAAnB,CAAwB,UAAAd,CAAC;AAAA,yBAAIA,CAAC,KAAK,MAAI,CAACe,MAAf;AAAA,iBAAzB,CAA3B,EAA4E;AAC1E,wBAAI,CAACnG,aAAL,CAAmBmD,IAAnB,CAAwB,MAAI,CAACgD,MAA7B;;AACA,wBAAI,CAACnH,YAAL,CAAkBoH,OAAlB,CAA0B,MAAI,CAAC3E,cAA/B,EAA+C4E,MAA/C,CAAsD;AACpDrG,iCAAa,EAAE,MAAI,CAACA;AADgC,mBAAtD;AAGD;AACF,eAhBD;AAiBD,aA5BD,MA4BO;AACL,mBAAKb,SAAL,CAAeiD,UAAf,CAA0B,OAA1B,EAAmCkE,GAAnC,CAAuCvD,IAAI,CAACG,GAA5C,EAAiDd,UAAjD,CAA4D,WAA5D,EAAyEkE,GAAzE,CAA6ElC,CAAC,CAAClB,GAA/E,EAAoFmD,MAApF,CAA2F;AACzF5B,4BAAY,EAAE,kDAAiBtF,SAAjB,CAA2BoH,UAA3B,CAAsCC,UAAtC,CAAiD/B,YAAjD;AAD2E,eAA3F,EAEC5D,IAFD,CAEM,YAAM;AACZ,oBAAM4F,SAAS,GAAG,kDAAiBtH,SAAjB,CAA2BoH,UAA3B,CAAsCE,SAAtC,CAAgD,CAAhD,CAAlB;;AACA,sBAAI,CAACtH,SAAL,CAAeiD,UAAf,CAA0B,OAA1B,EAAmCkE,GAAnC,CAAuCvD,IAAI,CAACG,GAA5C,EAAiDmD,MAAjD,CAAwD;AACtDzB,oCAAkB,EAAG6B;AADiC,iBAAxD;AAGD,eAPC;AAQD;AACF;AA5TkB;AAAA;AAAA,6CA8TA1D,IA9TA,EA8TM0B,YA9TN,EA8ToB;AAAA;;AACrC;AACA,gBAAMQ,SAAS,GAAG,KAAK/E,KAAL,CAAWgF,SAAX,CAAqB,UAAAC,EAAE;AAAA,qBAAIA,EAAE,CAACjC,GAAH,KAAYH,IAAI,CAACG,GAArB;AAAA,aAAvB,CAAlB;AACA,gBAAMkC,CAAC,GAAG,KAAKlF,KAAL,CAAW+E,SAAX,CAAV;AAEA,gBAAMyB,KAAK,GAAG,KAAd;;AACA,gBAAItB,CAAC,CAACC,SAAF,KAAgBsB,SAApB,EAA+B;AAC7B,kBAAMC,MAAM,GAAGC,MAAM,CAACC,IAAP,CAAY1B,CAAC,CAACC,SAAd,EAAyB0B,GAAzB,CAA8B,UAASC,CAAT,EAAY;AACvD,uBAAO5B,CAAC,CAACC,SAAF,CAAY2B,CAAZ,CAAP;AACD,eAFc,CAAf;AAIA,kBAAMC,QAAQ,GAAG7B,CAAC,CAACC,SAAF,CAAYC,IAAZ,CACf,UAAAH,EAAE;AAAA,uBAAIA,EAAE,CAACI,WAAH,CAAeC,UAAf,KAA8B,MAAI,CAACxG,YAAL,CAAkByG,gBAAlB,EAAlC;AAAA,eADa,CAAjB;;AAGA,kBAAIwB,QAAQ,CAACxC,YAAT,CAAsB5B,MAAtB,KAAiC,CAAjC,IACCoE,QAAQ,CAACxC,YAAT,CAAsByB,IAAtB,CAA2B,UAAAc,CAAC;AAAA,uBAAIA,CAAC,KAAKvC,YAAV;AAAA,eAA5B,CADL,EAC0D;AACxD,qBAAKzF,YAAL,CAAkB6F,kBAAlB,CAAqC9B,IAAI,CAACG,GAA1C,EAA+C+D,QAAQ,CAAC/D,GAAxD;AACD,eAHD,MAGO;AACL;AACA;AACA,qBAAK/D,SAAL,CAAeiD,UAAf,CAA0B,OAA1B,EAAmCkE,GAAnC,CAAuCvD,IAAI,CAACG,GAA5C,EAAiDd,UAAjD,CAA4D,WAA5D,EAAyEkE,GAAzE,CAA6EW,QAAQ,CAAC/D,GAAtF,EAA2FmD,MAA3F,CAAkG;AAChG5B,8BAAY,EAAE,kDAAiBtF,SAAjB,CAA2BoH,UAA3B,CAAsCW,WAAtC,CAAkDzC,YAAlD;AADkF,iBAAlG,EAEC5D,IAFD,CAEM,YAAM;AACZ,sBAAM4F,SAAS,GAAG,kDAAiBtH,SAAjB,CAA2BoH,UAA3B,CAAsCE,SAAtC,CAAgD,CAAC,CAAjD,CAAlB;;AACA,wBAAI,CAACtH,SAAL,CAAeiD,UAAf,CAA0B,OAA1B,EAAmCkE,GAAnC,CAAuCvD,IAAI,CAACG,GAA5C,EAAiDmD,MAAjD,CAAwD;AACtDzB,sCAAkB,EAAG6B;AADiC,mBAAxD;AAGD,iBAPC;AAQD;AACF;AACF;AA5VkB;AAAA;AAAA,4CA8VK1D,IA9VL,EA8VW;;;;;;;4BACxBA,IAAI,CAAC6B,kBAAL,KAA4B,C;;;;;;;;AAGjC;AACOK,+B,GAAY,KAAK/E,KAAL,CAAWgF,SAAX,CAAqB,UAAAC,EAAE;AAAA,+BAAIA,EAAE,CAACjC,GAAH,KAAYH,IAAI,CAACG,GAArB;AAAA,uBAAvB,C;AACZkC,uB,GAAI,KAAKlF,KAAL,CAAW+E,SAAX,C;;AACI,6BAAM,KAAK/F,SAAL,CAAeoE,MAAf,CAAsB;AACxC6D,iCAAS,EAAE,oGAD6B;AAExCC,sCAAc,EAAE;AACd/B,mCAAS,EAAED,CAAC,CAACC;AADC;AAFwB,uBAAtB,CAAN;;;AAARgC,2B;;AAMC,6BAAMA,KAAK,CAAChD,OAAN,EAAN;;;;;;;;;;;;AACR;AA5WkB;AAAA;AAAA,mCA8WVtB,IA9WU,EA8WJ;AACb,iBAAKtD,MAAL,CAAY8E,aAAZ,CAA0B,UAAUxB,IAAI,CAACG,GAAzC;AACD;AAhXkB;AAAA;AAAA,mCAmXVoE,MAnXU,EAmXF;AACf,iBAAK7H,MAAL,CAAY8E,aAAZ,CAA0B,cAAc+C,MAAxC;AACD;AArXkB;AAAA;AAAA,oCAuXT9C,OAvXS,EAuXA;AACjB,iBAAK/E,MAAL,CAAY8E,aAAZ,CAA0B,YAAYC,OAAtC;AACD;AAzXkB;AAAA;AAAA,qCA2XRzB,IA3XQ,EA2XF;AAAA;;AACf,gBAAI,CAAC,KAAKhD,iBAAV,EAA6B;AAC3B,mBAAKA,iBAAL,GAAyB,CAACgD,IAAI,CAACG,GAAN,CAAzB;AACD,aAFD,MAEO;AACL,mBAAKnD,iBAAL,CAAuBoD,IAAvB,CAA4BJ,IAAI,CAACG,GAAjC;AACD;;AAED,iBAAKlE,YAAL,CAAkBoH,OAAlB,CAA0B,KAAK3E,cAA/B,EAA+C4E,MAA/C,CAAsD;AACpDtG,+BAAiB,EAAE,KAAKA;AAD4B,aAAtD,EAEGc,IAFH,CAEQ,YAAM;AACZ,oBAAI,CAACvB,eAAL,CAAqBiI,SAArB,CAA+B,iDAA/B;AACD,aAJD;AAKD;AAvYkB;AAAA;AAAA,uCAyYNxE,IAzYM,EAyYA;AAAA;;AACjB,gBAAMC,KAAK,GAAG,KAAKjD,iBAAL,CAAuByH,OAAvB,CAA+BzE,IAAI,CAACG,GAApC,EAAyC,CAAzC,CAAd;;AACA,gBAAIF,KAAK,GAAG,CAAC,CAAb,EAAgB;AACd,mBAAKjD,iBAAL,CAAuB0H,MAAvB,CAA8BzE,KAA9B,EAAqC,CAArC;AACD;;AAED,iBAAKhE,YAAL,CAAkBoH,OAAlB,CAA0B,KAAK3E,cAA/B,EAA+C4E,MAA/C,CAAsD;AACpDtG,+BAAiB,EAAE,KAAKA;AAD4B,aAAtD,EAEGc,IAFH,CAEQ,YAAM;AACZ,oBAAI,CAACvB,eAAL,CAAqBiI,SAArB,CAA+B,4CAA/B;AACD,aAJD;AAKD;AApZkB;AAAA;AAAA,qCAsZRxE,IAtZQ,EAsZF;AAAA;;AACf,iBAAK/D,YAAL,CAAkB0I,UAAlB,CAA6B,KAAKjG,cAAlC,EAAkDsB,IAAlD,EAAwDlC,IAAxD,CAA6D,YAAM;AACjE,oBAAI,CAACvB,eAAL,CAAqBiI,SAArB,CAA+B,mCAA/B;AACD,aAFD;AAGD;AA1ZkB;AAAA;AAAA,qCA4ZRxE,IA5ZQ,EA4ZF;AAAA;;AACf,iBAAK3D,SAAL,CAAekE,MAAf,CAAsB;AACpBC,oBAAM,EAAE,aADY;AAEpBoE,qBAAO,EAAE,4CAFW;AAGpBhE,qBAAO,EAAE,CACP;AACEC,oBAAI,EAAE;AADR,eADO,EAIP;AACEA,oBAAI,EAAE,KADR;AAEEE,uBAAO,EAAE,iBAAA5C,IAAI,EAAI;AACd,yBAAI,CAAC/B,SAAL,CAAemH,GAAf,CAAmB,WAAWvD,IAAI,CAACG,GAAnC;AACF;AAJH,eAJO;AAHW,aAAtB,EAcGrC,IAdH,CAcQ,UAAAuD,CAAC;AAAA,qBAAIA,CAAC,CAACC,OAAF,EAAJ;AAAA,aAdT;AAeD;AA5akB;AAAA;AAAA,kDA8aKtB,IA9aL,EA8aW;AAAA;;AAC5B,gBAAMY,OAAO,GAAG,EAAhB;AAEA,gBAAMiE,YAAY,GAAG;AACnBhE,kBAAI,EAAE,QADa;AAEnBC,kBAAI,EAAE,OAFa;AAGnBM,kBAAI,EAAE,QAHa;AAInBL,qBAAO,EAAE,mBAAM;AACbhD,uBAAO,CAACC,GAAR,CAAY,gBAAZ;AACD;AANkB,aAArB;AASA,gBAAM8G,YAAY,GAAG;AACnBjE,kBAAI,EAAE,aADa;AAEnBC,kBAAI,EAAE,cAFa;AAGnBC,qBAAO,EAAE,mBAAM;AACb,uBAAI,CAACgE,UAAL,CAAgB/E,IAAhB;AACA;AALiB,aAArB;AAOA,gBAAIgF,kBAAkB,GAAG,EAAzB;;AAEA,gBAAIhF,IAAI,CAACwC,WAAL,CAAiBC,UAAjB,KAAgC,KAAK/D,cAAzC,EAAyD;AACvD,kBAAMuG,gBAAgB,GAAG;AACvBpE,oBAAI,EAAE,aADiB;AAEvBC,oBAAI,EAAE,eAFiB;AAGvBH,wBAAQ,EAAE,YAHa;AAIvBI,uBAAO,EAAE,mBAAM;AACb,yBAAI,CAACmE,UAAL,CAAgBlF,IAAhB;AACD;AANsB,eAAzB;AAQAY,qBAAO,CAACR,IAAR,CAAa6E,gBAAb;AACD,aAVD,MAUO;AACL,kBAAI,KAAKjI,iBAAL,IAA0B,KAAKA,iBAAL,CAAuBmG,IAAvB,CAA4B,UAAAf,EAAE;AAAA,uBAAIA,EAAE,KAAKpC,IAAI,CAACG,GAAhB;AAAA,eAA9B,CAA9B,EAAkF;AAChF6E,kCAAkB,GAAG;AACjBnE,sBAAI,EAAE,wBADW;AAEjBC,sBAAI,EAAE,2BAFW;AAGjBH,0BAAQ,EAAE,YAHO;AAIjBI,yBAAO,EAAE,mBAAM;AACb,2BAAI,CAACoE,YAAL,CAAkBnF,IAAlB;AACD;AANgB,iBAArB;AAQD,eATD,MASO;AACLgF,kCAAkB,GAAG;AACnBnE,sBAAI,EAAE,uBADa;AAEnBC,sBAAI,EAAE,uBAFa;AAGnBH,0BAAQ,EAAE,YAHS;AAInBI,yBAAO,EAAE,mBAAM;AACb,2BAAI,CAACqE,UAAL,CAAgBpF,IAAhB;AACD;AANkB,iBAArB;AAQD;;AACDY,qBAAO,CAACR,IAAR,CAAa4E,kBAAb;AACH;;AACCpE,mBAAO,CAACR,IAAR,CAAa0E,YAAb;AACAlE,mBAAO,CAACR,IAAR,CAAayE,YAAb;AACA,mBAAOjE,OAAP;AACD;AAtekB;AAAA;AAAA,mCAweVyE,KAxeU,EAweH;AAAA;;AACd,gBAAK,KAAKlI,KAAL,CAAW2C,MAAX,GAAoB,KAAKxC,YAA9B,EAA6C;AAC3C+H,mBAAK,CAACC,MAAN,CAAaC,QAAb,GAAwB,IAAxB;AACD,aAFD,MAEO;AACL,kBAAI,KAAK3F,WAAT,EAAsB;AACtB,qBAAK4F,WAAL,GAAmB,KAAKpJ,SAAL,CAAeiD,UAAf,CAA0B,OAA1B,EAAmCC,GAAnC,CACEC,KADF,CACQ,SADR,EACmB,IADnB,EACyB,KAAKL,YAAL,CAAkBM,MAD3C,EAEEC,OAFF,CAEU,MAFV,EAEkB,MAFlB,EAGEgG,UAHF,CAGa,KAAK7F,WAHlB,EAG+BF,KAH/B,CAGqC,CAHrC,CAAnB;AAIA,qBAAK8F,WAAL,CAAiBE,UAAjB,CAA4B,UAAC/F,EAAD,EAAa;AACzC,yBAAI,CAACC,WAAL,GAAmBD,EAAE,CAACE,IAAH,CAAQF,EAAE,CAACE,IAAH,CAAQC,MAAR,GAAiB,CAAzB,CAAnB;AACA/B,yBAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8B2B,EAAE,CAACE,IAAH,CAAQC,MAAtC;;AACA,sBAAIH,EAAE,CAACE,IAAH,CAAQC,MAAR,GAAiB,CAArB,EAAwB;AACtB,2BAAI,CAACC,gBAAL,CAAsBJ,EAAtB;AACD;;AACD0F,uBAAK,CAACC,MAAN,CAAaK,QAAb;AACG,iBAPH;AAQC,eAbD,MAaO;AACLN,qBAAK,CAACC,MAAN,CAAaK,QAAb;AACD;AACF;AACF;AA7fkB;AAAA;AAAA,2CA+fFhG,EA/fE,EA+fO;AAAA;;AACxBA,cAAE,CAACiG,OAAH,CAAW,UAAAvD,CAAC,EAAI;AACd,kBAAIrC,IAAJ;AACAA,kBAAI,GAAGqC,CAAC,CAAClE,IAAF,EAAP;AACA6B,kBAAI,CAACG,GAAL,GAAWkC,CAAC,CAACwD,EAAb;AACA7F,kBAAI,CAAC8F,QAAL,GAAgB,KAAhB;AACA,kBAAMC,SAAS,GAAG,IAAIlD,IAAJ,CAAS7C,IAAI,CAACgG,IAAd,CAAlB,CALc,CAMhB;;AACE,kBAAMC,OAAO,GAAK,IAAIpD,IAAJ,EAAlB;AACA,kBAAMqD,OAAO,GAAG,CAACD,OAAO,CAACE,OAAR,KAAoBJ,SAAS,CAACI,OAAV,EAArB,IAA4C,IAA5D;;AACA,kBAAID,OAAO,GAAG,GAAd,EAAmB;AACnBlG,oBAAI,CAACoG,WAAL,GAAmB,KAAnB;AACD,eAFC,MAEK;AACLpG,oBAAI,CAACoG,WAAL,GAAmB,IAAnB;AACD;;AAEC,kBAAIpG,IAAI,CAACqG,IAAL,KAAc,MAAlB,EAA0B;AACxB,oBAAMC,KAAK,GAAG,IAAIzD,IAAJ,EAAd;AACA,oBAAM0D,EAAE,GAAGvG,IAAI,CAAC7B,IAAL,CAAUqI,UAAV,CAAqBC,MAArB,EAAX;;AACA,oBAAIzG,IAAI,CAACuG,EAAL,GAAUD,KAAd,EAAqB;AACnBtG,sBAAI,CAAC0G,UAAL,GAAkB,IAAlB;AACD,iBAFD,MAEO;AACL1G,sBAAI,CAAC0G,UAAL,GAAkB,KAAlB;AACD;AACF,eAvBa,CAwBd;;;AACA,qBAAI,CAACtK,SAAL,CAAeiD,UAAf,CAA0B,OAA1B,EAAmCkE,GAAnC,CAAuCvD,IAAI,CAACG,GAA5C,EAAiDd,UAAjD,CAA4D,WAA5D,EAAyEsH,eAAzE,GAA2FzI,SAA3F,CAAqG,UAACoE,SAAD,EAAoB;AACvHtC,oBAAI,CAACsC,SAAL,GAAiB,EAAjB;AACAA,yBAAS,CAACsD,OAAV,CAAkB,UAAAgB,OAAO,EAAI;AAC7B,sBAAM1C,QAAQ,GAAG0C,OAAO,CAACC,OAAR,CAAgBtD,GAAhB,CAAoBpF,IAApB,EAAjB;AACA+F,0BAAQ,CAAC/D,GAAT,GAAeyG,OAAO,CAACC,OAAR,CAAgBtD,GAAhB,CAAoBsC,EAAnC;AACA7F,sBAAI,CAACsC,SAAL,CAAelC,IAAf,CAAoB8D,QAApB;AACD,iBAJC,EAFuH,CAQvH;;AACA,oBAAI5B,SAAS,CAACxC,MAAV,GAAmB,CAAvB,EAA0B;AAC1B,sBAAIgH,WAAW,GAAG,KAAlB;;AACA,sBAAI9G,IAAI,CAACsC,SAAL,CAAexC,MAAf,GAAwB,CAA5B,EAA+B;AAC1B,wBAAMuB,CAAC,GAAGrB,IAAI,CAACsC,SAAL,CAAeC,IAAf,CAAoB,UAAAH,EAAE;AAAA,6BAAIA,EAAE,CAACI,WAAH,CAAeC,UAAf,KAA8B,OAAI,CAACxG,YAAL,CAAkByG,gBAAlB,EAAlC;AAAA,qBAAtB,CAAV;AACAoE,+BAAW,GAAGzF,CAAC,CAACK,YAAF,CAAeyB,IAAf,CAAoB,UAAA9B,CAAC;AAAA,6BAAIA,CAAC,KAAK,QAAV;AAAA,qBAArB,CAAd;AACF;;AACH,sBAAIyF,WAAJ,EAAiB;AACb9G,wBAAI,CAAC2B,UAAL,GAAkB,IAAlB;AACD,mBAFH,MAES;AACL3B,wBAAI,CAAC2B,UAAL,GAAkB,KAAlB;AACD,mBAVuB,CAWxB;;;AACF,sBAAIoF,QAAQ,GAAG,KAAf;;AACA,sBAAI/G,IAAI,CAACsC,SAAL,KAAmBsB,SAAvB,EAAkC;AAC9B,wBAAMvC,EAAC,GAAGrB,IAAI,CAACsC,SAAL,CAAeC,IAAf,CAAoB,UAAAH,EAAE;AAAA,6BAAIA,EAAE,CAACI,WAAH,CAAeC,UAAf,KAA8B,OAAI,CAACxG,YAAL,CAAkByG,gBAAlB,EAAlC;AAAA,qBAAtB,CAAV;;AACAqE,4BAAQ,GAAG1F,EAAC,CAACK,YAAF,CAAeyB,IAAf,CAAoB,UAAA9B,CAAC;AAAA,6BAAIA,CAAC,KAAK,KAAV;AAAA,qBAArB,CAAX;AACD;;AACH,sBAAI0F,QAAJ,EAAc;AACV/G,wBAAI,CAAC+B,OAAL,GAAe,IAAf;AACD,mBAFH,MAES;AACL/B,wBAAI,CAAC+B,OAAL,GAAe,KAAf;AACD,mBArBuB,CAuB1B;;;AACA,sBAAIiF,YAAY,GAAG,KAAnB;;AACA,sBAAIhH,IAAI,CAACsC,SAAL,KAAmBsB,SAAvB,EAAkC;AAChC,wBAAMvC,GAAC,GAAGrB,IAAI,CAACsC,SAAL,CAAeC,IAAf,CAAoB,UAAAH,EAAE;AAAA,6BAAIA,EAAE,CAACI,WAAH,CAAeC,UAAf,KAA8B,OAAI,CAACxG,YAAL,CAAkByG,gBAAlB,EAAlC;AAAA,qBAAtB,CAAV;;AACAsE,gCAAY,GAAG3F,GAAC,CAACK,YAAF,CAAeyB,IAAf,CAAoB,UAAA9B,CAAC;AAAA,6BAAIA,CAAC,KAAK,SAAV;AAAA,qBAArB,CAAf;AACC;;AACH,sBAAI2F,YAAJ,EAAkB;AACdhH,wBAAI,CAACgC,WAAL,GAAmB,IAAnB;AACD,mBAFH,MAES;AACLhC,wBAAI,CAACgC,WAAL,GAAmB,KAAnB;AACD,mBAjCuB,CAmC1B;;;AACA,sBAAIiF,aAAa,GAAG,KAApB;;AACA,sBAAIjH,IAAI,CAACsC,SAAL,KAAmBsB,SAAvB,EAAkC;AAChC,wBAAMvC,GAAC,GAAGrB,IAAI,CAACsC,SAAL,CAAeC,IAAf,CAAoB,UAAAH,EAAE;AAAA,6BAAIA,EAAE,CAACI,WAAH,CAAeC,UAAf,KAA8B,OAAI,CAACxG,YAAL,CAAkByG,gBAAlB,EAAlC;AAAA,qBAAtB,CAAV;;AACAuE,iCAAa,GAAG5F,GAAC,CAACK,YAAF,CAAeyB,IAAf,CAAoB,UAAA9B,CAAC;AAAA,6BAAIA,CAAC,KAAK,UAAV;AAAA,qBAArB,CAAhB;AACC;;AACH,sBAAI4F,aAAJ,EAAmB;AACfjH,wBAAI,CAACiC,YAAL,GAAoB,IAApB;AACD,mBAFH,MAES;AACLjC,wBAAI,CAACiC,YAAL,GAAoB,KAApB;AACD;AACJ;AACA,eAxDD;;AAyDAjC,kBAAI,CAACkH,QAAL,GAAgBlH,IAAI,CAACkH,QAAL,CAAcC,MAAd,CAAqB,UAAAC,CAAC;AAAA,uBAAIA,CAAC,CAACC,SAAF,KAAgB,KAApB;AAAA,eAAtB,CAAhB;;AACA,qBAAI,CAACC,eAAL,CAAqBtH,IAArB;AACD,aApFD;AAqFD;AArlBkB;AAAA;AAAA,oCAulBTqF,KAvlBS,EAulBF;AACf,iBAAKlG,WAAL;AACAkG,iBAAK,CAACC,MAAN,CAAaK,QAAb;AACD;AA1lBkB;AAAA;AAAA,qCA4lBR4B,MA5lBQ,EA4lBAzH,MA5lBA,EA4lBQ;AACzB,mBAAOyH,MAAM,CAACzH,MAAP,GAAgBA,MAAhB,GACHyH,MAAM,CAACC,SAAP,CAAiB,CAAjB,EAAoB1H,MAApB,IAA8B,KAD3B,GAEHyH,MAFJ;AAGD;AAhmBkB;AAAA;AAAA,kCAkmBXlC,KAlmBW,EAkmBJ;AACb,gBAAI,CAAC,KAAKnI,UAAV,EAAsB;AACpB,mBAAKA,UAAL,GAAkB,IAAlB;AACD;AACF;AAtmBkB;AAAA;AAAA,mCAwmBVmI,KAxmBU,EAwmBH;AACd,iBAAKnI,UAAL,GAAkB,KAAlB;AACA,iBAAKE,WAAL,GAAmB,EAAnB;AACA,iBAAKqK,UAAL,GAAkB,EAAlB;AACD;AA5mBkB;AAAA;AAAA,oCA8mBTpC,KA9mBS,EA8mBF;AACf;AACA;AACA;AACA;AACA;AACA;AACA,iBAAKjI,WAAL,GAAmB,KAAKD,KAAxB;AACD;AAtnBkB;AAAA;AAAA,oCAwnBTuK,GAxnBS,EAwnBJ1H,IAxnBI,EAwnBE;AACnB,iBAAK9C,UAAL,GAAkB,IAAlB;AACA,iBAAKuK,UAAL,GAAkBC,GAAG,CAACC,GAAtB;AACD;AA3nBkB;;AAAA;AAAA,S;;;;gBArBZ;;gBACA;;gBAAuD;;gBAKvD;;gBALsC;;gBAAkC;;gBACxE;;gBADe;;gBAIf;;gBAAgB;;gBAEhB;;gBAJA;;gBAQA;;gBACA;;;;;;gBAUN,uD;AAAS,iBAAC,gEAAD,EAAoB;AAAC,sBAAQ;AAAT,WAApB;;;AADC3L,cAAQ,6DALpB,gEAAU;AACT4L,gBAAQ,EAAE,UADD;AAETC,gBAAQ,EAAR,kEAFS;;AAAA,OAAV,CAKoB,E,+EAuCI,kE,EACL,4D,EACE,8D,EACA,wE,EACA,8D,EACI,8D,EACE,wE,EACJ,oE,EACL,8D,EACC,sD,EACA,mE,EACY,wF,EACf,0D,EACD,uD,EApDK,GAAR7L,QAAQ,CAAR;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACbb,UAAM8L,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,EADR;AAEE3D,iBAAS,EAAE;AAFb,OADqB,CAAvB;;UAkBa4D,cAAc;AAAA;AAAA,O;;AAAdA,oBAAc,6DAX1B,+DAAS;AACRC,eAAO,EAAE,CACP,4DADO,EAEP,0DAFO,EAGP,mEAHO,EAIP,0DAJO,EAKP,8EALO,EAMP,6DAAaC,QAAb,CAAsBJ,MAAtB,CANO,CADD;AASRK,oBAAY,EAAE,CAAC,mDAAD;AATN,OAAT,CAW0B,GAAdH,cAAc,CAAd","file":"feed-feed-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar class=\\\"filters-toolbar\\\">\\n    <ion-row class=\\\"searchbar-row\\\" *ngIf=\\\"!searchMode\\\" align-items-center>\\n    <ion-col>\\n        <ion-searchbar mode=\\\"ios\\\" (ionFocus)=\\\"onFocus($event)\\\" class=\\\"searchbar\\\" placeholder=\\\"Search...\\\"></ion-searchbar>\\n      </ion-col>\\n      <ion-col class=\\\"call-to-action-col\\\">\\n        <ion-button fill=\\\"clear\\\" color=\\\"secondary\\\" class=\\\"filters-btn\\\" routerLink=\\\"/messages\\\">\\n          <ion-icon slot=\\\"icon-only\\\" name=\\\"notifications-outline\\\" ></ion-icon>\\n          <ion-badge *ngIf=\\\"getUnreadMessagesCount() != null\\\">{{getUnreadMessagesCount()}}</ion-badge>\\n        </ion-button>\\n      </ion-col>\\n      <ion-col class=\\\"call-to-action-col\\\">\\n        <ion-button fill=\\\"clear\\\" color=\\\"secondary\\\" class=\\\"filters-btn\\\" (click)=\\\"showGroupOptions()\\\">\\n          <ion-icon slot=\\\"icon-only\\\" name=\\\"add-circle\\\"></ion-icon>\\n        </ion-button>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row class=\\\"searchbar-row\\\" *ngIf=\\\"searchMode\\\" align-items-center>\\n      <ion-col>\\n          <ion-searchbar mode=\\\"ios\\\" debounce=\\\"1000\\\" (ionChange)=\\\"seachFeed($event)\\\" [(ngModel)]=\\\"searchTerm\\\" (ionFocus)=\\\"onFocus($event)\\\" class=\\\"searchbar\\\" placeholder=\\\"Search...\\\"></ion-searchbar>\\n        </ion-col>\\n        <ion-col class=\\\"call-to-action-col\\\">\\n          <ion-button fill=\\\"clear\\\" color=\\\"secondary\\\" class=\\\"filters-btn ion-text-capitalize\\\" (click)=\\\"onCancel($event)\\\">\\n            Cancel\\n          </ion-button>\\n        </ion-col>\\n      </ion-row>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div *ngIf=\\\"!searchMode\\\">\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\n    <ion-refresher-content\\n      pullingIcon=\\\"chevron-down-circle-outline\\\"\\n      pullingText=\\\"Pull to refresh\\\"\\n      refreshingSpinner=\\\"circles\\\"\\n      refreshingText=\\\"Refreshing...\\\">\\n    </ion-refresher-content>\\n  </ion-refresher>\\n\\n     <!-- Show Posts -->\\n     <div *ngIf=\\\"posts && posts.length > 0\\\" >\\n     <div class=\\\"listing-item\\\" *ngFor=\\\"let item of posts\\\" >\\n      <ion-card>\\n        <ion-card-header>\\n          <ion-row>\\n            <ion-col size=10>\\n           <ion-card-subtitle class=\\\"addedBy\\\">\\n            <img class=\\\"addedByImg\\\" (click)=\\\"viewUser(item.addedByUser.addedByKey)\\\" src=\\\"{{item.addedByUser.addedByImg}}\\\" onError=\\\"this.src='./assets/images/default-dp.png'\\\" /> \\n             <p><a class=\\\"addedByTitle\\\" (click)=\\\"viewUser(item.addedByUser.addedByKey)\\\" ><b>{{item.addedByUser.addedByUsername}}</b></a><!-- <img *ngIf=\\\"item.showNewIcon\\\" class=\\\"newIcon\\\" src=\\\"./assets/icon/new.svg\\\" />  -->\\n              <br/>\\n             <span class=\\\"addedByDate\\\">posted {{item.date.toDate() | DateFormat}}</span><br/>\\n            <a (click)=\\\"viewGroup(item.groupId)\\\" class=\\\"addedByTitle\\\">in <b>{{item.groupName}}</b></a></p>\\n          </ion-card-subtitle>\\n        </ion-col>\\n        <ion-col size=2>\\n          <ion-buttons>\\n            <ion-button (click)=\\\"showPostOptions(item)\\\">\\n              <ion-icon slot=\\\"end\\\" name=\\\"chevron-down-outline\\\"></ion-icon>\\n            </ion-button>\\n          </ion-buttons>\\n        </ion-col>\\n        </ion-row>\\n        </ion-card-header>\\n        <ion-card-content class=\\\"message\\\" *ngIf=\\\"item.type === 'general'\\\">\\n          <div>\\n            <div>\\n              <video *ngIf=\\\"item.postMediaVideo\\\" controls preload=\\\"auto\\\" height=200px width=\\\"100%\\\" src=\\\"https://firebasestorage.googleapis.com/v0/b/firechat-8fb8c.appspot.com/o/videos%2Fcdv_photo_1604937924.MOV?alt=media&token=a757e495-8dc8-4540-84c9-33c7a6d50c9e\\\" ></video>\\n              <ion-slides *ngIf=\\\"item.postMediaImages\\\" class=\\\"slider\\\" pager=\\\"true\\\" [options]=\\\"slideOptsOne\\\" #slideWithNav>\\n              <ion-slide *ngFor=\\\"let s of item.postMediaImages\\\">\\n                <div class=\\\"bgSizeContain\\\" \\n                [ngStyle]=\\\"{'background-image':'url('+s+')'}\\\">\\n              </div>\\n               </ion-slide>\\n            </ion-slides>\\n            </div>\\n          <ion-label  *ngIf=\\\"!item.showMore\\\">\\n            <span (click)=\\\"viewPost(item)\\\"><b>{{item.title}}.</b> {{trimString(item.data.message, 100)}}</span> \\n            <a class=\\\"show-more\\\" (click)=\\\"item.showMore = !item.showMore\\\">...Show more</a><br/></ion-label>\\n          <ion-label (click)=\\\"viewPost(item)\\\"  *ngIf=\\\"item.showMore\\\"><b>{{item.title}}.</b> {{item.data.message}} <br/></ion-label>\\n        </div>\\n          <div class=\\\"tags-wrapper\\\">\\n          <ion-row>\\n            <div class=\\\"tags\\\" *ngFor=\\\"let tag of item.postTags\\\">\\n              <span (click)=\\\"searchTag(tag, item)\\\" class=\\\"item-rating\\\">#{{tag.val}}</span>\\n            </div>\\n          </ion-row>\\n          </div>\\n          <div class=\\\"reactions\\\">\\n          <ion-row >\\n            <ion-col size=3>\\n              <ion-buttons>\\n                <ion-button (click)=\\\"submitReactionPost(item, 'Thanks')\\\">\\n               <div *ngIf=\\\"item.showSmiley\\\"><ion-icon size=\\\"small\\\" class=\\\"icon\\\" src=\\\"./assets/icon/smile-active.svg\\\" ></ion-icon> <span class=\\\"text\\\">Thanks</span></div> \\n               <div *ngIf=\\\"!item.showSmiley\\\"><ion-icon size=\\\"small\\\" class=\\\"icon\\\"  src=\\\"./assets/icon/smile.svg\\\" ></ion-icon> <span class=\\\"text\\\">Thanks</span></div> \\n              </ion-button>\\n              </ion-buttons> \\n            </ion-col>\\n            <ion-col size=3>\\n              <ion-buttons>\\n                <ion-button (click)=\\\"submitReactionPost(item, 'Hug')\\\">\\n               <div *ngIf=\\\"item.showHug\\\"><ion-icon size=\\\"small\\\" class=\\\"icon\\\" src=\\\"./assets/icon/hug-active.svg\\\" ></ion-icon> <span class=\\\"text\\\">Hug</span></div> \\n               <div *ngIf=\\\"!item.showHug\\\"><ion-icon size=\\\"small\\\" class=\\\"icon\\\"  src=\\\"./assets/icon/hug.svg\\\" ></ion-icon> <span class=\\\"text\\\">Hug</span></div> \\n              </ion-button>\\n              </ion-buttons> \\n            </ion-col>\\n            <ion-col size=2></ion-col>\\n            <ion-col size=2>\\n              <ion-buttons>\\n                <ion-button (click)=\\\"showReactionsList(item)\\\">\\n              <div><ion-icon size=\\\"small\\\" src=\\\"./assets/icon/smile-active.svg\\\" class=\\\"icon\\\"></ion-icon><ion-icon size=\\\"small\\\" src=\\\"./assets/icon/hug-active.svg\\\" class=\\\"icon\\\"></ion-icon> <span class=\\\"text\\\">{{item.totalReactionCount}}</span></div>\\n            </ion-button>\\n          </ion-buttons> \\n            </ion-col>\\n            <ion-col size=2>\\n              <ion-buttons>\\n                <ion-button>\\n              <div><ion-icon size=\\\"small\\\" class=\\\"icon\\\" name=\\\"chatbox-outline\\\"></ion-icon> <span class=\\\"text\\\">{{item.totalReviewCount}}</span></div>\\n            </ion-button>\\n          </ion-buttons> \\n            </ion-col>\\n          </ion-row>\\n          </div>\\n        </ion-card-content>\\n\\n        <ion-card-content class=\\\"message\\\" *ngIf=\\\"item.type === 'event'\\\">\\n          <div (click)=\\\"viewPost(item)\\\" *ngIf=\\\"!item.showMore\\\">\\n          <b>{{item.title}}.</b> <br/>{{item.data.eventDate}} at {{item.data.eventTime}}<br/><br/>\\n          <a class=\\\"show-more\\\" (click)=\\\"item.showMore = !item.showMore\\\">...Show more</a>\\n          </div>\\n          <div (click)=\\\"viewPost(item)\\\" *ngIf=\\\"item.showMore\\\">\\n            <b>{{item.title}}.</b> <br/>{{item.data.eventDate}} at {{item.data.eventTime}}<br/><br/>\\n              {{item.data.address}}<br/><br/>\\n              {{item.data.link}}<br/>\\n              {{item.data.message}}\\n            </div>\\n          <div class=\\\"tags-wrapper\\\">\\n            <ion-row>\\n              <div class=\\\"tags\\\" *ngFor=\\\"let tag of item.postTags\\\">\\n                <span class=\\\"item-rating\\\">#{{tag.val}}</span>\\n              </div>\\n            </ion-row>\\n            </div>\\n          <div class=\\\"reactions\\\">\\n            <ion-row>\\n              <ion-col size=3>\\n                <ion-buttons>\\n                  <ion-button (click)=\\\"submitReactionPost(item, 'Thanks')\\\">\\n                  <div *ngIf=\\\"item.showSmiley\\\"><ion-icon size=\\\"small\\\" class=\\\"icon\\\" src=\\\"./assets/icon/smile-active.svg\\\" ></ion-icon> <span class=\\\"text\\\">Thanks</span></div> \\n                  <div *ngIf=\\\"!item.showSmiley\\\"><ion-icon size=\\\"small\\\" class=\\\"icon\\\"  src=\\\"./assets/icon/smile.svg\\\" ></ion-icon> <span class=\\\"text\\\">Thanks</span></div> \\n                </ion-button>\\n                </ion-buttons> \\n              </ion-col>\\n              <ion-col size=3>\\n                <ion-buttons>\\n                  <ion-button (click)=\\\"submitReactionPost(item, 'Checkin')\\\">\\n                  <div *ngIf=\\\"item.showCheckin\\\"><ion-icon size=\\\"small\\\" class=\\\"icon\\\" src=\\\"./assets/icon/checkin-active.svg\\\" ></ion-icon> <span class=\\\"text\\\">Checkin</span></div> \\n                  <div *ngIf=\\\"!item.showCheckin\\\"><ion-icon size=\\\"small\\\" class=\\\"icon\\\"  src=\\\"./assets/icon/checkin.svg\\\" ></ion-icon> <span class=\\\"text\\\">Checkin</span></div> \\n                </ion-button>\\n                </ion-buttons> \\n              </ion-col>\\n              <ion-col size=2></ion-col>\\n              <ion-col size=2>\\n                      <ion-buttons>\\n                        <ion-button (click)=\\\"showReactionsList(item)\\\">\\n                      <div><ion-icon size=\\\"small\\\" src=\\\"./assets/icon/smile-active.svg\\\" class=\\\"icon\\\"></ion-icon><ion-icon size=\\\"small\\\" src=\\\"./assets/icon/checkin-active.svg\\\" class=\\\"icon\\\"></ion-icon><span class=\\\"text\\\">{{item.totalReactionCount}}</span></div>\\n                    </ion-button>\\n                  </ion-buttons> \\n              </ion-col>\\n              <ion-col size=2>\\n                      <ion-buttons>\\n                        <ion-button>\\n                          <div><ion-icon size=\\\"small\\\" class=\\\"icon\\\" name=\\\"chatbox-outline\\\"></ion-icon> <span class=\\\"text\\\">{{item.totalReviewCount}}</span></div>\\n                        </ion-button>\\n                  </ion-buttons> \\n              </ion-col>\\n             </ion-row>\\n         </div>\\n        </ion-card-content>\\n\\n        <ion-card-content class=\\\"message\\\" *ngIf=\\\"item.type === 'poll'\\\" >\\n          <div (click)=\\\"viewPost(item)\\\">\\n          <b>{{item.title}}.</b><br/>\\n          <ion-row *ngFor=\\\"let pollOption of item.data.pollOptions\\\">\\n            <ion-col >\\n               <div><ion-icon class=\\\"poll-icon\\\" name=\\\"checkbox-outline\\\"></ion-icon> <span>{{pollOption.name}}</span></div>\\n            </ion-col>\\n          </ion-row>\\n        </div>\\n        <div class=\\\"tags-wrapper\\\">\\n          <ion-row>\\n            <div class=\\\"tags\\\" *ngFor=\\\"let tag of item.postTags\\\">\\n              <span class=\\\"item-rating\\\">#{{tag.val}}</span>\\n            </div>\\n          </ion-row>\\n          </div>\\n\\n                <ion-row class=\\\"info-row\\\" >\\n           <ion-col size=\\\"8\\\">\\n                     <span class=\\\"text\\\" *ngIf=\\\"!item.pollClosed\\\">Poll ends {{item.data.dateEnding.toDate() | DateFormat}}</span> \\n                     <span class=\\\"text\\\" *ngIf=\\\"item.pollClosed\\\">Poll closed</span> \\n                  </ion-col>\\n            <ion-col size=\\\"1\\\">\\n            </ion-col>\\n                  <ion-col size=\\\"3\\\">\\n                    <div><span class=\\\"text\\\">{{item.totalPollCount}} voted</span></div>\\n                  </ion-col>\\n                </ion-row>\\n        </ion-card-content>\\n        \\n        <ion-card-content class=\\\"message\\\" *ngIf=\\\"item.type === 'resource'\\\">\\n          <div>\\n          <b>{{item.title}}.</b><br/>\\n          <div *ngIf=\\\"item?.data.type == 'contact'\\\">\\n            {{item.data.name}} <a *ngIf=\\\"!item.showMore\\\" class=\\\"show-more\\\" (click)=\\\"item.showMore = !item.showMore\\\">...Show more</a>\\n          <div (click)=\\\"viewPost(item)\\\" *ngIf=\\\"item.showMore\\\">\\n            <div [innerHtml]=\\\"item.data.address\\\"></div><br/>\\n            {{item.data.email}}<br/>\\n            {{item.data.phones}}<br/>\\n          </div>\\n        </div>\\n          <div *ngIf=\\\"item?.data.type == 'upload'\\\">\\n            <div *ngIf=\\\"item.data.uploadtype == 'location'\\\" [innerHtml]=\\\"item.data.url\\\"></div>\\n            <div *ngIf=\\\"item.data.uploadtype == 'contact'\\\">\\n            {{item.data.name}}<br/>\\n            {{item.data.address}}<br/>\\n            {{item.data.phones}}<br/>\\n            {{item.data.email}}<br/>\\n            </div>\\n            <div *ngIf=\\\"item.data.uploadtype == 'image'\\\">\\n            <img src=\\\"{{item.data.resolvedurl}}\\\" />\\n            </div>\\n            <div *ngIf=\\\"item.data.uploadtype == 'video'\\\">\\n              <video controls width=\\\"100%\\\" src=\\\"{{item.data.resolvedurl}}\\\" ></video>\\n            </div>\\n          </div>\\n          <div *ngIf=\\\"item?.data.type == 'weblink'\\\">\\n          {{item.data.metatitle}}<br/>\\n          <img [src]=\\\"item.data.metaicon\\\"/> \\n          {{item.data.metadescription}}<br/><br/>\\n          <a href=\\\"{{item.data.metasite}}\\\">{{item.data.metasite}}</a>\\n          </div>\\n        </div>\\n        <div class=\\\"tags-wrapper\\\">\\n          <ion-row>\\n            <div class=\\\"tags\\\" *ngFor=\\\"let tag of item.postTags\\\">\\n              <span class=\\\"item-rating\\\">#{{tag.val}}</span>\\n            </div>\\n          </ion-row>\\n          </div>\\n          <div class=\\\"reactions\\\">\\n             <ion-row>\\n              <ion-col size=3>\\n                <ion-buttons>\\n                <ion-button (click)=\\\"submitReactionPost(item, 'Thanks')\\\">\\n               <div *ngIf=\\\"item.showSmiley\\\"><ion-icon size=\\\"small\\\" class=\\\"icon\\\" src=\\\"./assets/icon/smile-active.svg\\\" ></ion-icon> <span class=\\\"text\\\">Thanks</span></div> \\n               <div *ngIf=\\\"!item.showSmiley\\\"><ion-icon size=\\\"small\\\" class=\\\"icon\\\"  src=\\\"./assets/icon/smile.svg\\\" ></ion-icon> <span class=\\\"text\\\">Thanks</span></div> \\n                </ion-button>\\n                </ion-buttons> \\n              </ion-col>\\n              <ion-col size=3>\\n                   <ion-buttons>\\n                   <ion-button (click)=\\\"submitReactionPost(item, 'Bookmark')\\\">\\n                  <div *ngIf=\\\"item.showBookmark\\\"><ion-icon size=\\\"small\\\" class=\\\"icon\\\" src=\\\"./assets/icon/bookmark-active.svg\\\" ></ion-icon> <span class=\\\"text\\\">Bookmark</span></div> \\n                  <div *ngIf=\\\"!item.showBookmark\\\"><ion-icon size=\\\"small\\\" class=\\\"icon\\\"  src=\\\"./assets/icon/bookmark.svg\\\" ></ion-icon> <span class=\\\"text\\\">Bookmark</span></div> \\n                   </ion-button>\\n                   </ion-buttons> \\n              </ion-col>\\n            <ion-col size=2></ion-col>\\n            <ion-col size=2>\\n                   <ion-buttons>\\n                   <ion-button (click)=\\\"showReactionsList(item)\\\">\\n                   <div><ion-icon size=\\\"small\\\" src=\\\"./assets/icon/bookmark-active.svg\\\" class=\\\"icon\\\"></ion-icon><ion-icon size=\\\"small\\\" src=\\\"./assets/icon/smile-active.svg\\\" class=\\\"icon\\\"></ion-icon><span class=\\\"text\\\">{{item.totalReactionCount}}</span></div>\\n                 </ion-button>\\n                 </ion-buttons> \\n                 </ion-col>\\n                 <ion-col size=2>\\n                   <ion-buttons>\\n                   <ion-button>\\n                    <div><ion-icon size=\\\"small\\\" class=\\\"icon\\\" name=\\\"chatbox-outline\\\"></ion-icon> <span class=\\\"text\\\">{{item.totalReviewCount}}</span></div>\\n                  </ion-button>\\n                 </ion-buttons> \\n                 </ion-col>\\n            </ion-row>\\n          \\n          </div>\\n        </ion-card-content>\\n        <!-- Dont touch the tags below this line-->\\n      </ion-card>\\n     </div>\\n     </div>\\n     <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadData($event)\\\">\\n      <ion-infinite-scroll-content\\n        loadingSpinner=\\\"bubbles\\\"\\n        loadingText=\\\"Loading more data...\\\">\\n      </ion-infinite-scroll-content>\\n    </ion-infinite-scroll>\\n  </div>\\n  <div *ngIf=\\\"searchMode\\\">\\n    <div *ngIf=\\\"searchPosts && searchPosts.length > 0\\\" >\\n      <div class=\\\"listing-item\\\" *ngFor=\\\"let item of searchPosts\\\" >\\n       <ion-card>\\n         <ion-card-header>\\n           <ion-row>\\n             <ion-col size=10>\\n            <ion-card-subtitle class=\\\"searchaddedBy\\\">\\n             <img class=\\\"searchaddedByImg\\\" src=\\\"{{item.addedByUser.addedByImg}}\\\" onError=\\\"this.src='./assets/images/default-dp.png'\\\" /> \\n              <p><a class=\\\"searchaddedByTitle\\\" (click)=\\\"viewUser(item.addedByUser.addedByKey)\\\" ><b>{{item.addedByUser.addedByUsername}}</b></a>\\n              <span class=\\\"searchaddedByDate\\\">posted {{item.date | DateFormat}}</span><br/>\\n             <a (click)=\\\"viewGroup(item.groupId)\\\" class=\\\"searchaddedByTitle\\\">in <b>{{item.groupName}}</b></a></p>\\n           </ion-card-subtitle>\\n         </ion-col>\\n         <ion-col size=2>\\n           <ion-badge class=\\\"badge\\\" *ngIf=\\\"item.type === 'general'\\\" color=\\\"secondary\\\">Post</ion-badge>\\n          <ion-badge class=\\\"badge\\\" *ngIf=\\\"item.type === 'event'\\\" color=\\\"warning\\\">Event</ion-badge>\\n          <ion-badge class=\\\"badge\\\" *ngIf=\\\"item.type === 'poll'\\\" color=\\\"medium\\\">Poll</ion-badge>\\n          <ion-badge class=\\\"badge\\\" *ngIf=\\\"item.type === 'resource'\\\" color=\\\"dark\\\">Resource</ion-badge> \\n       </ion-col>\\n         </ion-row>\\n         </ion-card-header>\\n         <ion-card-content class=\\\"message\\\" *ngIf=\\\"item.type === 'general'\\\">\\n           <div>\\n           <ion-label>\\n             <span (click)=\\\"viewPost(item)\\\"><b>{{item.title}}.</b> {{trimString(item.data.message, 100)}}</span> \\n          </ion-label>\\n         </div>\\n           <div class=\\\"tags-wrapper\\\">\\n           <ion-row>\\n             <div class=\\\"tags\\\" *ngFor=\\\"let tag of item.postTags\\\">\\n               <span class=\\\"item-rating\\\">#{{tag.val}}</span>\\n             </div>\\n           </ion-row>\\n           </div>\\n         </ion-card-content>\\n \\n         <ion-card-content class=\\\"message\\\" *ngIf=\\\"item.type === 'event'\\\">\\n           <div (click)=\\\"viewPost(item)\\\" *ngIf=\\\"!item.showMore\\\">\\n           <b>{{item.title}}.</b> {{item.data.eventDate}} at {{item.data.eventTime}}\\n           </div>\\n           <div class=\\\"tags-wrapper\\\">\\n             <ion-row>\\n               <div class=\\\"tags\\\" *ngFor=\\\"let tag of item.postTags\\\">\\n                 <span class=\\\"item-rating\\\">#{{tag.val}}</span>\\n               </div>\\n             </ion-row>\\n             </div>\\n         </ion-card-content>\\n \\n         <ion-card-content class=\\\"message\\\" *ngIf=\\\"item.type === 'poll'\\\" >\\n           <div (click)=\\\"viewPost(item)\\\">\\n           <b>{{item.title}}.</b><br/>\\n         </div>\\n         <div class=\\\"tags-wrapper\\\">\\n           <ion-row>\\n             <div class=\\\"tags\\\" *ngFor=\\\"let tag of item.postTags\\\">\\n               <span class=\\\"item-rating\\\">#{{tag.val}}</span>\\n             </div>\\n           </ion-row>\\n           </div>\\n         </ion-card-content>\\n         \\n         <ion-card-content class=\\\"message\\\" *ngIf=\\\"item.type === 'resource'\\\">\\n           <div (click)=\\\"viewPost(item)\\\">\\n           <b>{{item.title}}.</b><br/>\\n           <div *ngIf=\\\"item?.data.type == 'weblink'\\\">\\n           {{item.data.metatitle}}<br/>\\n           </div>\\n         </div>\\n         <div class=\\\"tags-wrapper\\\">\\n           <ion-row>\\n             <div class=\\\"tags\\\" *ngFor=\\\"let tag of item.postTags\\\">\\n               <span class=\\\"item-rating\\\">#{{tag.val}}</span>\\n             </div>\\n           </ion-row>\\n           </div>\\n         </ion-card-content>\\n         <!-- Dont touch the tags below this line-->\\n       </ion-card>\\n      </div>\\n      </div>\\n  </div>\\n</ion-content>\\n\";","export default \":host {\\n  --page-margin: var(--app-narrow-margin);\\n  --page-background: var(--app-background);\\n}\\n\\nion-searchbar {\\n  --border-radius: 30px;\\n}\\n\\n.filters-toolbar {\\n  --padding-start: var(--page-margin);\\n  --padding-end: var(--page-margin);\\n}\\n\\n.filters-toolbar .searchbar-row {\\n  --ion-grid-column-padding: 0px;\\n}\\n\\n.filters-toolbar .searchbar-row .searchbar {\\n  padding: 0px;\\n  height: 30px;\\n  border-radius: 90px;\\n}\\n\\n.filters-toolbar .searchbar-row .call-to-action-col {\\n  max-width: -webkit-fit-content;\\n  max-width: -moz-fit-content;\\n  max-width: fit-content;\\n  flex-shrink: 0;\\n  flex-grow: 0;\\n  display: flex;\\n  justify-content: flex-end;\\n}\\n\\n.filters-toolbar .searchbar-row .call-to-action-col .filters-btn {\\n  --padding-start: 6px;\\n  --padding-end: 6px;\\n  margin: 0px;\\n  font-size: 15px;\\n  height: initial;\\n}\\n\\n.listing-item {\\n  background-color: var(--page-background);\\n}\\n\\n.icon {\\n  display: inline-block;\\n  vertical-align: middle;\\n}\\n\\n.poll-icon {\\n  display: inline-block;\\n  vertical-align: middle;\\n  padding-right: 5px;\\n}\\n\\n.text {\\n  display: inline-block;\\n  vertical-align: middle;\\n  padding-left: 3px;\\n  text-transform: capitalize !important;\\n  font-size: 12px;\\n}\\n\\n.addedByTitle {\\n  margin-left: 10px;\\n  line-height: 5px;\\n  text-decoration: none;\\n}\\n\\n.addedByDate {\\n  margin-left: 10px;\\n  font-style: italic;\\n  font-size: 12px;\\n}\\n\\n.addedByImg {\\n  width: 45px;\\n  height: 45px;\\n  float: left;\\n  vertical-align: middle;\\n  border-radius: 50%;\\n}\\n\\n.badge {\\n  margin-top: 20px;\\n  padding: 5px;\\n}\\n\\n.searchaddedByTitle {\\n  margin-left: 10px;\\n  line-height: 5px;\\n  text-decoration: none;\\n  font-size: 12px;\\n}\\n\\n.searchaddedByDate {\\n  margin-left: 10px;\\n  font-style: italic;\\n  font-size: 12px;\\n}\\n\\n.searchaddedByImg {\\n  width: 35px;\\n  height: 35px;\\n  float: left;\\n  vertical-align: middle;\\n  border-radius: 50%;\\n}\\n\\n.newIcon {\\n  margin-left: 10px;\\n  height: 40px;\\n  vertical-align: middle;\\n}\\n\\n.message {\\n  font-family: \\\"HelveticaNeue\\\", \\\"Helvetica Neue\\\", Helvetica, \\\"Roboto\\\", \\\"Segoe UI\\\", Arial, sans-serif;\\n  font-weight: 400;\\n  font-size: 14px;\\n  line-height: 19px;\\n  -webkit-font-smoothing: subpixel-antialiased;\\n  -moz-osx-font-smoothing: auto;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\n\\n.message .show-more {\\n  font-family: \\\"HelveticaNeue\\\", \\\"Helvetica Neue\\\", Helvetica, \\\"Roboto\\\", \\\"Segoe UI\\\", Arial, sans-serif;\\n  font-weight: 300;\\n  font-size: 14px;\\n  line-height: 19px;\\n  -webkit-font-smoothing: subpixel-antialiased;\\n  -moz-osx-font-smoothing: auto;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\n\\n.message .slider {\\n  margin-bottom: 5px;\\n}\\n\\n.message .slider .bgSizeContain {\\n  background-repeat: no-repeat;\\n  background-position: center center;\\n  background-size: 100%;\\n  width: 100%;\\n  height: 200px;\\n  text-shadow: white 0px 0px 2px;\\n  font-size: 16px;\\n  border-radius: 10px;\\n}\\n\\n.message .reactions {\\n  margin-bottom: 0px;\\n  margin-left: -10px;\\n}\\n\\n.message .tags-wrapper {\\n  padding-top: 5px;\\n}\\n\\n.message .tags-wrapper .tags {\\n  padding-right: 5px;\\n}\\n\\n.message .tags-wrapper .tags .item-rating {\\n  background-color: rgba(var(--page-color-rgb), 0.35);\\n  padding-right: 15px;\\n  font-size: 12px;\\n  font-weight: bold;\\n  width: 100%;\\n  display: block;\\n  text-align: center;\\n  color: #aa6c39;\\n}\\n\\nion-slides {\\n  height: auto;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZmVlZC9mZWVkLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNLLHVDQUFBO0VBQ0Esd0NBQUE7QUFDTDs7QUFFRTtFQUNFLHFCQUFBO0FBQ0o7O0FBRUE7RUFDSSxtQ0FBQTtFQUNBLGlDQUFBO0FBQ0o7O0FBRUk7RUFDRSw4QkFBQTtBQUFOOztBQUVNO0VBQ0UsWUFBQTtFQUNBLFlBQUE7RUFDQSxtQkFBQTtBQUFSOztBQU9NO0VBQ0UsOEJBQUE7RUFBQSwyQkFBQTtFQUFBLHNCQUFBO0VBQ0EsY0FBQTtFQUNBLFlBQUE7RUFFQSxhQUFBO0VBQ0EseUJBQUE7QUFOUjs7QUFRUTtFQUNFLG9CQUFBO0VBQ0Esa0JBQUE7RUFFQSxXQUFBO0VBQ0EsZUFBQTtFQUVBLGVBQUE7QUFSVjs7QUFlQTtFQUNFLHdDQUFBO0FBWkY7O0FBZUE7RUFDRSxxQkFBQTtFQUNBLHNCQUFBO0FBWkY7O0FBZUM7RUFDQyxxQkFBQTtFQUNBLHNCQUFBO0VBQ0Esa0JBQUE7QUFaRjs7QUFlQztFQUNFLHFCQUFBO0VBQ0Esc0JBQUE7RUFDQSxpQkFBQTtFQUNBLHFDQUFBO0VBQ0EsZUFBQTtBQVpIOztBQWNDO0VBQ0UsaUJBQUE7RUFDQSxnQkFBQTtFQUNBLHFCQUFBO0FBWEg7O0FBY0M7RUFDQyxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtBQVhGOztBQWNBO0VBQ0ksV0FBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0VBQ0Esc0JBQUE7RUFDQSxrQkFBQTtBQVhKOztBQWVFO0VBQ0UsZ0JBQUE7RUFDQSxZQUFBO0FBWko7O0FBZUU7RUFDRSxpQkFBQTtFQUNBLGdCQUFBO0VBQ0EscUJBQUE7RUFDQSxlQUFBO0FBWko7O0FBZUU7RUFDQyxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtBQVpIOztBQWVDO0VBQ0ksV0FBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0VBQ0Esc0JBQUE7RUFDQSxrQkFBQTtBQVpMOztBQWVFO0VBQ0UsaUJBQUE7RUFDQSxZQUFBO0VBQ0Esc0JBQUE7QUFaSjs7QUFjRTtFQUNFLGtHQUFBO0VBQ0EsZ0JBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7RUFDQSw0Q0FBQTtFQUNBLDZCQUFBO0VBQ0EsZ0JBQUE7RUFDQSx1QkFBQTtBQVhKOztBQWNJO0VBQ0Usa0dBQUE7RUFDQSxnQkFBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtFQUNBLDRDQUFBO0VBQ0EsNkJBQUE7RUFDQSxnQkFBQTtFQUNBLHVCQUFBO0FBWk47O0FBY0k7RUFDRSxrQkFBQTtBQVpOOztBQWFNO0VBQ0UsNEJBQUE7RUFDQSxrQ0FBQTtFQUNBLHFCQUFBO0VBQ0EsV0FBQTtFQUNBLGFBQUE7RUFDQSw4QkFBQTtFQUNBLGVBQUE7RUFHQSxtQkFBQTtBQVhSOztBQWVJO0VBQ0Usa0JBQUE7RUFDQSxrQkFBQTtBQWJOOztBQWVJO0VBQ0UsZ0JBQUE7QUFiTjs7QUFlTTtFQUNFLGtCQUFBO0FBYlI7O0FBZU07RUFDRSxtREFBQTtFQUNBLG1CQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsV0FBQTtFQUNBLGNBQUE7RUFDQSxrQkFBQTtFQUNBLGNBQUE7QUFiUjs7QUFtQkU7RUFDRSxZQUFBO0FBaEJKIiwiZmlsZSI6InNyYy9hcHAvZmVlZC9mZWVkLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcbiAgICAgLS1wYWdlLW1hcmdpbjogdmFyKC0tYXBwLW5hcnJvdy1tYXJnaW4pO1xuICAgICAtLXBhZ2UtYmFja2dyb3VuZDogdmFyKC0tYXBwLWJhY2tncm91bmQpO1xuICB9XG4gIFxuICBpb24tc2VhcmNoYmFyIHtcbiAgICAtLWJvcmRlci1yYWRpdXM6IDMwcHg7XG4gIH1cblxuLmZpbHRlcnMtdG9vbGJhciB7XG4gICAgLS1wYWRkaW5nLXN0YXJ0OiB2YXIoLS1wYWdlLW1hcmdpbik7XG4gICAgLS1wYWRkaW5nLWVuZDogdmFyKC0tcGFnZS1tYXJnaW4pO1xuICAgIC8vIC0tcGFkZGluZy10b3A6IHZhcigtLXBhZ2UtbWFyZ2luKTtcblxuICAgIC5zZWFyY2hiYXItcm93IHtcbiAgICAgIC0taW9uLWdyaWQtY29sdW1uLXBhZGRpbmc6IDBweDtcbiAgXG4gICAgICAuc2VhcmNoYmFyIHtcbiAgICAgICAgcGFkZGluZzogMHB4O1xuICAgICAgICBoZWlnaHQ6MzBweDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogOTBweDtcbiAgICAgICAgLy8gb3ZlcnJpZGUgSW9uaWMgZml4ZWQgaGVpZ2h0XG4gICAgICAgIC8vIGhlaWdodDogMTAwJTtcbiAgICAgICAgLy8gTGVhcm4gbW9yZSBhYm91dCBDU1MgY29udGFpbiBwcm9wZXJ0eSBoZXJlOiBodHRwczovL3Rlcm12YWRlci5naXRodWIuaW8vY3NzLWNvbnRhaW4vXG4gICAgICAgIC8vICBjb250YWluOiBjb250ZW50O1xuICAgICAgfVxuICBcbiAgICAgIC5jYWxsLXRvLWFjdGlvbi1jb2wge1xuICAgICAgICBtYXgtd2lkdGg6IGZpdC1jb250ZW50O1xuICAgICAgICBmbGV4LXNocmluazogMDtcbiAgICAgICAgZmxleC1ncm93OiAwO1xuICBcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcbiAgXG4gICAgICAgIC5maWx0ZXJzLWJ0biB7XG4gICAgICAgICAgLS1wYWRkaW5nLXN0YXJ0OiA2cHg7XG4gICAgICAgICAgLS1wYWRkaW5nLWVuZDogNnB4O1xuICBcbiAgICAgICAgICBtYXJnaW46IDBweDtcbiAgICAgICAgICBmb250LXNpemU6IDE1cHg7XG4gICAgICAgICAgLy8gb3ZlcnJpZGUgSW9uaWMgZml4ZWQgaGVpZ2h0XG4gICAgICAgICAgaGVpZ2h0OiBpbml0aWFsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gIH1cbiAgICBcbi5saXN0aW5nLWl0ZW0ge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1wYWdlLWJhY2tncm91bmQpO1xuIH1cblxuLmljb24ge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG4gfVxuIFxuIC5wb2xsLWljb24ge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG4gIHBhZGRpbmctcmlnaHQ6IDVweDtcbiB9XG5cbiAudGV4dHtcbiAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG4gICBwYWRkaW5nLWxlZnQ6IDNweDtcbiAgIHRleHQtdHJhbnNmb3JtOiBjYXBpdGFsaXplICFpbXBvcnRhbnQ7XG4gICBmb250LXNpemU6IDEycHg7XG4gfVxuIC5hZGRlZEJ5VGl0bGUge1xuICAgbWFyZ2luLWxlZnQ6IDEwcHg7XG4gICBsaW5lLWhlaWdodDogNXB4O1xuICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAvLyAgbGV0dGVyLXNwYWNpbmc6IDFweDtcbiB9XG4gLmFkZGVkQnlEYXRlIHtcbiAgbWFyZ2luLWxlZnQ6IDEwcHg7XG4gIGZvbnQtc3R5bGU6IGl0YWxpYztcbiAgZm9udC1zaXplOiAxMnB4O1xuICB9XG4gIFxuLmFkZGVkQnlJbWcge1xuICAgIHdpZHRoOiA0NXB4O1xuICAgIGhlaWdodDogNDVweDtcbiAgICBmbG9hdDogbGVmdDtcbiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgfVxuXG5cbiAgLmJhZGdlIHtcbiAgICBtYXJnaW4tdG9wOiAyMHB4O1xuICAgIHBhZGRpbmc6IDVweDtcbiAgfVxuXG4gIC5zZWFyY2hhZGRlZEJ5VGl0bGUge1xuICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICAgIGxpbmUtaGVpZ2h0OiA1cHg7XG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgIC8vICBsZXR0ZXItc3BhY2luZzogMXB4O1xuICB9XG4gIC5zZWFyY2hhZGRlZEJ5RGF0ZSB7XG4gICBtYXJnaW4tbGVmdDogMTBweDtcbiAgIGZvbnQtc3R5bGU6IGl0YWxpYztcbiAgIGZvbnQtc2l6ZTogMTJweDtcbiAgIH1cbiAgIFxuIC5zZWFyY2hhZGRlZEJ5SW1nIHtcbiAgICAgd2lkdGg6IDM1cHg7XG4gICAgIGhlaWdodDogMzVweDtcbiAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG4gICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgIH1cblxuICAubmV3SWNvbiB7XG4gICAgbWFyZ2luLWxlZnQ6IDEwcHg7XG4gICAgaGVpZ2h0OiA0MHB4O1xuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG4gIH1cbiAgLm1lc3NhZ2Uge1xuICAgIGZvbnQtZmFtaWx5OiAnSGVsdmV0aWNhTmV1ZScsICdIZWx2ZXRpY2EgTmV1ZScsIEhlbHZldGljYSwgJ1JvYm90bycsICdTZWdvZSBVSScsIEFyaWFsLCBzYW5zLXNlcmlmO1xuICAgIGZvbnQtd2VpZ2h0OiA0MDA7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIGxpbmUtaGVpZ2h0OiAxOXB4O1xuICAgIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IHN1YnBpeGVsLWFudGlhbGlhc2VkO1xuICAgIC1tb3otb3N4LWZvbnQtc21vb3RoaW5nOiBhdXRvO1xuICAgIG92ZXJmbG93OiBoaWRkZW47IFxuICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICAgIFxuXG4gICAgLnNob3ctbW9yZSB7XG4gICAgICBmb250LWZhbWlseTogJ0hlbHZldGljYU5ldWUnLCAnSGVsdmV0aWNhIE5ldWUnLCBIZWx2ZXRpY2EsICdSb2JvdG8nLCAnU2Vnb2UgVUknLCBBcmlhbCwgc2Fucy1zZXJpZjtcbiAgICAgIGZvbnQtd2VpZ2h0OiAzMDA7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICBsaW5lLWhlaWdodDogMTlweDtcbiAgICAgIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IHN1YnBpeGVsLWFudGlhbGlhc2VkO1xuICAgICAgLW1vei1vc3gtZm9udC1zbW9vdGhpbmc6IGF1dG87XG4gICAgICBvdmVyZmxvdzogaGlkZGVuOyBcbiAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICAgIH1cbiAgICAuc2xpZGVyIHtcbiAgICAgIG1hcmdpbi1ib3R0b206IDVweDtcbiAgICAgIC5iZ1NpemVDb250YWluIHtcbiAgICAgICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcbiAgICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyIGNlbnRlcjtcbiAgICAgICAgYmFja2dyb3VuZC1zaXplOiAxMDAlO1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgaGVpZ2h0OiAyMDBweDtcbiAgICAgICAgdGV4dC1zaGFkb3c6IHdoaXRlIDBweCAwcHggMnB4O1xuICAgICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICAgIC13ZWJraXQtYm9yZGVyLXJhZGl1czogMTBweDtcbiAgICAgICAgLW1vei1ib3JkZXItcmFkaXVzOiAxMHB4O1xuICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICAgIH1cbiAgICB9XG5cbiAgICAucmVhY3Rpb25zIHtcbiAgICAgIG1hcmdpbi1ib3R0b206IDBweDtcbiAgICAgIG1hcmdpbi1sZWZ0OiAtMTBweDtcbiAgICB9IFxuICAgIC50YWdzLXdyYXBwZXIge1xuICAgICAgcGFkZGluZy10b3A6IDVweDtcbiAgICAgXG4gICAgICAudGFncyB7XG4gICAgICAgIHBhZGRpbmctcmlnaHQ6IDVweDtcblxuICAgICAgLml0ZW0tcmF0aW5nIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSh2YXIoLS1wYWdlLWNvbG9yLXJnYiksIC4zNSk7XG4gICAgICAgIHBhZGRpbmctcmlnaHQ6IDE1cHg7XG4gICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICBjb2xvcjogI2FhNmMzOTtcbiAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpb24tc2xpZGVzIHtcbiAgICBoZWlnaHQ6IGF1dG87XG4gIH1cbiJdfQ== */\";","import { Component, OnInit, ElementRef, ViewChild } from '@angular/core';\nimport { DataService } from '../services/data.service';\nimport { NavController, ActionSheetController, AlertController, ModalController, IonRouterOutlet, IonInfiniteScroll } from '@ionic/angular';\nimport { LoadingService } from '../services/loading.service';\nimport { LocalNotifications } from '@ionic-native/local-notifications/ngx';\n\nimport { ActivatedRoute, Router, NavigationExtras } from '@angular/router';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { NgAnalyzeModulesHost } from '@angular/compiler';\nimport { ReactionListModalPage } from '../reaction-list-modal/reaction-list-modal.page';\nimport * as firebase from 'firebase';\nimport { FCM } from '@ionic-native/fcm/ngx';\nimport { Platform } from '@ionic/angular';\nimport algoliasearch from 'algoliasearch';\nimport { constants } from 'perf_hooks';\n\n@Component({\n  selector: 'app-feed',\n  templateUrl: './feed.page.html',\n  styleUrls: ['./feed.page.scss'],\n})\nexport class FeedPage implements OnInit {\n  @ViewChild(IonInfiniteScroll, {static: true}) infiniteScroll: IonInfiniteScroll;\n  [x: string]: any;\n  pushes: any = [];\n  unreadMessagesCount: any;\n  friendRequestCount: any;\n  unreadGroupMessagesCount: any;\n  groupList: any;\n  groupsInfo: any;\n  conversationList: any;\n  conversationsInfo: any;\n  userNotifications: any = [];\n  userReactions: any = [];\n  searchMode = false;\n  searchTerm: any;\n\n  private title: any;\n  private groupId: any;\n  private posts: any = [];\n  private searchPosts: any = [];\n  private memberofGroups: any = [];\n  private loggedInUser: any;\n  private loggedInUserId: any;\n  private firstDataSet: any;\n  private lastDataSet: any;\n  private maxNoOfPosts: any = 1000;\n\n  // algoliasearch\n  client: any;\n  index: any;\n  ALOGOLIA_APP_ID = 'DNTXC08EBF';\n  ALGOLIA_API_KEY = '4768de6e8b67959c064c0bf89443d449';\n\n  slideOptsOne = {\n    initialSlide: 0,\n    slidesPerView: 1,\n    autoplay: false\n   };\n  constructor(\n    public dataProvider: DataService,\n    public navCtrl: NavController,\n    public modalCtrl: ModalController,\n    public firestore: AngularFirestore,\n    public alertCtrl: AlertController,\n    private routerOutlet: IonRouterOutlet,\n    public loadingProvider: LoadingService,\n    public actionSheet: ActionSheetController,\n    private route: ActivatedRoute,\n    private router: Router,\n    private afAuth: AngularFireAuth,\n    private localNotifications: LocalNotifications,\n    private fcm: FCM,\n    public plt: Platform\n    ) {\n      this.plt.ready()\n      .then(() => {\n        console.log('platform ready in Feed page');\n        this.fcm.onNotification().subscribe(data => {\n          if (data.wasTapped) {\n            console.log(\"Received in background\");\n          } else {\n            console.log(\"Received in foreground\");\n          };\n        });\n\n        this.fcm.onTokenRefresh().subscribe(token => {\n          // Register your new token in your back-end if you want\n          // backend.registerToken(token);\n          console.log('fcm token', token);\n        });\n      });\n\n      // this.client = algoliasearch(this.ALOGOLIA_APP_ID, this.ALGOLIA_API_KEY, {protocol: 'https'});\n      // this.index = this.client.initIndex('posts');\n    \n    }\n\n    subscribeToTopic() {\n      this.fcm.subscribeToTopic('enappd');\n    }\n    getToken() {\n      this.fcm.getToken().then(token => {\n        // Register your new token in your back-end if you want\n        // backend.registerToken(token);\n      });\n    }\n    unsubscribeFromTopic() {\n      this.fcm.unsubscribeFromTopic('enappd');\n    }\n\n  ngOnInit() {\n  }\n\n  ionViewDidEnter() {\n    this.loggedInUserId = firebase.default.auth().currentUser.uid;\n   // Get Posts\n    this.dataProvider.getCurrentUser().then((u) => {\n      u.get().subscribe((user) => {\n        this.userReactions = user.data().userReactions;\n        this.userNotifications = user.data().userNotifications;\n        this.loggedInUser = user.data();\n        this.getFeedData();\n       });\n    });\n    \n  }\n\n  getFeedData() {\n    this.firstDataSet = this.firestore.collection('posts').ref\n    .where('groupId', 'in', this.loggedInUser.groups)\n    .orderBy('date', 'desc')\n    .limit(5);\n    this.firstDataSet.get().then((po: any) => {\n    this.lastDataSet = po.docs[po.docs.length - 1];\n    this.posts = [];\n    this.loadEachPostData(po);\n});\n  }\n  addOrUpdatePost(post) {\n    if (!this.posts) {\n      this.posts = [post];\n    } else {\n      let index = -1;\n      for (let i = 0; i < this.posts.length; i++) {\n        if (this.posts[i].key == post.key) {\n          index = i;\n        }\n      }\n      if (index > -1) {\n        this.posts[index] = post;\n      } else {\n        this.posts.push(post);\n      }\n    }\n\n  }\n\n  getUnreadMessagesCount() {\n    if (this.unreadMessagesCount) {\n      if (this.unreadMessagesCount > 0) {\n        return this.unreadMessagesCount;\n      }\n    }\n    return null;\n  }\n\n  showGroupOptions() {\n    const action = this.actionSheet.create({\n      header: 'Create a new ...',\n      backdropDismiss: true,\n      mode: 'md',\n      cssClass: 'GroupAction',\n      buttons: [{\n        text: 'Post',\n        icon: 'chatbubbles-outline',\n        cssClass: 'actionicon',\n        handler: () => {\n          this.newPost();\n        }\n      }, {\n        text: 'Resource',\n        icon: 'document-outline',\n        handler: () => {\n          this.newResource();\n        }\n      }, {\n        text: 'Poll',\n        icon: 'podium-outline',\n        handler: () => {\n          this.newPoll();\n        }\n      }, {\n        text: 'Event',\n        icon: 'calendar-outline',\n        cssClass: 'cancelAction',\n        handler: () => {\n          this.newEvent();\n        }\n      }, {\n        text: 'Cancel',\n        icon: 'close',\n        role: 'cancel',\n        handler: () => {\n          console.log('Cancel clicked');\n        }\n      }]\n    }).then(r => r.present());\n  }\n\n  showPostOptions(post) {\n    const action = this.actionSheet.create({\n      header: 'Post options',\n      backdropDismiss: true,\n      mode: 'md',\n      cssClass: 'GroupAction',\n      buttons: this.createPostOptionButtons(post)\n    }).then(r => r.present());\n  }\n\n  newPoll() {\n    this.router.navigateByUrl('/new-poll/' + this.groupId);\n  }\n\n  newPost() {\n    this.router.navigateByUrl('/new-post/' + this.groupId);\n  }\n\n  newResource() {\n    this.router.navigateByUrl('/new-resource/' + this.groupId);\n  }\n\n  newEvent() {\n    this.router.navigateByUrl('/new-event/' + this.groupId);\n  }\n\n  submitReactionPost(post, reactionType) {\n    switch (reactionType) {\n      case 'Thanks': {\n        if (!post.showSmiley) {\n          this.addPostReaction(post, reactionType);\n          post.showSmiley = true;\n          post.totalReactionCount += 1;\n        } else {\n          this.removePostReaction(post, reactionType);\n          post.showSmiley = false;\n          post.totalReactionCount -= 1;\n        }\n        break;\n      }\n\n      case 'Hug': {\n        if (!post.showHug) {\n          this.addPostReaction(post, reactionType);\n          post.showHug = true;\n          post.totalReactionCount += 1;\n        } else {\n          this.removePostReaction(post, reactionType);\n          post.showHug = false;\n          post.totalReactionCount -= 1;\n        }\n        break;\n      }\n\n      case 'Checkin': {\n        if (!post.showCheckin) {\n          this.addPostReaction(post, reactionType);\n          post.showCheckin = true;\n          post.totalReactionCount += 1;\n        } else {\n          this.removePostReaction(post, reactionType);\n          post.showCheckin = false;\n          post.totalReactionCount -= 1;\n        }\n        break;\n      }\n\n      case 'Bookmark': {\n        if (!post.showBookmark) {\n          this.addPostReaction(post, reactionType);\n          post.showBookmark = true;\n          post.totalReactionCount += 1;\n        } else {\n          this.removePostReaction(post, reactionType);\n          post.showBookmark = false;\n          post.totalReactionCount -= 1;\n        }\n        break;\n      }\n    }\n  }\n\n  addPostReaction(post, reactionType) {\n    // first find the post in the collection\n    const postIndex = this.posts.findIndex(el => el.key ===  post.key);\n    const p = this.posts[postIndex];\n\n    const r = p.reactions.find(el => el.addedByUser.addedByKey === this.dataProvider.getCurrentUserId());\n\n    if (!r) {\n      const react = {\n        dateCreated: new Date(),\n        addedByUser: {\n                      addedByKey: this.dataProvider.getCurrentUserId(),\n                      addedByUsername: this.loggedInUser.username,\n                      addedByImg: this.loggedInUser.img\n                    },\n        reactionType: [reactionType]\n      };\n\n      this.dataProvider.addPostReactions(post.key, react).then(() => {\n        // Update user notifications.\n        if (!this.userNotifications.some(p => p !== this.postId)) {\n          this.userNotifications.push(this.postId);\n          this.dataProvider.getUser(this.loggedInUserId).update({\n            userNotifications: this.userNotifications\n          });\n        }\n\n        // Update user activity.\n        if (!this.userReactions && this.userReactions.some(p => p !== this.postId)) {\n          this.userReactions.push(this.postId);\n          this.dataProvider.getUser(this.loggedInUserId).update({\n            userReactions: this.userReactions\n          });\n        }\n      });\n    } else {\n      this.firestore.collection('posts').doc(post.key).collection('reactions').doc(r.key).update({\n        reactionType: firebase.default.firestore.FieldValue.arrayUnion(reactionType)\n    }).then(() => {\n      const increment = firebase.default.firestore.FieldValue.increment(1);\n      this.firestore.collection('posts').doc(post.key).update({\n        totalReactionCount : increment\n      });\n    });\n    }\n  }\n\n  removePostReaction(post, reactionType) {\n    // first find the post in the collection\n    const postIndex = this.posts.findIndex(el => el.key ===  post.key);\n    const p = this.posts[postIndex];\n\n    const found = false;\n    if (p.reactions !== undefined) {\n      const values = Object.keys(p.reactions).map( function(e) {\n        return p.reactions[e];\n      });\n\n      const reaction = p.reactions.find(\n        el => el.addedByUser.addedByKey === this.dataProvider.getCurrentUserId());\n\n      if (reaction.reactionType.length === 1 \n        && reaction.reactionType.some(e => e === reactionType)) {\n        this.dataProvider.removePostReaction(post.key, reaction.key);\n      } else {\n        // reaction.reactionType = reaction.reactionType.filter(x => x !== reactionType);\n        // this.dataProvider.updatePostReactions(post.key, reaction, true);\n        this.firestore.collection('posts').doc(post.key).collection('reactions').doc(reaction.key).update({\n          reactionType: firebase.default.firestore.FieldValue.arrayRemove(reactionType)\n      }).then(() => {\n        const increment = firebase.default.firestore.FieldValue.increment(-1);\n        this.firestore.collection('posts').doc(post.key).update({\n          totalReactionCount : increment\n        });\n      });\n      }\n    }\n  }\n\n  async showReactionsList(post) {\n    if (post.totalReactionCount === 0) {\n      return;\n    }\n   // first find the post in the collection\n    const postIndex = this.posts.findIndex(el => el.key ===  post.key);\n    const p = this.posts[postIndex];\n    const modal = await this.modalCtrl.create({\n      component: ReactionListModalPage,\n      componentProps: {\n        reactions: p.reactions\n      }\n    });\n    return await modal.present();\n  }\n\n  viewPost(post) {\n    this.router.navigateByUrl('post/' + post.key);\n  }\n\n\n  viewUser(userId) {\n    this.router.navigateByUrl('/profile/' + userId);\n  }\n\n  viewGroup(groupId) {\n    this.router.navigateByUrl('/group/' + groupId);\n  }\n\n  followPost(post) {\n    if (!this.userNotifications) {\n      this.userNotifications = [post.key];\n    } else {\n      this.userNotifications.push(post.key);\n    }\n\n    this.dataProvider.getUser(this.loggedInUserId).update({\n      userNotifications: this.userNotifications\n    }).then(() => {\n      this.loadingProvider.showToast('You will be notified when there are new replies');\n    });\n  }\n\n  unFollowPost(post) {\n    const index = this.userNotifications.indexOf(post.key, 0);\n    if (index > -1) {\n      this.userNotifications.splice(index, 1);\n    }\n\n    this.dataProvider.getUser(this.loggedInUserId).update({\n      userNotifications: this.userNotifications\n    }).then(() => {\n      this.loadingProvider.showToast('You won\\'t get notifications for this post');\n    });\n  }\n\n  reportPost(post) {\n    this.dataProvider.addReports(this.loggedInUserId, post).then(() => {\n      this.loadingProvider.showToast('Thank you for reporting the post.');\n    });\n  }\n\n  deletePost(post) {\n    this.alertCtrl.create({\n      header: 'Delete Post',\n      message: 'Are you sure you want to delete this post?',\n      buttons: [\n        {\n          text: 'Cancel'\n        },\n        {\n          text: 'Yes',\n          handler: data => {\n             this.firestore.doc('posts/' + post.key).delete();\n          }\n        }\n      ]\n    }).then(r => r.present());\n  }\n\n  createPostOptionButtons(post) {\n    const buttons = [];\n    \n    const cancelButton = {\n      text: 'Cancel',\n      icon: 'close',\n      role: 'cancel',\n      handler: () => {\n        console.log('Cancel clicked');\n      }\n    };\n\n    const reportButton = {\n      text: 'Report Post',\n      icon: 'flag-outline',\n      handler: () => {\n        this.reportPost(post);\n       }\n      };\n    let notificationButton = {};\n\n    if (post.addedByUser.addedByKey === this.loggedInUserId) {\n      const deletePostButton = {\n        text: 'Delete Post',\n        icon: 'trash-outline',\n        cssClass: 'actionicon',\n        handler: () => {\n          this.deletePost(post);\n        }\n      };\n      buttons.push(deletePostButton);\n    } else {\n      if (this.userNotifications && this.userNotifications.some(el => el === post.key)) {\n        notificationButton = {\n            text: 'Turn Off Notifications',\n            icon: 'notifications-off-outline',\n            cssClass: 'actionicon',\n            handler: () => {\n              this.unFollowPost(post);\n            }\n          };\n      } else {\n        notificationButton = {\n          text: 'Turn On Notifications',\n          icon: 'notifications-outline',\n          cssClass: 'actionicon',\n          handler: () => {\n            this.followPost(post);\n          }\n        };\n      }\n      buttons.push(notificationButton);\n  }\n    buttons.push(reportButton);\n    buttons.push(cancelButton);\n    return buttons;\n  }\n\n  loadData(event) {\n    if ( this.posts.length > this.maxNoOfPosts ) {\n      event.target.disabled = true;\n    } else {\n      if (this.lastDataSet) {\n      this.nextDataSet = this.firestore.collection('posts').ref\n                          .where('groupId', 'in', this.loggedInUser.groups)\n                          .orderBy('date', 'desc')\n                          .startAfter(this.lastDataSet).limit(5);\n      this.nextDataSet.onSnapshot((po: any) => {\n      this.lastDataSet = po.docs[po.docs.length - 1];\n      console.log('po.docs.length', po.docs.length);\n      if (po.docs.length > 0) {\n        this.loadEachPostData(po);\n      }\n      event.target.complete();\n        });\n      } else {\n        event.target.complete();\n      }\n    }\n  }\n\n  loadEachPostData(po: any) {\n    po.forEach(p => {\n      let post: any;\n      post = p.data();\n      post.key = p.id;\n      post.showMore = false;\n      const startDate = new Date(post.date);\n    // Do your operations\n      const endDate   = new Date();\n      const seconds = (endDate.getTime() - startDate.getTime()) / 1000;\n      if (seconds > 120) {\n      post.showNewIcon = false;\n    } else {\n      post.showNewIcon = true;\n    }\n\n      if (post.type === 'poll') {\n        const today = new Date();\n        const de = post.data.dateEnding.toDate();\n        if (post.de < today) {\n          post.pollClosed = true;\n        } else {\n          post.pollClosed = false;\n        }\n      }\n      // get reactions list\n      this.firestore.collection('posts').doc(post.key).collection('reactions').snapshotChanges().subscribe((reactions: any) => {\n        post.reactions = [];\n        reactions.forEach(element => {\n        const reaction = element.payload.doc.data();\n        reaction.key = element.payload.doc.id;\n        post.reactions.push(reaction);\n      });\n\n        // Check for Thanks\n        if (reactions.length > 0) {\n        let foundSmiley = false;\n        if (post.reactions.length > 0) {\n             const r = post.reactions.find(el => el.addedByUser.addedByKey === this.dataProvider.getCurrentUserId());\n             foundSmiley = r.reactionType.some(r => r === 'Thanks');\n          }\n        if (foundSmiley) {\n            post.showSmiley = true;\n          } else {\n            post.showSmiley = false;\n          }\n          // Check for Hugs\n        let foundHug = false;\n        if (post.reactions !== undefined) {\n            const r = post.reactions.find(el => el.addedByUser.addedByKey === this.dataProvider.getCurrentUserId());\n            foundHug = r.reactionType.some(r => r === 'Hug');\n          }\n        if (foundHug) {\n            post.showHug = true;\n          } else {\n            post.showHug = false;\n          }\n\n        // Check for Checkin\n        let foundCheckin = false;\n        if (post.reactions !== undefined) {\n          const r = post.reactions.find(el => el.addedByUser.addedByKey === this.dataProvider.getCurrentUserId());\n          foundCheckin = r.reactionType.some(r => r === 'Checkin');\n          }\n        if (foundCheckin) {\n            post.showCheckin = true;\n          } else {\n            post.showCheckin = false;\n          }\n\n        // Check for Bookmark\n        let foundBookmark = false;\n        if (post.reactions !== undefined) {\n          const r = post.reactions.find(el => el.addedByUser.addedByKey === this.dataProvider.getCurrentUserId())\n          foundBookmark = r.reactionType.some(r => r === 'Bookmark');\n          }\n        if (foundBookmark) {\n            post.showBookmark = true;\n          } else {\n            post.showBookmark = false;\n          }\n      }\n      });\n      post.postTags = post.postTags.filter(x => x.isChecked !== false);\n      this.addOrUpdatePost(post);\n    });\n  }\n\n  doRefresh(event) {\n    this.getFeedData();\n    event.target.complete();\n  }\n\n  trimString(string, length) {\n    return string.length > length\n      ? string.substring(0, length) + \"...\"\n      : string;\n  }\n\n  onFocus(event) {\n    if (!this.searchMode) {\n      this.searchMode = true;\n    }\n  }\n\n  onCancel(event) {\n    this.searchMode = false;\n    this.searchPosts = [];\n    this.searchTerm = '';\n  }\n\n  seachFeed(event) {\n    // console.log('searching for ..', this.searchTerm );\n    // this.index.search('', {\n    //   query: this.searchTerm\n    // }).then((data) => {\n    //   this.searchPosts = data.hits;\n    // });\n    this.searchPosts = this.posts;\n  }\n\n  searchTag(tag, post) {\n    this.searchMode = true;\n    this.searchTerm = tag.val;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport { SharedModule } from '../services/share.module';\nimport { IonicModule } from '@ionic/angular';\nimport { ComponentsModule } from '../components/components.module';\nimport { FeedPage } from './feed.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FeedPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    SharedModule,\n    IonicModule,\n    ComponentsModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [FeedPage]\n})\nexport class FeedPageModule {}\n"]}