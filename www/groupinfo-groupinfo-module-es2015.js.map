{"version":3,"sources":["./src/app/groupinfo/groupinfo.page.html","./src/app/groupinfo/groupinfo.page.ts","./src/app/groupinfo/groupinfo.page.scss","./src/app/groupinfo/groupinfo.module.ts"],"names":[],"mappings":"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","file":"groupinfo-groupinfo-module-es2015.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title *ngIf=\\\"group\\\">{{group.name}}</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <div *ngIf=\\\"group\\\">\\r\\n      <ion-row>\\r\\n        <ion-col size=3>\\r\\n        <div class=\\\"group-img\\\"> \\r\\n          <img src=\\\"{{group.img}}\\\" onError=\\\"this.src='./assets/images/default-dp_rect.png'\\\">\\r\\n        </div>\\r\\n      </ion-col>\\r\\n      <ion-col size=9>\\r\\n        <div>\\r\\n          <ion-item lines=\\\"none\\\">\\r\\n          <ion-text class=\\\"profile-summary-name\\\">{{group.name}}</ion-text>\\r\\n        </ion-item>\\r\\n      </div>\\r\\n        <div class=\\\"ion-no-border\\\">\\r\\n          <ion-item class=\\\"toggle-text\\\" lines=\\\"none\\\">\\r\\n            <ion-text>{{group.description}}</ion-text>\\r\\n          </ion-item>\\r\\n        </div>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n    <ion-item-divider class=\\\"profile-component-title\\\">Group Tags</ion-item-divider>\\r\\n    <ion-list lines=\\\"none\\\">\\r\\n      <div class=\\\"tags\\\" *ngFor=\\\"let tag of group.groupTags\\\">\\r\\n        <span class=\\\"item-rating\\\">#{{tag}}</span>\\r\\n      </div>\\r\\n     </ion-list>\\r\\n     <ion-item-divider class=\\\"profile-component-title\\\">Activity</ion-item-divider>\\r\\n     <ion-list class=\\\"activities\\\" lines=\\\"none\\\" > \\r\\n      <ion-item *ngIf=\\\"groupPosts.length == 0\\\" class=\\\"toggle-text\\\">\\r\\n       <ion-label>No Group Activity</ion-label>\\r\\n      </ion-item>\\r\\n      <ion-item class=\\\"toggle-text activities-item\\\"  *ngFor=\\\"let item of groupPosts\\\">\\r\\n        New post: <a class=\\\"link\\\" [routerLink]=\\\"['/post', item.key]\\\"> \\\"{{item.title}}\\\"</a>\\r\\n      <ion-text slot=\\\"end\\\" class=\\\"addedByDate\\\">{{item.date.toDate() | date:'mediumDate'}}</ion-text>  \\r\\n    </ion-item>\\r\\n     </ion-list>\\r\\n\\r\\n    <ion-item-divider class=\\\"profile-component-title\\\">Group Members:</ion-item-divider>\\r\\n    <ion-list lines=\\\"none\\\">\\r\\n      <ion-list lines=\\\"none\\\">\\r\\n        <ion-item  *ngIf=\\\"groupMembers.length == 0\\\" class=\\\"toggle-text\\\">\\r\\n          <ion-label>Build a community, invite others to join</ion-label>\\r\\n        </ion-item>  \\r\\n        <ion-item text-wrap *ngFor=\\\"let member of groupMembers\\\" (click)=\\\"viewUser(member.key)\\\">\\r\\n          <ion-avatar slot=\\\"start\\\">\\r\\n            <ion-img src=\\\"{{member.img}}\\\"></ion-img>\\r\\n          </ion-avatar>\\r\\n          <ion-label class=\\\"toggle-text\\\">\\r\\n              <ion-label class=\\\"ion-no-padding\\\">{{member.username}}<br/>\\r\\n              {{member.description}}</ion-label>\\r\\n          </ion-label>\\r\\n        </ion-item>\\r\\n      </ion-list>\\r\\n    </ion-list>\\r\\n </div>\\r\\n<ion-row *ngIf=\\\"myProfile\\\">\\r\\n  <div class=\\\"ion-padding save\\\">\\r\\n    <ion-button expand=\\\"block\\\" color=\\\"secondary\\\">Leave Group</ion-button>\\r\\n  </div>\\r\\n</ion-row>\\r\\n</ion-content>\";","import { Component, OnInit } from '@angular/core';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { DataService } from '../services/data.service';\r\nimport { LoadingService } from '../services/loading.service';\r\nimport { AlertController } from '@ionic/angular';\r\nimport { AngularFirestore } from '@angular/fire/firestore';\r\nimport * as firebase from 'firebase/app';\r\n\r\n@Component({\r\n  selector: 'app-groupinfo',\r\n  templateUrl: './groupinfo.page.html',\r\n  styleUrls: ['./groupinfo.page.scss'],\r\n})\r\nexport class GroupinfoPage implements OnInit {\r\n\r\n  groupId: any;\r\n  group: any;\r\n  groupMembers: any = [];\r\n  alert: any;\r\n  user: any;\r\n  groupPosts: any = [];\r\n\r\n  // GroupInfoPage\r\n  // This is the page where the user can view group information, change group information, add members, and leave/delete group.\r\n  constructor(\r\n    public router: Router,\r\n    public route: ActivatedRoute,\r\n    public dataProvider: DataService,\r\n    public firestore: AngularFirestore,\r\n    public loadingProvider: LoadingService,\r\n    public alertCtrl: AlertController\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n    // Initialize\r\n\r\n    this.groupId = this.route.snapshot.params.id;\r\n\r\n    // Get group details.\r\n    this.dataProvider.getGroup(this.groupId).snapshotChanges().subscribe((p: any) => {\r\n      let group = p.payload.data();\r\n      group.key = p.key;\r\n      if (group != null) {\r\n        this.loadingProvider.show();\r\n        this.group = group;\r\n        group.members.forEach((memberId) => {\r\n            this.dataProvider.getUser(memberId).snapshotChanges().subscribe((memberRes: any) => {\r\n              let member = { $key: memberRes.payload.id, ...memberRes.payload.data() };\r\n              this.addUpdateOrRemoveMember(member);\r\n            });\r\n          });\r\n\r\n        // get group Posts\r\n        if (this.group.posts) {\r\n          this.firestore.collection('posts').ref\r\n          .where(firebase.firestore.FieldPath.documentId(), 'in', this.group.posts)\r\n          .get().then((po: any) => {\r\n            this.groupPosts = [];\r\n            this.loadEachPostData(po);\r\n          });\r\n        }\r\n        this.loadingProvider.hide();\r\n      } else {\r\n        this.router.navigateByUrl('/');\r\n      }\r\n    });\r\n\r\n    // Get user details.\r\n    this.dataProvider.getCurrentUser().snapshotChanges().subscribe((accounts: any) => {\r\n      let account = accounts.payload.data();\r\n      this.user = { $key: account.userId, ...account };\r\n    });\r\n  }\r\n\r\n  loadEachPostData(po: any) {\r\n    po.forEach(p => {\r\n      let post: any;\r\n      post = p.data();\r\n      post.key = p.id;\r\n      post.postTags = post.postTags.filter(x => x.isChecked !== false);\r\n    \r\n      if (!this.groupPosts) {\r\n        this.groupPosts = [post];\r\n      } else {\r\n        let index = -1;\r\n        for (let i = 0; i < this.groupPosts.length; i++) {\r\n          if (this.groupPosts[i].key == post.key) {\r\n            index = i;\r\n          }\r\n        }\r\n        if (index > -1) {\r\n          this.groupPosts[index] = post;\r\n        } else {\r\n          this.groupPosts.push(post);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  // Check if user exists in the group then add/update user.\r\n  // If the user has already left the group, remove user from the list.\r\n  addUpdateOrRemoveMember(member) {\r\n    if (this.group) {\r\n      if (this.group.members.indexOf(member.$key) > -1) {\r\n        // User exists in the group.\r\n        if (!this.groupMembers) {\r\n          this.groupMembers = [member];\r\n        } else {\r\n          var index = -1;\r\n          for (var i = 0; i < this.groupMembers.length; i++) {\r\n            if (this.groupMembers[i].$key == member.$key) {\r\n              index = i;\r\n            }\r\n          }\r\n          // Add/Update User.\r\n          if (index > -1) {\r\n            this.groupMembers[index] = member;\r\n          } else {\r\n            this.groupMembers.push(member);\r\n          }\r\n        }\r\n      } else {\r\n        // User already left the group, remove member from list.\r\n        var index1 = -1;\r\n        for (var j = 0; j < this.groupMembers.length; j++) {\r\n          if (this.groupMembers[j].$key == member.$key) {\r\n            index1 = j;\r\n          }\r\n        }\r\n        if (index1 > -1) {\r\n          this.groupMembers.splice(index1, 1);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // View user info.\r\n  viewUser(userId) {\r\n    if (this.dataProvider.getCurrentUserId !== userId) {\r\n      this.router.navigateByUrl('/userinfo/' + userId);\r\n    }\r\n  }\r\n\r\n  // Leave group.\r\n  leaveGroup() {\r\n    this.alert = this.alertCtrl.create({\r\n      header: 'Confirm Leave',\r\n      message: 'Are you sure you want to leave this group?',\r\n      buttons: [\r\n        {\r\n          text: 'Cancel'\r\n        },\r\n        {\r\n          text: 'Leave',\r\n          handler: data => {\r\n            this.loadingProvider.show();\r\n            // Remove member from group.\r\n            this.group.members.splice(this.group.members.indexOf(this.user.$key), 1);\r\n            // Add system message.\r\n            this.group.messages.push({\r\n              date: new Date().toString(),\r\n              sender: this.user.$key,\r\n              type: 'system',\r\n              message: this.user.name + ' has left this group.',\r\n              icon: 'md-log-out'\r\n            });\r\n            // Update group on database.\r\n            this.dataProvider.getGroup(this.groupId).update({\r\n              members: this.group.members,\r\n              messages: this.group.messages\r\n            }).then((success) => {\r\n              // Remove group from user's group list.\r\n              this.firestore.doc('/accounts/' + this.dataProvider.getCurrentUserId + '/groups/' + this.groupId).delete().then(() => {\r\n                // Pop this view because user already has left this group.\r\n                this.group = null;\r\n                setTimeout(() => {\r\n                  this.loadingProvider.hide();\r\n                  this.router.navigateByUrl('/')\r\n                }, 300);\r\n              });\r\n            }).catch((error) => {\r\n              this.loadingProvider.showToast(\"Something went wrong\")\r\n\r\n            });\r\n          }\r\n        }\r\n      ]\r\n    }).then(r => r.present());\r\n  }\r\n\r\n}\r\n","export default \":host {\\n  --page-margin: var(--app-narrow-margin);\\n  --page-background: var(--app-background);\\n}\\n\\n.group-info {\\n  width: 100%;\\n}\\n\\n.group-img {\\n  padding-top: var(--page-margin);\\n}\\n\\n.save {\\n  height: 25px;\\n  width: 100%;\\n  text-transform: initial !important;\\n}\\n\\n.toggle-text {\\n  font-family: \\\"HelveticaNeue\\\", \\\"Helvetica Neue\\\", Helvetica, \\\"Roboto\\\", \\\"Segoe UI\\\", Arial, sans-serif;\\n  font-weight: 400;\\n  font-size: 14px;\\n  line-height: 19px;\\n  -webkit-font-smoothing: subpixel-antialiased;\\n  -moz-osx-font-smoothing: auto;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\n\\n.profile-summary-name {\\n  font-family: \\\"HelveticaNeue-Medium\\\", \\\"Helvetica Neue Medium\\\", \\\"Helvetica-Bold\\\", \\\"Roboto-Medium\\\", \\\"Segoe UI Semibold\\\", Arial-Bold, sans-serif;\\n  font-weight: 500;\\n  font-size: 22px;\\n  line-height: 26px;\\n  margin: 4px 0;\\n  display: inline-block;\\n}\\n\\n.profile-component-title {\\n  font-family: \\\"HelveticaNeue-Medium\\\", \\\"Helvetica Neue Medium\\\", Helvetica-Bold, \\\"Roboto-Medium\\\", \\\"Segoe UI Semibold\\\", Arial-Bold, sans-serif;\\n  font-weight: 500;\\n  font-size: 14px;\\n  line-height: 19px;\\n}\\n\\n.addedByDate {\\n  font-style: italic;\\n  font-size: 12px;\\n}\\n\\n.logout {\\n  text-transform: capitalize !important;\\n}\\n\\n.link {\\n  color: #007B99;\\n  text-decoration: none;\\n}\\n\\n.activities {\\n  padding-bottom: 20px;\\n}\\n\\n.activities .activities-item {\\n  height: 30px;\\n}\\n\\n.tags {\\n  padding-right: 5px;\\n}\\n\\n.tags .item-rating {\\n  background-color: rgba(var(--page-color-rgb), 0.35);\\n  padding-left: var(--page-margin);\\n  padding-right: calc(var(--page-margin) / 2);\\n  font-size: 14px;\\n  font-weight: bold;\\n  width: 100%;\\n  display: block;\\n  text-align: left;\\n  color: #aa6c39;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZ3JvdXBpbmZvL2dyb3VwaW5mby5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSx1Q0FBQTtFQUNBLHdDQUFBO0FBQ0Y7O0FBRUE7RUFDRSxXQUFBO0FBQ0Y7O0FBRUE7RUFDQywrQkFBQTtBQUNEOztBQUVBO0VBQ0UsWUFBQTtFQUNBLFdBQUE7RUFDQSxrQ0FBQTtBQUNGOztBQUVBO0VBQ0Usa0dBQUE7RUFDQSxnQkFBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtFQUNBLDRDQUFBO0VBQ0EsNkJBQUE7RUFDQSxnQkFBQTtFQUNBLHVCQUFBO0FBQ0Y7O0FBRUE7RUFDRSw0SUFBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsYUFBQTtFQUNBLHFCQUFBO0FBQ0Y7O0FBRUE7RUFDRSwwSUFBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0FBQ0Y7O0FBRUE7RUFDQSxrQkFBQTtFQUNBLGVBQUE7QUFDQTs7QUFFQTtFQUNFLHFDQUFBO0FBQ0Y7O0FBRUE7RUFDQSxjQUFBO0VBQ0EscUJBQUE7QUFDQTs7QUFFQTtFQUNBLG9CQUFBO0FBQ0E7O0FBQUE7RUFDQSxZQUFBO0FBRUE7O0FBSUU7RUFDRSxrQkFBQTtBQURKOztBQUdFO0VBRUUsbURBQUE7RUFDQSxnQ0FBQTtFQUNBLDJDQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsV0FBQTtFQUNBLGNBQUE7RUFDQSxnQkFBQTtFQUNBLGNBQUE7QUFGSiIsImZpbGUiOiJzcmMvYXBwL2dyb3VwaW5mby9ncm91cGluZm8ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xyXG4gIC0tcGFnZS1tYXJnaW46IHZhcigtLWFwcC1uYXJyb3ctbWFyZ2luKTtcclxuICAtLXBhZ2UtYmFja2dyb3VuZDogdmFyKC0tYXBwLWJhY2tncm91bmQpO1xyXG59XHJcblxyXG4uZ3JvdXAtaW5mbyB7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbn1cclxuXHJcbi5ncm91cC1pbWcge1xyXG4gcGFkZGluZy10b3A6IHZhcigtLXBhZ2UtbWFyZ2luKTtcclxufVxyXG5cclxuLnNhdmUge1xyXG4gIGhlaWdodDogMjVweDtcclxuICB3aWR0aDogMTAwJTtcclxuICB0ZXh0LXRyYW5zZm9ybTogaW5pdGlhbCAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4udG9nZ2xlLXRleHQge1xyXG4gIGZvbnQtZmFtaWx5OiAnSGVsdmV0aWNhTmV1ZScsICdIZWx2ZXRpY2EgTmV1ZScsIEhlbHZldGljYSwgJ1JvYm90bycsICdTZWdvZSBVSScsIEFyaWFsLCBzYW5zLXNlcmlmO1xyXG4gIGZvbnQtd2VpZ2h0OiA0MDA7XHJcbiAgZm9udC1zaXplOiAxNHB4O1xyXG4gIGxpbmUtaGVpZ2h0OiAxOXB4O1xyXG4gIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IHN1YnBpeGVsLWFudGlhbGlhc2VkO1xyXG4gIC1tb3otb3N4LWZvbnQtc21vb3RoaW5nOiBhdXRvO1xyXG4gIG92ZXJmbG93OiBoaWRkZW47IFxyXG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xyXG59XHJcblxyXG4ucHJvZmlsZS1zdW1tYXJ5LW5hbWUge1xyXG4gIGZvbnQtZmFtaWx5OiAnSGVsdmV0aWNhTmV1ZS1NZWRpdW0nLCAnSGVsdmV0aWNhIE5ldWUgTWVkaXVtJywgJ0hlbHZldGljYS1Cb2xkJywgJ1JvYm90by1NZWRpdW0nLCAnU2Vnb2UgVUkgU2VtaWJvbGQnLCBBcmlhbC1Cb2xkLCBzYW5zLXNlcmlmO1xyXG4gIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbiAgZm9udC1zaXplOiAyMnB4O1xyXG4gIGxpbmUtaGVpZ2h0OiAyNnB4O1xyXG4gIG1hcmdpbjogNHB4IDA7XHJcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG59XHJcblxyXG4ucHJvZmlsZS1jb21wb25lbnQtdGl0bGUge1xyXG4gIGZvbnQtZmFtaWx5OiAnSGVsdmV0aWNhTmV1ZS1NZWRpdW0nLCAnSGVsdmV0aWNhIE5ldWUgTWVkaXVtJywgSGVsdmV0aWNhLUJvbGQsICdSb2JvdG8tTWVkaXVtJywgJ1NlZ29lIFVJIFNlbWlib2xkJywgQXJpYWwtQm9sZCwgc2Fucy1zZXJpZjtcclxuICBmb250LXdlaWdodDogNTAwO1xyXG4gIGZvbnQtc2l6ZTogMTRweDtcclxuICBsaW5lLWhlaWdodDogMTlweDtcclxufVxyXG5cclxuLmFkZGVkQnlEYXRlIHtcclxuZm9udC1zdHlsZTogaXRhbGljO1xyXG5mb250LXNpemU6IDEycHg7XHJcbn1cclxuXHJcbi5sb2dvdXQge1xyXG4gIHRleHQtdHJhbnNmb3JtOiBjYXBpdGFsaXplICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi5saW5rIHtcclxuY29sb3I6ICMwMDdCOTk7XHJcbnRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxufVxyXG5cclxuLmFjdGl2aXRpZXMge1xyXG5wYWRkaW5nLWJvdHRvbTogMjBweDtcclxuLmFjdGl2aXRpZXMtaXRlbSB7XHJcbmhlaWdodDogMzBweDtcclxufVxyXG5cclxufVxyXG5cclxuICAgICAgIFxyXG4gIC50YWdzIHtcclxuICAgIHBhZGRpbmctcmlnaHQ6IDVweDtcclxuXHJcbiAgLml0ZW0tcmF0aW5nIHtcclxuICAgIC8vIERlZmF1bHQgYmFja2dyb3VuZFxyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSh2YXIoLS1wYWdlLWNvbG9yLXJnYiksIC4zNSk7XHJcbiAgICBwYWRkaW5nLWxlZnQ6IHZhcigtLXBhZ2UtbWFyZ2luKTtcclxuICAgIHBhZGRpbmctcmlnaHQ6IGNhbGModmFyKC0tcGFnZS1tYXJnaW4pIC8gMik7XHJcbiAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICB0ZXh0LWFsaWduOiBsZWZ0O1xyXG4gICAgY29sb3I6ICNhYTZjMzk7XHJcbiAgfVxyXG5cclxuICB9Il19 */\";","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { GroupinfoPage } from './groupinfo.page';\r\nimport { SharedModule } from '../services/share.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: GroupinfoPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    SharedModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [GroupinfoPage]\r\n})\r\nexport class GroupinfoPageModule { }\r\n"],"sourceRoot":"webpack:///"}