{"version":3,"sources":["./src/app/userinfo/userinfo.page.html","./src/app/userinfo/userinfo.module.ts","./src/app/userinfo/userinfo.page.scss","./src/app/userinfo/userinfo.page.ts"],"names":[],"mappings":"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","file":"userinfo-userinfo-module-es2015.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title *ngIf=\\\"user\\\">{{user.name}}</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <div *ngIf=\\\"user\\\">\\r\\n    <ion-row padding> \\r\\n    <div class=\\\"user-info\\\">\\r\\n      <div class=\\\"user-img\\\">\\r\\n        <img src=\\\"{{user.img}}\\\">\\r\\n      </div>\\r\\n\\r\\n    <img src=\\\"{{user.img}}\\\" (click)=\\\"enlargeImage(user.img)\\\" onError=\\\"this.src='./assets/images/default-dp.png'\\\">\\r\\n    <h4 style=\\\"margin:0\\\">{{user.name}}</h4>\\r\\n    <p style=\\\"color:#aaa;margin:0\\\">@{{user.username}}</p>\\r\\n    <p style=\\\"color:#444\\\">{{user.description}}</p>\\r\\n    <div style=\\\"border-top: 1px solid #ececec; padding: 10px;\\\">\\r\\n      <!-- Show actions based on the status of the user in relation to the current logged in user. -->\\r\\n      <div *ngIf=\\\"friendRequests && friendRequests.indexOf(user.$key) > -1\\\">\\r\\n        <p class=\\\"info\\\">Sent you a friend request.</p>\\r\\n        <ion-button size=\\\"small\\\" (click)=\\\"rejectFriendRequest()\\\">\\r\\n          Decline\\r\\n        </ion-button>\\r\\n        <ion-button size=\\\"small\\\" (click)=\\\"acceptFriendRequest()\\\">\\r\\n          Accept\\r\\n        </ion-button>\\r\\n      </div>\\r\\n      <div *ngIf=\\\"requestsSent && requestsSent.indexOf(user.$key) > -1\\\">\\r\\n        <ion-button size=\\\"small\\\" (click)=\\\"cancelFriendRequest()\\\">Cancel\\r\\n          Request</ion-button>\\r\\n      </div>\\r\\n      <div *ngIf=\\\"canAdd()\\\">\\r\\n        <ion-button size=\\\"small\\\" (click)=\\\"sendFriendRequest()\\\">Add Friend</ion-button>\\r\\n      </div>\\r\\n      <div *ngIf=\\\"friends && friends.indexOf(user.$key) > -1\\\">\\r\\n        <ion-button size=\\\"small\\\" (click)=\\\"sendMessage()\\\">Start Chat</ion-button>\\r\\n        <ion-button size=\\\"small\\\" (click)=\\\"block()\\\">Block User</ion-button>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n\\r\\n  </div>\\r\\n  </ion-row>\\r\\n  </div>\\r\\n</ion-content>\";","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { UserinfoPage } from './userinfo.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: UserinfoPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [UserinfoPage]\r\n})\r\nexport class UserinfoPageModule {}\r\n","export default \":host {\\n  --page-margin: var(--app-narrow-margin);\\n  --page-background: var(--app-background);\\n}\\n\\n.user-info {\\n  margin: var(--page-margin) var(--page-margin) var(--page-margin) var(--page-margin);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdXNlcmluZm8vdXNlcmluZm8ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksdUNBQUE7RUFDQSx3Q0FBQTtBQUNKOztBQUVBO0VBQ0ksbUZBQUE7QUFDSiIsImZpbGUiOiJzcmMvYXBwL3VzZXJpbmZvL3VzZXJpbmZvLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcclxuICAgIC0tcGFnZS1tYXJnaW46IHZhcigtLWFwcC1uYXJyb3ctbWFyZ2luKTtcclxuICAgIC0tcGFnZS1iYWNrZ3JvdW5kOiB2YXIoLS1hcHAtYmFja2dyb3VuZCk7XHJcbiAgfVxyXG5cclxuLnVzZXItaW5mbyB7XHJcbiAgICBtYXJnaW46IHZhcigtLXBhZ2UtbWFyZ2luKSB2YXIoLS1wYWdlLW1hcmdpbikgdmFyKC0tcGFnZS1tYXJnaW4pIHZhcigtLXBhZ2UtbWFyZ2luKTtcclxuICAgIC51c2VyLWltZyB7XHJcbiAgXHJcbiAgICB9XHJcbn0iXX0= */\";","import { Component, OnInit } from '@angular/core';\r\nimport { DataService } from '../services/data.service';\r\nimport { LoadingService } from '../services/loading.service';\r\nimport { AlertController, ModalController } from '@ionic/angular';\r\nimport { FirebaseService } from '../services/firebase.service';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport * as firebase from 'firebase';\r\n\r\n@Component({\r\n  selector: 'app-userinfo',\r\n  templateUrl: './userinfo.page.html',\r\n  styleUrls: ['./userinfo.page.scss'],\r\n})\r\nexport class UserinfoPage implements OnInit {\r\n\r\n\r\n  user: any;\r\n  userId: any;\r\n  friendRequests: any;\r\n  requestsSent: any;\r\n  friends: any;\r\n  alert: any;\r\n  // UserInfoPage\r\n  // This is the page where the user can view user information, and do appropriate actions based on their relation to the current logged in user.\r\n  constructor(\r\n    // public navCtrl: NavController,\r\n    // public navParams: NavParams,\r\n    private router: Router,\r\n    public modalCtrl: ModalController,\r\n    public dataProvider: DataService,\r\n    public loadingProvider: LoadingService,\r\n    public alertCtrl: AlertController,\r\n    public firebaseProvider: FirebaseService,\r\n    private route: ActivatedRoute\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n    // this.userId = this.navParams.get('userId');\r\n    this.userId = this.route.snapshot.params.id;\r\n    console.log(this.userId);\r\n    this.loadingProvider.show();\r\n    // Get user info.\r\n    this.dataProvider.getUser(this.userId).snapshotChanges().subscribe((user: any) => {\r\n      this.user = { $key: user.key, ...user.payload.data() };\r\n      console.log(this.user);\r\n      this.loadingProvider.hide();\r\n    });\r\n    // Get friends of current logged in user.\r\n    this.dataProvider.getUser(firebase.auth().currentUser.uid).snapshotChanges().subscribe((user: any) => {\r\n      if (user.payload.data() != null)\r\n        this.friends = user.payload.data().friends;\r\n    });\r\n    // Get requests of current logged in user.\r\n    this.dataProvider.getRequests(firebase.auth().currentUser.uid).snapshotChanges().subscribe(((requests: any) => {\r\n      console.log(requests.payload.data())\r\n      if (requests.payload.data() != null) {\r\n        this.friendRequests = requests.payload.data().friendRequests;\r\n        this.requestsSent = requests.payload.data().requestsSent;\r\n      }\r\n    }));\r\n  }\r\n\r\n  block() {\r\n    this.loadingProvider.show();\r\n    console.log(\"block function\");\r\n    firebase.database().ref('accounts/' + firebase.auth().currentUser.uid + '/conversations/' + this.userId).update({\r\n      blocked: true\r\n    }).then(() => {\r\n      this.loadingProvider.hide();\r\n      this.loadingProvider.showToast(\"User Blocked\");\r\n      this.router.navigateByUrl('/');\r\n    }).catch(() => {\r\n      this.loadingProvider.hide();\r\n      this.loadingProvider.showToast(\"Something went wrong\");\r\n    });\r\n\r\n  }\r\n\r\n  // Enlarge user's profile image.\r\n  enlargeImage(img) {\r\n    // let imageModal = this.modalCtrl.create(\"ImageModalPage\", { img: img });\r\n    // imageModal.present();\r\n  }\r\n\r\n  // Accept friend request.\r\n  acceptFriendRequest() {\r\n    this.alert = this.alertCtrl.create({\r\n      header: 'Confirm Friend Request',\r\n      message: 'Do you want to accept <b>' + this.user.name + '</b> as your friend?',\r\n      buttons: [\r\n        {\r\n          text: 'Cancel',\r\n          handler: data => { }\r\n        },\r\n        {\r\n          text: 'Accept',\r\n          handler: () => {\r\n            this.firebaseProvider.acceptFriendRequest(this.userId);\r\n          }\r\n        }\r\n      ]\r\n    }).then(r => r.present());\r\n  }\r\n\r\n  // Deny friend request.\r\n  rejectFriendRequest() {\r\n    this.alert = this.alertCtrl.create({\r\n      header: 'Reject Friend Request',\r\n      message: 'Do you want to reject <b>' + this.user.name + '</b> as your friend?',\r\n      buttons: [\r\n        {\r\n          text: 'Cancel',\r\n          handler: data => { }\r\n        },\r\n        {\r\n          text: 'Reject',\r\n          handler: () => {\r\n            this.firebaseProvider.deleteFriendRequest(this.userId);\r\n          }\r\n        }\r\n      ]\r\n    }).then(r => r.present());\r\n  }\r\n\r\n  // Cancel friend request sent.\r\n  cancelFriendRequest() {\r\n    this.alert = this.alertCtrl.create({\r\n      header: 'Friend Request Pending',\r\n      message: 'Do you want to delete your friend request to <b>' + this.user.name + '</b>?',\r\n      buttons: [\r\n        {\r\n          text: 'Cancel',\r\n          handler: data => { }\r\n        },\r\n        {\r\n          text: 'Delete',\r\n          handler: () => {\r\n            this.firebaseProvider.cancelFriendRequest(this.userId);\r\n          }\r\n        }\r\n      ]\r\n    }).then(r => r.present());\r\n  }\r\n\r\n  // Send friend request.\r\n  sendFriendRequest() {\r\n    this.alert = this.alertCtrl.create({\r\n      header: 'Send Friend Request',\r\n      message: 'Do you want to send friend request to <b>' + this.user.name + '</b>?',\r\n      buttons: [\r\n        {\r\n          text: 'Cancel',\r\n          handler: data => { }\r\n        },\r\n        {\r\n          text: 'Send',\r\n          handler: () => {\r\n            this.firebaseProvider.sendFriendRequest(this.userId);\r\n          }\r\n        }\r\n      ]\r\n    }).then(r => r.present());\r\n  }\r\n\r\n  // Open chat with this user.\r\n  sendMessage() {\r\n    this.router.navigateByUrl('/message/' + this.userId);\r\n    // this.navCtrl.push(MessagePage, { userId: this.userId });\r\n  }\r\n\r\n  // Check if user can be added, meaning user is not yet friends nor has sent/received any friend requests.\r\n  canAdd() {\r\n    if (this.friendRequests) {\r\n      if (this.friendRequests.indexOf(this.userId) > -1) {\r\n        return false;\r\n      }\r\n    }\r\n    if (this.requestsSent) {\r\n      if (this.requestsSent.indexOf(this.userId) > -1) {\r\n        return false;\r\n      }\r\n    }\r\n    if (this.friends) {\r\n      if (this.friends.indexOf(this.userId) > -1) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n}\r\n"],"sourceRoot":"webpack:///"}