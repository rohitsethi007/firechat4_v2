{"version":3,"sources":["webpack:///src/app/group-join/group-join.page.ts","webpack:///src/app/group-join/group-join.page.html","webpack:///src/app/group-join/group-join.page.scss","webpack:///src/app/group-join/group-join.module.ts"],"names":["GroupJoinPage","dataProvider","route","firestore","navCtrl","group","termsAgreed","groupId","snapshot","params","id","getCurrentUser","then","u","get","subscribe","user","data","userId","auth","currentUser","uid","loggedInUser","ngOnInit","getGroupData","getGroup","snapshotChanges","p","payload","key","joinGroup","groups","push","getUser","update","members","messages","back","selector","template","routes","path","component","GroupJoinPageModule","imports","forChild","declarations"],"mappings":"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","file":"group-join-group-join-module-es5.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { DataService } from '../services/data.service';\nimport { ActivatedRoute } from '@angular/router';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { NavController } from '@ionic/angular';\nimport * as firebase from 'firebase/app';\n\n\n@Component({\n  selector: 'app-group-join',\n  templateUrl: './group-join.page.html',\n  styleUrls: ['./group-join.page.scss'],\n})\nexport class GroupJoinPage implements OnInit {\n  loggedInUser: any;\n  groupId: any;\n  group: any = {};\n  termsAgreed = false;\n\n  constructor(\n    private dataProvider: DataService,\n    private route: ActivatedRoute,\n    private firestore: AngularFirestore,\n    public navCtrl: NavController\n  ) {\n    this.groupId = this.route.snapshot.params.id;\n    this.dataProvider.getCurrentUser().then((u) => {\n      u.get().subscribe((u: any) => {\n        let user = u.data();\n        user.userId = firebase.default.auth().currentUser.uid;;\n        this.loggedInUser = user;\n      });\n    })\n  }\n\n  ngOnInit() {\n    this.getGroupData();\n  }\n\n  getGroupData() {\n    this.dataProvider.getGroup(this.groupId).snapshotChanges().subscribe((p: any) => {\n      let group = p.payload.data();\n      group.key = p.key;\n      this.group = group;\n    });\n  }\n\n  joinGroup() {\n    if (this.loggedInUser.groups) {\n      this.loggedInUser.groups.push(this.groupId);\n    } else {\n      this.loggedInUser.groups = [this.groupId];\n    }\n\n     // Update group data on the database.\n    this.dataProvider.getUser(this.loggedInUser.userId).update({\n      groups: this.loggedInUser.groups\n    }).then(() => {\n      // Add friend as members of the group.\n      this.group.members.push(firebase.default.auth().currentUser.uid);\n\n      // Update group data on the database.\n      this.dataProvider.getGroup(this.groupId).update({\n        members: this.group.members,\n        messages: this.group.messages\n      });\n    }).then(() => {\n      this.navCtrl.back();\n    });\n  }\n}\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Join Group</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-item lines=\\\"none\\\">\\n    <ion-row class=\\\"section\\\">\\n      <span class=\\\"heading\\\">Join {{group.name}}</span>\\n      <br>\\n      <span class=\\\"section-text\\\">Excitenly, you are about to join one of most interesting groups.</span>\\n    </ion-row>\\n  </ion-item>\\n  <ion-item lines=\\\"none\\\">\\n    <ion-row class=\\\"section\\\">\\n      <span class=\\\"heading kind\\\">Be kind</span>\\n      <br>\\n      <span class=\\\"section-text\\\">Be respectful of others and be kind. They are here to help you. If you believe someone is not behaving in the spirit, let us know.</span>\\n    </ion-row>\\n  </ion-item>\\n  <ion-item lines=\\\"none\\\">\\n    <ion-row class=\\\"section\\\">\\n      <span class=\\\"heading safe\\\">Be safe</span>\\n      <br>\\n      <span class=\\\"section-text\\\">Don't post your personal details like phone number, address etc in public posts.</span>\\n    </ion-row>\\n  </ion-item>\\n  <ion-item lines=\\\"none\\\">\\n  <ion-row class=\\\"section\\\">\\n    <span class=\\\"heading enjoy\\\">Enjoy</span>\\n    <br>\\n    <span class=\\\"section-text\\\">Remember, we are all in the same boat.</span>\\n  </ion-row>\\n</ion-item>\\n <ion-item lines=\\\"none\\\">\\n    <ion-row class=\\\"section\\\">\\n      <span class=\\\"heading last\\\">One last thing</span>\\n      <br>\\n      <span class=\\\"section-text\\\">To protect all members on the app we don't allow promoting, selling in our apps</span>\\n    </ion-row>\\n  </ion-item>\\n  <ion-item text-wrap lines=\\\"none\\\">\\n    <ion-row>\\n      <ion-col size=1>\\n    <ion-checkbox [(ngModel)]=\\\"termsAgreed\\\"></ion-checkbox>\\n  </ion-col>\\n    <ion-col  size=11>\\n    <ion-label text-wrap class=\\\"agree\\\">I agree to look out for and support other members on this group.</ion-label>\\n  </ion-col>\\n</ion-row>\\n</ion-item>\\n  <ion-item lines=\\\"none\\\">\\n  <ion-button color=\\\"secondary\\\" class=\\\"join ion-text-capitalize\\\" expand=\\\"block\\\" [disabled]=\\\"!termsAgreed\\\" (click)=\\\"joinGroup()\\\">Join &nbsp;<b>\\\"{{group.name}}\\\" </b>&nbsp; group</ion-button>\\n</ion-item>\\n</ion-content>\\n\";","export default \":host {\\n  --page-margin: var(--app-narrow-margin);\\n  --page-background: var(--app-background);\\n  --ion-font-family: \\\"HelveticaNeue\\\", \\\"Helvetica Neue\\\", Helvetica, \\\"Roboto\\\", \\\"Segoe UI\\\", Arial, sans-serif;\\n}\\n\\n.section {\\n  width: 100%;\\n}\\n\\n.section .heading {\\n  padding: var(--page-margin);\\n  padding-top: calc(var(--page-margin) * 2);\\n  font-family: \\\"HelveticaNeue\\\", \\\"Helvetica Neue\\\", Helvetica, \\\"Roboto\\\", \\\"Segoe UI\\\", Arial, sans-serif;\\n  font-weight: bold;\\n  font-size: 18px;\\n  line-height: 19px;\\n  -webkit-font-smoothing: subpixel-antialiased;\\n  -moz-osx-font-smoothing: auto;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  text-align: center;\\n  width: 100%;\\n}\\n\\n.section .kind {\\n  color: blue;\\n}\\n\\n.section .safe {\\n  color: orange;\\n}\\n\\n.section .enjoy {\\n  color: turquoise;\\n}\\n\\n.section .last {\\n  color: royalblue;\\n}\\n\\n.section .section-text {\\n  padding: var(--page-margin);\\n  font-family: \\\"HelveticaNeue\\\", \\\"Helvetica Neue\\\", Helvetica, \\\"Roboto\\\", \\\"Segoe UI\\\", Arial, sans-serif;\\n  font-weight: 400;\\n  font-size: 14px;\\n  line-height: 19px;\\n  -webkit-font-smoothing: subpixel-antialiased;\\n  -moz-osx-font-smoothing: auto;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  text-align: center;\\n}\\n\\n.agree {\\n  font-weight: bold;\\n}\\n\\n.join {\\n  width: 100%;\\n  height: 40px;\\n  font-family: \\\"HelveticaNeue\\\", \\\"Helvetica Neue\\\", Helvetica, \\\"Roboto\\\", \\\"Segoe UI\\\", Arial, sans-serif;\\n  font-weight: 400;\\n  font-size: 16px;\\n  text-align: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZ3JvdXAtam9pbi9ncm91cC1qb2luLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHVDQUFBO0VBQ0Esd0NBQUE7RUFDQSx3R0FBQTtBQUNKOztBQUVFO0VBQ0ksV0FBQTtBQUNOOztBQUNFO0VBQ0UsMkJBQUE7RUFDQSx5Q0FBQTtFQUNBLGtHQUFBO0VBQ0EsaUJBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7RUFDQSw0Q0FBQTtFQUNBLDZCQUFBO0VBQ0EsZ0JBQUE7RUFDQSx1QkFBQTtFQUNBLGtCQUFBO0VBQ0EsV0FBQTtBQUNKOztBQUVFO0VBQ0UsV0FBQTtBQUFKOztBQUdFO0VBQ0UsYUFBQTtBQURKOztBQUlFO0VBQ0UsZ0JBQUE7QUFGSjs7QUFLRTtFQUNFLGdCQUFBO0FBSEo7O0FBTUU7RUFDRSwyQkFBQTtFQUNBLGtHQUFBO0VBQ0EsZ0JBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7RUFDQSw0Q0FBQTtFQUNBLDZCQUFBO0VBQ0EsZ0JBQUE7RUFDQSx1QkFBQTtFQUNBLGtCQUFBO0FBSko7O0FBUUE7RUFDRSxpQkFBQTtBQUxGOztBQVFBO0VBQ0UsV0FBQTtFQUNBLFlBQUE7RUFDQSxrR0FBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLGtCQUFBO0FBTEYiLCJmaWxlIjoic3JjL2FwcC9ncm91cC1qb2luL2dyb3VwLWpvaW4ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xuICAgIC0tcGFnZS1tYXJnaW46IHZhcigtLWFwcC1uYXJyb3ctbWFyZ2luKTtcbiAgICAtLXBhZ2UtYmFja2dyb3VuZDogdmFyKC0tYXBwLWJhY2tncm91bmQpO1xuICAgIC0taW9uLWZvbnQtZmFtaWx5OiAnSGVsdmV0aWNhTmV1ZScsICdIZWx2ZXRpY2EgTmV1ZScsIEhlbHZldGljYSwgJ1JvYm90bycsICdTZWdvZSBVSScsIEFyaWFsLCBzYW5zLXNlcmlmO1xuICB9XG5cbiAgLnNlY3Rpb24ge1xuICAgICAgd2lkdGg6IDEwMCU7XG4gXG4gIC5oZWFkaW5nIHtcbiAgICBwYWRkaW5nOiB2YXIoLS1wYWdlLW1hcmdpbik7XG4gICAgcGFkZGluZy10b3A6IGNhbGModmFyKC0tcGFnZS1tYXJnaW4pICogMikgO1xuICAgIGZvbnQtZmFtaWx5OiAnSGVsdmV0aWNhTmV1ZScsICdIZWx2ZXRpY2EgTmV1ZScsIEhlbHZldGljYSwgJ1JvYm90bycsICdTZWdvZSBVSScsIEFyaWFsLCBzYW5zLXNlcmlmO1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICBsaW5lLWhlaWdodDogMTlweDtcbiAgICAtd2Via2l0LWZvbnQtc21vb3RoaW5nOiBzdWJwaXhlbC1hbnRpYWxpYXNlZDtcbiAgICAtbW96LW9zeC1mb250LXNtb290aGluZzogYXV0bztcbiAgICBvdmVyZmxvdzogaGlkZGVuOyBcbiAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgd2lkdGg6IDEwMCU7XG4gIH1cblxuICAua2luZCB7XG4gICAgY29sb3I6IGJsdWU7XG4gIH1cblxuICAuc2FmZSB7XG4gICAgY29sb3I6IG9yYW5nZTtcbiAgfVxuXG4gIC5lbmpveSB7XG4gICAgY29sb3I6IHR1cnF1b2lzZVxuICB9XG5cbiAgLmxhc3Qge1xuICAgIGNvbG9yOiByb3lhbGJsdWU7XG4gIH1cblxuICAuc2VjdGlvbi10ZXh0IHtcbiAgICBwYWRkaW5nOiB2YXIoLS1wYWdlLW1hcmdpbikgO1xuICAgIGZvbnQtZmFtaWx5OiAnSGVsdmV0aWNhTmV1ZScsICdIZWx2ZXRpY2EgTmV1ZScsIEhlbHZldGljYSwgJ1JvYm90bycsICdTZWdvZSBVSScsIEFyaWFsLCBzYW5zLXNlcmlmO1xuICAgIGZvbnQtd2VpZ2h0OiA0MDA7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIGxpbmUtaGVpZ2h0OiAxOXB4O1xuICAgIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IHN1YnBpeGVsLWFudGlhbGlhc2VkO1xuICAgIC1tb3otb3N4LWZvbnQtc21vb3RoaW5nOiBhdXRvO1xuICAgIG92ZXJmbG93OiBoaWRkZW47IFxuICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgfVxufVxuXG4uYWdyZWUge1xuICBmb250LXdlaWdodDogYm9sZDtcbn1cblxuLmpvaW4ge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiA0MHB4O1xuICBmb250LWZhbWlseTogJ0hlbHZldGljYU5ldWUnLCAnSGVsdmV0aWNhIE5ldWUnLCBIZWx2ZXRpY2EsICdSb2JvdG8nLCAnU2Vnb2UgVUknLCBBcmlhbCwgc2Fucy1zZXJpZjtcbiAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgZm9udC1zaXplOiAxNnB4O1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59Il19 */\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { GroupJoinPage } from './group-join.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: GroupJoinPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [GroupJoinPage]\n})\nexport class GroupJoinPageModule {}\n"]}