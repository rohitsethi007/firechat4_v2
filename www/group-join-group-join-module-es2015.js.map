{"version":3,"sources":["./src/app/group-join/group-join.page.ts","./src/app/group-join/group-join.page.html","./src/app/group-join/group-join.page.scss","./src/app/group-join/group-join.module.ts"],"names":[],"mappings":"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","file":"group-join-group-join-module-es2015.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { DataService } from '../services/data.service';\nimport { ActivatedRoute } from '@angular/router';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { NavController } from '@ionic/angular';\nimport * as firebase from 'firebase/app';\n\n\n@Component({\n  selector: 'app-group-join',\n  templateUrl: './group-join.page.html',\n  styleUrls: ['./group-join.page.scss'],\n})\nexport class GroupJoinPage implements OnInit {\n  loggedInUser: any;\n  groupId: any;\n  group: any = {};\n  termsAgreed = false;\n\n  constructor(\n    private dataProvider: DataService,\n    private route: ActivatedRoute,\n    private firestore: AngularFirestore,\n    public navCtrl: NavController\n  ) {\n    this.groupId = this.route.snapshot.params.id;\n    this.dataProvider.getCurrentUser().then((u) => {\n      u.get().subscribe((u: any) => {\n        let user = u.data();\n        user.userId = firebase.default.auth().currentUser.uid;;\n        this.loggedInUser = user;\n      });\n    })\n  }\n\n  ngOnInit() {\n    this.getGroupData();\n  }\n\n  getGroupData() {\n    this.dataProvider.getGroup(this.groupId).snapshotChanges().subscribe((p: any) => {\n      let group = p.payload.data();\n      group.key = p.key;\n      this.group = group;\n    });\n  }\n\n  joinGroup() {\n    if (this.loggedInUser.groups) {\n      this.loggedInUser.groups.push(this.groupId);\n    } else {\n      this.loggedInUser.groups = [this.groupId];\n    }\n\n     // Update group data on the database.\n    this.dataProvider.getUser(this.loggedInUser.userId).update({\n      groups: this.loggedInUser.groups\n    }).then(() => {\n      // Add friend as members of the group.\n      this.group.members.push(firebase.default.auth().currentUser.uid);\n\n      // Update group data on the database.\n      this.dataProvider.getGroup(this.groupId).update({\n        members: this.group.members,\n        messages: this.group.messages\n      });\n    }).then(() => {\n      this.navCtrl.back();\n    });\n  }\n}\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Join Group</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-item lines=\\\"none\\\">\\n    <ion-row class=\\\"section\\\">\\n      <span class=\\\"heading\\\">Join {{group.name}}</span>\\n      <br>\\n      <span class=\\\"section-text\\\">Excitenly, you are about to join one of most interesting groups.</span>\\n    </ion-row>\\n  </ion-item>\\n  <ion-item lines=\\\"none\\\">\\n    <ion-row class=\\\"section\\\">\\n      <span class=\\\"heading kind\\\">Be kind</span>\\n      <br>\\n      <span class=\\\"section-text\\\">Be respectful of others and be kind. They are here to help you. If you believe someone is not behaving in the spirit, let us know.</span>\\n    </ion-row>\\n  </ion-item>\\n  <ion-item lines=\\\"none\\\">\\n    <ion-row class=\\\"section\\\">\\n      <span class=\\\"heading safe\\\">Be safe</span>\\n      <br>\\n      <span class=\\\"section-text\\\">Don't post your personal details like phone number, address etc in public posts.</span>\\n    </ion-row>\\n  </ion-item>\\n  <ion-item lines=\\\"none\\\">\\n  <ion-row class=\\\"section\\\">\\n    <span class=\\\"heading enjoy\\\">Enjoy</span>\\n    <br>\\n    <span class=\\\"section-text\\\">Remember, we are all in the same boat.</span>\\n  </ion-row>\\n</ion-item>\\n <ion-item lines=\\\"none\\\">\\n    <ion-row class=\\\"section\\\">\\n      <span class=\\\"heading last\\\">One last thing</span>\\n      <br>\\n      <span class=\\\"section-text\\\">To protect all members on the app we don't allow promoting, selling in our apps</span>\\n    </ion-row>\\n  </ion-item>\\n  <ion-item text-wrap lines=\\\"none\\\">\\n    <ion-row>\\n      <ion-col size=1>\\n    <ion-checkbox [(ngModel)]=\\\"termsAgreed\\\"></ion-checkbox>\\n  </ion-col>\\n    <ion-col  size=11>\\n    <ion-label text-wrap class=\\\"agree\\\">I agree to look out for and support other members on this group.</ion-label>\\n  </ion-col>\\n</ion-row>\\n</ion-item>\\n  <ion-item lines=\\\"none\\\">\\n  <ion-button color=\\\"secondary\\\" class=\\\"join ion-text-capitalize\\\" expand=\\\"block\\\" [disabled]=\\\"!termsAgreed\\\" (click)=\\\"joinGroup()\\\">Join &nbsp;<b>\\\"{{group.name}}\\\" </b>&nbsp; group</ion-button>\\n</ion-item>\\n</ion-content>\\n\";","export default \":host {\\n  --page-margin: var(--app-narrow-margin);\\n  --page-background: var(--app-background);\\n  --ion-font-family: \\\"HelveticaNeue\\\", \\\"Helvetica Neue\\\", Helvetica, \\\"Roboto\\\", \\\"Segoe UI\\\", Arial, sans-serif;\\n}\\n\\n.section {\\n  width: 100%;\\n}\\n\\n.section .heading {\\n  padding: var(--page-margin);\\n  padding-top: calc(var(--page-margin) * 2);\\n  font-family: \\\"HelveticaNeue\\\", \\\"Helvetica Neue\\\", Helvetica, \\\"Roboto\\\", \\\"Segoe UI\\\", Arial, sans-serif;\\n  font-weight: bold;\\n  font-size: 18px;\\n  line-height: 19px;\\n  -webkit-font-smoothing: subpixel-antialiased;\\n  -moz-osx-font-smoothing: auto;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  text-align: center;\\n  width: 100%;\\n}\\n\\n.section .kind {\\n  color: blue;\\n}\\n\\n.section .safe {\\n  color: orange;\\n}\\n\\n.section .enjoy {\\n  color: turquoise;\\n}\\n\\n.section .last {\\n  color: royalblue;\\n}\\n\\n.section .section-text {\\n  padding: var(--page-margin);\\n  font-family: \\\"HelveticaNeue\\\", \\\"Helvetica Neue\\\", Helvetica, \\\"Roboto\\\", \\\"Segoe UI\\\", Arial, sans-serif;\\n  font-weight: 400;\\n  font-size: 14px;\\n  line-height: 19px;\\n  -webkit-font-smoothing: subpixel-antialiased;\\n  -moz-osx-font-smoothing: auto;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  text-align: center;\\n}\\n\\n.agree {\\n  font-weight: bold;\\n}\\n\\n.join {\\n  width: 100%;\\n  height: 40px;\\n  font-family: \\\"HelveticaNeue\\\", \\\"Helvetica Neue\\\", Helvetica, \\\"Roboto\\\", \\\"Segoe UI\\\", Arial, sans-serif;\\n  font-weight: 400;\\n  font-size: 16px;\\n  text-align: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZ3JvdXAtam9pbi9ncm91cC1qb2luLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHVDQUFBO0VBQ0Esd0NBQUE7RUFDQSx3R0FBQTtBQUNKOztBQUVFO0VBQ0ksV0FBQTtBQUNOOztBQUNFO0VBQ0UsMkJBQUE7RUFDQSx5Q0FBQTtFQUNBLGtHQUFBO0VBQ0EsaUJBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7RUFDQSw0Q0FBQTtFQUNBLDZCQUFBO0VBQ0EsZ0JBQUE7RUFDQSx1QkFBQTtFQUNBLGtCQUFBO0VBQ0EsV0FBQTtBQUNKOztBQUVFO0VBQ0UsV0FBQTtBQUFKOztBQUdFO0VBQ0UsYUFBQTtBQURKOztBQUlFO0VBQ0UsZ0JBQUE7QUFGSjs7QUFLRTtFQUNFLGdCQUFBO0FBSEo7O0FBTUU7RUFDRSwyQkFBQTtFQUNBLGtHQUFBO0VBQ0EsZ0JBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7RUFDQSw0Q0FBQTtFQUNBLDZCQUFBO0VBQ0EsZ0JBQUE7RUFDQSx1QkFBQTtFQUNBLGtCQUFBO0FBSko7O0FBUUE7RUFDRSxpQkFBQTtBQUxGOztBQVFBO0VBQ0UsV0FBQTtFQUNBLFlBQUE7RUFDQSxrR0FBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLGtCQUFBO0FBTEYiLCJmaWxlIjoic3JjL2FwcC9ncm91cC1qb2luL2dyb3VwLWpvaW4ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xuICAgIC0tcGFnZS1tYXJnaW46IHZhcigtLWFwcC1uYXJyb3ctbWFyZ2luKTtcbiAgICAtLXBhZ2UtYmFja2dyb3VuZDogdmFyKC0tYXBwLWJhY2tncm91bmQpO1xuICAgIC0taW9uLWZvbnQtZmFtaWx5OiAnSGVsdmV0aWNhTmV1ZScsICdIZWx2ZXRpY2EgTmV1ZScsIEhlbHZldGljYSwgJ1JvYm90bycsICdTZWdvZSBVSScsIEFyaWFsLCBzYW5zLXNlcmlmO1xuICB9XG5cbiAgLnNlY3Rpb24ge1xuICAgICAgd2lkdGg6IDEwMCU7XG4gXG4gIC5oZWFkaW5nIHtcbiAgICBwYWRkaW5nOiB2YXIoLS1wYWdlLW1hcmdpbik7XG4gICAgcGFkZGluZy10b3A6IGNhbGModmFyKC0tcGFnZS1tYXJnaW4pICogMikgO1xuICAgIGZvbnQtZmFtaWx5OiAnSGVsdmV0aWNhTmV1ZScsICdIZWx2ZXRpY2EgTmV1ZScsIEhlbHZldGljYSwgJ1JvYm90bycsICdTZWdvZSBVSScsIEFyaWFsLCBzYW5zLXNlcmlmO1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICBsaW5lLWhlaWdodDogMTlweDtcbiAgICAtd2Via2l0LWZvbnQtc21vb3RoaW5nOiBzdWJwaXhlbC1hbnRpYWxpYXNlZDtcbiAgICAtbW96LW9zeC1mb250LXNtb290aGluZzogYXV0bztcbiAgICBvdmVyZmxvdzogaGlkZGVuOyBcbiAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgd2lkdGg6IDEwMCU7XG4gIH1cblxuICAua2luZCB7XG4gICAgY29sb3I6IGJsdWU7XG4gIH1cblxuICAuc2FmZSB7XG4gICAgY29sb3I6IG9yYW5nZTtcbiAgfVxuXG4gIC5lbmpveSB7XG4gICAgY29sb3I6IHR1cnF1b2lzZVxuICB9XG5cbiAgLmxhc3Qge1xuICAgIGNvbG9yOiByb3lhbGJsdWU7XG4gIH1cblxuICAuc2VjdGlvbi10ZXh0IHtcbiAgICBwYWRkaW5nOiB2YXIoLS1wYWdlLW1hcmdpbikgO1xuICAgIGZvbnQtZmFtaWx5OiAnSGVsdmV0aWNhTmV1ZScsICdIZWx2ZXRpY2EgTmV1ZScsIEhlbHZldGljYSwgJ1JvYm90bycsICdTZWdvZSBVSScsIEFyaWFsLCBzYW5zLXNlcmlmO1xuICAgIGZvbnQtd2VpZ2h0OiA0MDA7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIGxpbmUtaGVpZ2h0OiAxOXB4O1xuICAgIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IHN1YnBpeGVsLWFudGlhbGlhc2VkO1xuICAgIC1tb3otb3N4LWZvbnQtc21vb3RoaW5nOiBhdXRvO1xuICAgIG92ZXJmbG93OiBoaWRkZW47IFxuICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgfVxufVxuXG4uYWdyZWUge1xuICBmb250LXdlaWdodDogYm9sZDtcbn1cblxuLmpvaW4ge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiA0MHB4O1xuICBmb250LWZhbWlseTogJ0hlbHZldGljYU5ldWUnLCAnSGVsdmV0aWNhIE5ldWUnLCBIZWx2ZXRpY2EsICdSb2JvdG8nLCAnU2Vnb2UgVUknLCBBcmlhbCwgc2Fucy1zZXJpZjtcbiAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgZm9udC1zaXplOiAxNnB4O1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59Il19 */\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { GroupJoinPage } from './group-join.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: GroupJoinPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [GroupJoinPage]\n})\nexport class GroupJoinPageModule {}\n"],"sourceRoot":"webpack:///"}