{"version":3,"sources":["./src/app/services/login.service.ts","./src/environments/validator.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAA2C;AACU;AACQ;AACzB;AAES;AACM;AACT;AAEiB;AACL;AAEU;AACvB;AACA;AAKzC,IAAa,YAAY,GAAzB,MAAa,YAAY;IAEvB,YACU,MAAuB,EACvB,IAAyB,EACzB,WAAwB,EACxB,eAA+B,EAC/B,QAAkB,EAClB,KAAiB,EACjB,QAAkB,EAClB,MAAc,EACd,OAAgB;QARhB,WAAM,GAAN,MAAM,CAAiB;QACvB,SAAI,GAAJ,IAAI,CAAqB;QACzB,gBAAW,GAAX,WAAW,CAAa;QACxB,oBAAe,GAAf,eAAe,CAAgB;QAC/B,aAAQ,GAAR,QAAQ,CAAU;QAClB,UAAK,GAAL,KAAK,CAAY;QACjB,aAAQ,GAAR,QAAQ,CAAU;QAClB,WAAM,GAAN,MAAM,CAAQ;QACd,YAAO,GAAP,OAAO,CAAS;IACtB,CAAC;IAEL,KAAK,CAAC,KAAK,EAAE,QAAQ;QACnB,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE,CAAC;QAC5B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,0BAA0B,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE;YACxE,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,OAAO,CAAC,GAAG,CAAC,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,YAAY,CAAC,CAAC;YAC1D,6CAA6C;YAC7C,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE,CAAC;QAC9B,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE;YACb,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE,CAAC;YAC5B,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC;QAC7C,CAAC,CAAC,CAAC;IACL,CAAC;IAED,QAAQ,CAAC,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG;QAC3C,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE,CAAC;QAC5B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,8BAA8B,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE;YAC5E,IAAI,IAAI,GAAQ,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC;YAC7C,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE,CAAC;YAC5B,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,CAAC,KAAK,EAAE,gBAAgB,EAAE,UAAU,EAAE,GAAG,CAAC,CAAC;QAC9F,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE;YACb,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE,CAAC;YAC5B,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QAC9C,CAAC,CAAC;IACJ,CAAC;IAED,KAAK,CAAC,KAAK;QACT,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QACnB,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE,CAAC;QAC5B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,sBAAsB,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE;YACvD,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE,CAAC;YAC5B,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,yBAAyB,CAAC,CAAC;QAC5D,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE;YACb,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE,CAAC;YAC5B,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QAC9C,CAAC,CAAC;IACJ,CAAC;IAED,OAAO;QACL,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC,EAAE;YAC/B,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE,CAAC;YAC5B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,iDAAI,CAAC,oBAAoB,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,GAAQ,EAAE,EAAE;gBAClF,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE,CAAC;gBAC5B,IAAI,UAAU,GAAG,iDAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,GAAG,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC;gBAClF,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE;oBAC1D,IAAI,GAAG,CAAC,kBAAkB,CAAC,SAAS,EAAE;wBACpC,IAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC;wBAC3C,IAAI,QAAQ,GAAG,GAAG,CAAC,kBAAkB,CAAC,OAAO,CAAC;wBAC9C,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,QAAQ,CAAC,IAAI,EAAE,GAAG,EAAE,QAAQ,CAAC,KAAK,EAAE,WAAW,EAAE,UAAU,EAAE,QAAQ,CAAC,OAAO,CAAC,CAAC;qBACxG;yBACI;wBACH,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;qBACnC;gBACH,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;YAEpC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE;gBACb,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC;gBAChB,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE,CAAC;YAC9B,CAAC,CAAC;SACH;aACI;YACH,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,gBAAgB,EAAE,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;gBAC1D,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gBACjB,IAAI,UAAU,GAAG,iDAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,GAAG,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC;gBACpF,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE,CAAC;gBAC5B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE;oBAC7D,IAAI,GAAG,CAAC,kBAAkB,CAAC,SAAS,EAAE;wBACpC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,+CAA+C,EAAE,CAAC,gBAAgB,EAAE,OAAO,CAAC,CAAC;6BAC5F,IAAI,CAAC,IAAI,CAAC,EAAE;4BACX,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC;4BACjB,IAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC;4BAC3C,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,IAAI,CAAC,UAAU,EAAE,GAAG,EAAE,IAAI,CAAC,KAAK,EAAE,gBAAgB,EAAE,UAAU,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;wBACjH,CAAC,CAAC;6BACD,KAAK,CAAC,GAAG,CAAC,EAAE;4BACX,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;4BACjB,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE,CAAC;wBAC9B,CAAC,CAAC;qBACL;yBACI;wBACH,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,MAAM,CAAC;qBAClC;gBACH,CAAC,CAAC;qBACC,KAAK,CAAC,CAAC,KAAK,EAAE,EAAE;oBACf,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE,CAAC;gBAC9B,CAAC,CAAC,CAAC;YAEP,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;SACnC;IACH,CAAC;IAED,MAAM;QACJ,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC,EAAE;YAC/B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,iDAAI,CAAC,kBAAkB,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,GAAQ,EAAE,EAAE;gBAChF,IAAI,UAAU,GAAG,iDAAI,CAAC,kBAAkB,CAAC,UAAU,CAAC,GAAG,CAAC,UAAU,CAAC,OAAO,EAAE,GAAG,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC;gBACxG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE;oBAC1D,IAAI,GAAG,CAAC,kBAAkB,CAAC,SAAS,EAAE;wBACpC,IAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC;wBAC3C,IAAI,QAAQ,GAAG,GAAG,CAAC,kBAAkB,CAAC,OAAO,CAAC;wBAC9C,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,QAAQ,CAAC,IAAI,EAAE,GAAG,EAAE,QAAQ,CAAC,KAAK,EAAE,WAAW,EAAE,QAAQ,EAAE,QAAQ,CAAC,OAAO,CAAC,CAAC;qBACtG;yBAAM;wBACL,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;qBACnC;gBACH,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,EAAE,EAAE;oBACf,OAAO,CAAC,GAAG,CAAC,2BAA2B,GAAG,GAAG,CAAC;gBAChD,CAAC,CAAC;YACJ,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE;gBACb,OAAO,CAAC,GAAG,CAAC,2BAA2B,GAAG,GAAG,CAAC,CAAC;YACjD,CAAC,CAAC;SACH;aACI;YACH,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;gBACf,WAAW,EAAE,8EAAW,CAAC,cAAc;aACxC,CAAC,CAAC,IAAI,CAAC,CAAC,MAAW,EAAE,EAAE;gBACtB,IAAI,UAAU,GAAG,iDAAI,CAAC,kBAAkB,CAAC,UAAU,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,IAAI,CAAC,CAAC;gBAC3E,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,CAAC,GAAQ,EAAE,EAAE;oBAClE,IAAI,GAAG,CAAC,kBAAkB,CAAC,SAAS,EAAE;wBACpC,IAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC;wBAC3C,IAAI,QAAQ,GAAG,GAAG,CAAC,kBAAkB,CAAC,OAAO,CAAC;wBAC9C,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,QAAQ,CAAC,IAAI,EAAE,GAAG,EAAE,QAAQ,CAAC,KAAK,EAAE,WAAW,EAAE,QAAQ,EAAE,QAAQ,CAAC,OAAO,CAAC,CAAC;qBACtG;yBACI;wBACH,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;qBACnC;gBACH,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,EAAE,EAAE;oBACf,OAAO,CAAC,GAAG,CAAC,2BAA2B,GAAG,GAAG,CAAC;gBAChD,CAAC,CAAC;YACJ,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,EAAE,EAAE;gBACf,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACnB,CAAC,CAAC;SACH;IACH,CAAC;IAED,aAAa,CAAC,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,GAAG,eAAe,EAAE,QAAQ,EAAE,GAAG,GAAG,gCAAgC;QAC1H,IAAI,WAAW,GAAG,IAAI,IAAI,EAAE,CAAC;QAC7B,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,GAAG,MAAM,CAAC,CAAC,MAAM,CAAC;YAC7C,WAAW,EAAE,QAAQ,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,WAAW,EAAE,QAAQ,EAAE,GAAG;SACvE,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE;YACX,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;QACpC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,MAAM;QACJ,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,QAAQ,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;QACjG,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;IACvB,CAAC;CACF;;YA7JmB,kEAAe;YACjB,0EAAmB;YACZ,yDAAW;YACP,+DAAc;YACrB,uDAAQ;YACX,wEAAU;YACP,mEAAQ;YACV,uDAAM;YACL,uDAAO;;AAXf,YAAY;IAHxB,gEAAU,CAAC;QACV,UAAU,EAAE,MAAM;KACnB,CAAC;2EAIkB,kEAAe;QACjB,0EAAmB;QACZ,yDAAW;QACP,+DAAc;QACrB,uDAAQ;QACX,wEAAU;QACP,mEAAQ;QACV,uDAAM;QACL,uDAAO;GAXf,YAAY,CAgKxB;AAhKwB;;;;;;;;;;;;;;;;;;ACnBmB;AAErC,IAAU,SAAS,CAqEzB;AArED,WAAiB,SAAS;IAET,wBAAc,GAAG,CAAC,EAAE,EAAE;YAC/B,yDAAU,CAAC,QAAQ;YACnB,yDAAU,CAAC,OAAO,CAAC,qEAAqE,CAAC;SAAC;KAC7F,CAAC;IAEW,2BAAiB,GAAG,CAAC,EAAE,EAAE;YAClC,yDAAU,CAAC,QAAQ,EAAE,yDAAU,CAAC,SAAS,CAAC,CAAC,CAAC;SAC/C,CAAC;IAEW,uBAAa,GAAG,CAAC,EAAE,EAAE;YAC9B,yDAAU,CAAC,QAAQ;SACtB,CAAC;IAEW,2BAAiB,GAAG,CAAC,EAAE,EAAE;YAClC,yDAAU,CAAC,QAAQ;YACnB,yDAAU,CAAC,SAAS,CAAC,CAAC,CAAC;SAC1B,CAAC;IAEW,sBAAY,GAAG,CAAC,EAAE,EAAE;YAC7B,yDAAU,CAAC,QAAQ;SACtB,CAAC;IAEW,4BAAkB,GAAG,CAAC,EAAE,EAAE;YACnC,yDAAU,CAAC,QAAQ;SACtB,CAAC;IAEW,mCAAyB,GAAG,CAAC,EAAE,EAAE;YAC1C,yDAAU,CAAC,QAAQ;SACtB,CAAC;IAEW,4BAAkB,GAAG,CAAC,EAAE,EAAE;YACnC,yDAAU,CAAC,QAAQ;SACtB,CAAC;IAEW,uBAAa,GAAG;QACzB,KAAK,EAAE;YACH,EAAE,IAAI,EAAE,UAAU,EAAE,OAAO,EAAE,mBAAmB,EAAE;YAClD,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,0BAA0B,EAAE;SAC3D;QACD,QAAQ,EAAE;YACN,EAAE,IAAI,EAAE,UAAU,EAAE,OAAO,EAAE,sBAAsB,EAAE;YACrD,EAAE,IAAI,EAAE,WAAW,EAAE,OAAO,EAAE,yBAAyB,EAAE;SAC5D;QACD,IAAI,EAAE;YACF,EAAE,IAAI,EAAE,UAAU,EAAE,OAAO,EAAE,kBAAkB,EAAE;SACpD;QACD,QAAQ,EAAE;YACN,EAAE,IAAI,EAAE,UAAU,EAAE,OAAO,EAAE,sBAAsB,EAAE;YACrD,EAAE,IAAI,EAAE,WAAW,EAAE,OAAO,EAAE,yBAAyB,EAAE;SAC5D;QACD,GAAG,EAAE;YACD,EAAE,IAAI,EAAE,UAAU,EAAE,OAAO,EAAE,iBAAiB,EAAE;SACnD;QACD,SAAS,EAAE;YACP,EAAE,IAAI,EAAE,UAAU,EAAE,OAAO,EAAE,wBAAwB,EAAE;SAC1D;QACD,gBAAgB,EAAE;YACd,EAAE,IAAI,EAAE,UAAU,EAAE,OAAO,EAAE,+BAA+B,EAAE;SACjE;KAEJ;IAEJ,uBAAuB;IACT,2BAAiB,GAAG,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,QAAQ,EAAE,yDAAU,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACzE,kCAAwB,GAAG,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,QAAQ,EAAE,yDAAU,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAChF,8BAAoB,GAAG,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,QAAQ,EAAE,yDAAU,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC5E,8BAAoB,GAAG,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,QAAQ,EAAE,yDAAU,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC3F,CAAC,EArEgB,SAAS,KAAT,SAAS,QAqEzB","file":"default~forgot-forgot-module~login-login-module~profile-profile-module~register-register-module-es2015.js","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { AngularFireAuth } from '@angular/fire/auth';\r\nimport { AngularFireDatabase } from '@angular/fire/database';\r\nimport { auth } from 'firebase/app';\r\n\r\nimport { DataService } from './data.service';\r\nimport { LoadingService } from './loading.service';\r\nimport { Platform } from '@ionic/angular';\r\n\r\nimport { GooglePlus } from '@ionic-native/google-plus/ngx';\r\nimport { Facebook } from '@ionic-native/facebook/ngx';\r\n\r\nimport { environment } from 'src/environments/environment.prod';\r\nimport { Router } from '@angular/router';\r\nimport { Storage } from '@ionic/storage';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LoginService {\r\n\r\n  constructor(\r\n    private afAuth: AngularFireAuth,\r\n    private afdb: AngularFireDatabase,\r\n    private dataService: DataService,\r\n    private loadingProvider: LoadingService,\r\n    private platform: Platform,\r\n    private gplus: GooglePlus,\r\n    private facebook: Facebook,\r\n    private router: Router,\r\n    private storage: Storage\r\n  ) { }\r\n\r\n  login(email, password) {\r\n    this.loadingProvider.show();\r\n    this.afAuth.auth.signInWithEmailAndPassword(email, password).then((res) => {\r\n      console.log(res);\r\n      console.log(\"******* \" + this.afAuth.user + \" *********\");\r\n      //this.dataService.getUser(this.afAuth.user.)\r\n      this.loadingProvider.hide();\r\n    }).catch(err => {\r\n      console.log(err);\r\n      this.loadingProvider.hide();\r\n      this.loadingProvider.showToast(err.message)\r\n    });\r\n  }\r\n\r\n  register(name, username, email, password, img) {\r\n    this.loadingProvider.show();\r\n    this.afAuth.auth.createUserWithEmailAndPassword(email, password).then((res) => {\r\n      let user: any = this.afAuth.auth.currentUser;\r\n      this.loadingProvider.hide();\r\n      this.createNewUser(user.uid, name, username, user.email, \"I am available\", \"Firebase\", img);\r\n    }).catch(err => {\r\n      console.log(err);\r\n      this.loadingProvider.hide();\r\n      this.loadingProvider.showToast(err.message);\r\n    })\r\n  }\r\n\r\n  reset(email) {\r\n    console.log(email);\r\n    this.loadingProvider.show();\r\n    this.afAuth.auth.sendPasswordResetEmail(email).then(() => {\r\n      this.loadingProvider.hide();\r\n      this.loadingProvider.showToast(\"Please Check your inbox\");\r\n    }).catch(err => {\r\n      this.loadingProvider.hide();\r\n      this.loadingProvider.showToast(err.message);\r\n    })\r\n  }\r\n\r\n  fbLogin() {\r\n    if (this.platform.is('desktop')) {\r\n      this.loadingProvider.show();\r\n      this.afAuth.auth.signInWithPopup(new auth.FacebookAuthProvider()).then((res: any) => {\r\n        this.loadingProvider.hide();\r\n        let credential = auth.FacebookAuthProvider.credential(res.credential.accessToken);\r\n        this.afAuth.auth.signInWithCredential(credential).then(() => {\r\n          if (res.additionalUserInfo.isNewUser) {\r\n            let uid = this.afAuth.auth.currentUser.uid;\r\n            let userInfo = res.additionalUserInfo.profile;\r\n            this.createNewUser(uid, userInfo.name, uid, userInfo.email, 'Available', 'Facebook', userInfo.picture);\r\n          }\r\n          else {\r\n            this.router.navigateByUrl('tabs');\r\n          }\r\n        }).catch(err => console.log(err));\r\n\r\n      }).catch(err => {\r\n        console.log(err)\r\n        this.loadingProvider.hide();\r\n      })\r\n    }\r\n    else {\r\n      this.facebook.login(['public_profile', 'email']).then(res => {\r\n        console.log(res);\r\n        let credential = auth.FacebookAuthProvider.credential(res.authResponse.accessToken);\r\n        this.loadingProvider.show();\r\n        this.afAuth.auth.signInWithCredential(credential).then((res) => {\r\n          if (res.additionalUserInfo.isNewUser) {\r\n            this.facebook.api(\"me/?fields=id,email,first_name,picture,gender\", [\"public_profile\", \"email\"])\r\n              .then(data => {\r\n                console.log(data)\r\n                let uid = this.afAuth.auth.currentUser.uid;\r\n                this.createNewUser(uid, data.first_name, uid, data.email, 'I am available', 'Facebook', data.picture.data.url);\r\n              })\r\n              .catch(err => {\r\n                console.log(err);\r\n                this.loadingProvider.hide();\r\n              })\r\n          }\r\n          else {\r\n            this.router.navigateByUrl('tabs')\r\n          }\r\n        })\r\n          .catch((error) => {\r\n            this.loadingProvider.hide();\r\n          });\r\n\r\n      }).catch(err => console.log(err));\r\n    }\r\n  }\r\n\r\n  gLogin() {\r\n    if (this.platform.is('desktop')) {\r\n      this.afAuth.auth.signInWithPopup(new auth.GoogleAuthProvider()).then((res: any) => {\r\n        let credential = auth.GoogleAuthProvider.credential(res.credential.idToken, res.credential.accessToken);\r\n        this.afAuth.auth.signInWithCredential(credential).then(() => {\r\n          if (res.additionalUserInfo.isNewUser) {\r\n            let uid = this.afAuth.auth.currentUser.uid;\r\n            let userInfo = res.additionalUserInfo.profile;\r\n            this.createNewUser(uid, userInfo.name, uid, userInfo.email, 'Available', 'Google', userInfo.picture);\r\n          } else {\r\n            this.router.navigateByUrl('tabs');\r\n          }\r\n        }).catch((err) => {\r\n          console.log(\"Err! signInWithCredential\" + err)\r\n        })\r\n      }).catch(err => {\r\n        console.log('Err! signInWithCredential' + err);\r\n      })\r\n    }\r\n    else {\r\n      this.gplus.login({\r\n        webClientId: environment.googleClientId\r\n      }).then((result: any) => {\r\n        let credential = auth.GoogleAuthProvider.credential(result['token'], null);\r\n        this.afAuth.auth.signInWithCredential(credential).then((res: any) => {\r\n          if (res.additionalUserInfo.isNewUser) {\r\n            let uid = this.afAuth.auth.currentUser.uid;\r\n            let userInfo = res.additionalUserInfo.profile;\r\n            this.createNewUser(uid, userInfo.name, uid, userInfo.email, 'Available', 'Google', userInfo.picture);\r\n          }\r\n          else {\r\n            this.router.navigateByUrl('tabs');\r\n          }\r\n        }).catch((err) => {\r\n          console.log(\"Err! signInWithCredential\" + err)\r\n        })\r\n      }).catch((err) => {\r\n        console.log(err);\r\n      })\r\n    }\r\n  }\r\n\r\n  createNewUser(userId, name, username, email, description = \"I'm available\", provider, img = \"./assets/images/default-dp.png\") {\r\n    let dateCreated = new Date();\r\n    this.afdb.object('/accounts/' + userId).update({\r\n      dateCreated, username, name, userId, email, description, provider, img\r\n    }).then(() => {\r\n      this.router.navigateByUrl('tabs');\r\n    });\r\n  }\r\n\r\n  logout() {\r\n    this.afAuth.auth.signOut().then(() => this.router.navigateByUrl('/login', { replaceUrl: true }));\r\n    this.storage.clear();\r\n  }\r\n}\r\n","import { Validators } from '@angular/forms';\r\n\r\nexport namespace Validator {\r\n\r\n    export const emailValidator = ['', [\r\n        Validators.required,\r\n        Validators.pattern('^[a-z0-9]+(\\.[_a-z0-9]+)*@[a-z0-9-]+(\\.[a-z0-9-]+)*(\\.[a-z]{2,15})$')]\r\n    ];\r\n\r\n    export const passwordValidator = ['', [\r\n        Validators.required, Validators.minLength(6)\r\n    ]]\r\n\r\n    export const nameValidator = ['', [\r\n        Validators.required,\r\n    ]]\r\n\r\n    export const usernameValidator = ['', [\r\n        Validators.required,\r\n        Validators.minLength(5)\r\n    ]]\r\n\r\n    export const bioValidator = ['', [\r\n        Validators.required,\r\n    ]]\r\n\r\n    export const groupNameValidator = ['', [\r\n        Validators.required,\r\n    ]]\r\n\r\n    export const groupDescriptionValidator = ['', [\r\n        Validators.required,\r\n    ]]\r\n\r\n    export const groupTagsValidator = ['', [\r\n        Validators.required,\r\n    ]]\r\n\r\n    export const errorMessages = {\r\n        email: [\r\n            { type: 'required', message: 'Email is required' },\r\n            { type: 'pattern', message: 'Email looks like invalid' },\r\n        ],\r\n        password: [\r\n            { type: 'required', message: 'Password is required' },\r\n            { type: 'minlength', message: 'Password must be 6 char' },\r\n        ],\r\n        name: [\r\n            { type: 'required', message: 'Name is required' },\r\n        ],\r\n        username: [\r\n            { type: 'required', message: 'Username is required' },\r\n            { type: 'minlength', message: 'Username must be 5 char' },\r\n        ],\r\n        bio: [\r\n            { type: 'required', message: 'Bio is required' },\r\n        ],\r\n        groupName: [\r\n            { type: 'required', message: 'Group Name is required' },\r\n        ],\r\n        groupDescription: [\r\n            { type: 'required', message: 'Group Description is required' },\r\n        ],\r\n\r\n    }\r\n\t\r\n\t// Poll Form Validators\r\n  export const pollNameValidator = ['', [Validators.required, Validators.minLength(1)]];\r\n  export const pollDescriptionValidator = ['', [Validators.required, Validators.minLength(1)]];\r\n  export const pollOption1Validator = ['', [Validators.required, Validators.minLength(1)]];\r\n  export const pollOption2Validator = ['', [Validators.required, Validators.minLength(1)]];\r\n}"],"sourceRoot":"webpack:///"}