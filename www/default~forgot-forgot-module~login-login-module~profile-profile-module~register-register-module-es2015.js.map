{"version":3,"sources":["./src/app/services/login.service.ts","./src/environments/validator.ts"],"names":[],"mappings":"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","file":"default~forgot-forgot-module~login-login-module~profile-profile-module~register-register-module-es2015.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { auth } from 'firebase/app';\n\nimport { DataService } from './data.service';\nimport { LoadingService } from './loading.service';\nimport { Platform } from '@ionic/angular';\n\nimport { GooglePlus } from '@ionic-native/google-plus/ngx';\nimport { Facebook } from '@ionic-native/facebook/ngx';\n\nimport { environment } from 'src/environments/environment.prod';\nimport { Router } from '@angular/router';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LoginService {\n\n  constructor(\n    private afAuth: AngularFireAuth,\n    private firestore: AngularFirestore,\n    private dataService: DataService,\n    private loadingProvider: LoadingService,\n    private platform: Platform,\n    private gplus: GooglePlus,\n    private facebook: Facebook,\n    private router: Router\n  ) { }\n\n  login(email, password) {\n    this.loadingProvider.show();\n    this.afAuth.auth.signInWithEmailAndPassword(email, password).then((res) => {\n      console.log(res);\n      console.log(\"******* \" + this.afAuth.user + \" *********\");\n      //this.dataService.getUser(this.afAuth.user.)\n      this.loadingProvider.hide();\n    }).catch(err => {\n      console.log(err);\n      this.loadingProvider.hide();\n      this.loadingProvider.showToast(err.message)\n    });\n  }\n\n  register(name, username, email, password, img) {\n    this.loadingProvider.show();\n    this.afAuth.auth.createUserWithEmailAndPassword(email, password).then((res) => {\n      let user: any = this.afAuth.auth.currentUser;\n      this.loadingProvider.hide();\n      this.createNewUser(user.uid, name, username, user.email, \"I am available\", \"Firebase\", img);\n    }).catch(err => {\n      console.log(err);\n      this.loadingProvider.hide();\n      this.loadingProvider.showToast(err.message);\n    })\n  }\n\n  reset(email) {\n    console.log(email);\n    this.loadingProvider.show();\n    this.afAuth.auth.sendPasswordResetEmail(email).then(() => {\n      this.loadingProvider.hide();\n      this.loadingProvider.showToast(\"Please Check your inbox\");\n    }).catch(err => {\n      this.loadingProvider.hide();\n      this.loadingProvider.showToast(err.message);\n    })\n  }\n\n  fbLogin() {\n    if (this.platform.is('desktop')) {\n      this.loadingProvider.show();\n      this.afAuth.auth.signInWithPopup(new auth.FacebookAuthProvider()).then((res: any) => {\n        this.loadingProvider.hide();\n        let credential = auth.FacebookAuthProvider.credential(res.credential.accessToken);\n        this.afAuth.auth.signInWithCredential(credential).then(() => {\n          if (res.additionalUserInfo.isNewUser) {\n            let uid = this.afAuth.auth.currentUser.uid;\n            let userInfo = res.additionalUserInfo.profile;\n            this.createNewUser(uid, userInfo.name, uid, userInfo.email, 'Available', 'Facebook', userInfo.picture);\n          }\n          else {\n            this.router.navigateByUrl('tabs');\n          }\n        }).catch(err => console.log(err));\n\n      }).catch(err => {\n        console.log(err)\n        this.loadingProvider.hide();\n      })\n    }\n    else {\n      this.facebook.login(['public_profile', 'email']).then(res => {\n        console.log(res);\n        let credential = auth.FacebookAuthProvider.credential(res.authResponse.accessToken);\n        this.loadingProvider.show();\n        this.afAuth.auth.signInWithCredential(credential).then((res) => {\n          if (res.additionalUserInfo.isNewUser) {\n            this.facebook.api(\"me/?fields=id,email,first_name,picture,gender\", [\"public_profile\", \"email\"])\n              .then(data => {\n                console.log(data)\n                let uid = this.afAuth.auth.currentUser.uid;\n                this.createNewUser(uid, data.first_name, uid, data.email, 'I am available', 'Facebook', data.picture.data.url);\n              })\n              .catch(err => {\n                console.log(err);\n                this.loadingProvider.hide();\n              })\n          }\n          else {\n            this.router.navigateByUrl('tabs')\n          }\n        })\n          .catch((error) => {\n            this.loadingProvider.hide();\n          });\n\n      }).catch(err => console.log(err));\n    }\n  }\n\n  gLogin() {\n    if (this.platform.is('desktop')) {\n      this.afAuth.auth.signInWithPopup(new auth.GoogleAuthProvider()).then((res: any) => {\n        let credential = auth.GoogleAuthProvider.credential(res.credential.idToken, res.credential.accessToken);\n        this.afAuth.auth.signInWithCredential(credential).then(() => {\n          if (res.additionalUserInfo.isNewUser) {\n            let uid = this.afAuth.auth.currentUser.uid;\n            let userInfo = res.additionalUserInfo.profile;\n            this.createNewUser(uid, userInfo.name, uid, userInfo.email, 'Available', 'Google', userInfo.picture);\n          } else {\n            this.router.navigateByUrl('tabs');\n          }\n        }).catch((err) => {\n          console.log(\"Err! signInWithCredential\" + err)\n        })\n      }).catch(err => {\n        console.log('Err! signInWithCredential' + err);\n      })\n    }\n    else {\n      this.gplus.login({\n        webClientId: environment.googleClientId\n      }).then((result: any) => {\n        let credential = auth.GoogleAuthProvider.credential(result['token'], null);\n        this.afAuth.auth.signInWithCredential(credential).then((res: any) => {\n          if (res.additionalUserInfo.isNewUser) {\n            let uid = this.afAuth.auth.currentUser.uid;\n            let userInfo = res.additionalUserInfo.profile;\n            this.createNewUser(uid, userInfo.name, uid, userInfo.email, 'Available', 'Google', userInfo.picture);\n          }\n          else {\n            this.router.navigateByUrl('tabs');\n          }\n        }).catch((err) => {\n          console.log(\"Err! signInWithCredential\" + err)\n        })\n      }).catch((err) => {\n        console.log(err);\n      })\n    }\n  }\n\n  createNewUser(userId, name, username, email, description = \"I'm available\", provider, img = \"./assets/images/default-dp.png\") {\n    let dateCreated = new Date();\n    this.firestore.collection('accounts').doc(userId).set({\n      dateCreated, username, name, userId, email, description, provider, img\n    }).then(() => {\n      this.router.navigateByUrl('tabs');\n    });\n  }\n\n  logout() {\n    this.afAuth.auth.signOut().then(() => this.router.navigateByUrl('/login', { replaceUrl: true }));\n  }\n}\n","import { Validators } from '@angular/forms';\n\nexport namespace Validator {\n\n    export const emailValidator = ['', [\n        Validators.required,\n        Validators.pattern('^[a-z0-9]+(\\.[_a-z0-9]+)*@[a-z0-9-]+(\\.[a-z0-9-]+)*(\\.[a-z]{2,15})$')]\n    ];\n\n    export const passwordValidator = ['', [\n        Validators.required, Validators.minLength(6)\n    ]]\n\n    export const nameValidator = ['', [\n        Validators.required,\n    ]]\n\n    export const usernameValidator = ['', [\n        Validators.required,\n        Validators.minLength(5)\n    ]]\n\n    export const bioValidator = ['', [\n        Validators.required,\n    ]]\n\n    export const groupNameValidator = ['', [\n        Validators.required,\n    ]]\n\n    export const groupDescriptionValidator = ['', [\n        Validators.required,\n    ]]\n\n    export const groupTagsValidator = ['', [\n        Validators.required,\n    ]]\n\n    export const errorMessages = {\n        email: [\n            { type: 'required', message: 'Email is required' },\n            { type: 'pattern', message: 'Email looks like invalid' },\n        ],\n        password: [\n            { type: 'required', message: 'Password is required' },\n            { type: 'minlength', message: 'Password must be 6 char' },\n        ],\n        name: [\n            { type: 'required', message: 'Name is required' },\n        ],\n        username: [\n            { type: 'required', message: 'Username is required' },\n            { type: 'minlength', message: 'Username must be 5 char' },\n        ],\n        bio: [\n            { type: 'required', message: 'Bio is required' },\n        ],\n        groupName: [\n            { type: 'required', message: 'Group Name is required' },\n        ],\n        groupDescription: [\n            { type: 'required', message: 'Group Description is required' },\n        ],\n\n    }\n\t\n\t// Poll Form Validators\n  export const pollNameValidator = ['', [Validators.required, Validators.minLength(1)]];\n  export const pollDescriptionValidator = ['', [Validators.required, Validators.minLength(1)]];\n  export const pollOption1Validator = ['', [Validators.required, Validators.minLength(1)]];\n  export const pollOption2Validator = ['', [Validators.required, Validators.minLength(1)]];\n}"],"sourceRoot":"webpack:///"}