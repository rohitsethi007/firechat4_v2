{"version":3,"sources":["webpack:///src/app/group-join/group-join.page.ts","webpack:///src/app/group-join/group-join.page.html","webpack:///src/app/group-join/group-join.page.scss","webpack:///src/app/group-join/group-join.module.ts"],"names":["GroupJoinPage","dataProvider","route","firestore","navCtrl","group","termsAgreed","groupId","snapshot","params","id","getCurrentUser","get","subscribe","u","user","data","userId","currentUser","uid","loggedInUser","getGroupData","getGroup","snapshotChanges","p","payload","key","groups","push","getUser","update","then","members","messages","back","selector","template","routes","path","component","GroupJoinPageModule","imports","forChild","declarations"],"mappings":"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","file":"group-join-group-join-module-es5.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { DataService } from '../services/data.service';\nimport { ActivatedRoute } from '@angular/router';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { NavController } from '@ionic/angular';\nimport * as firebase from 'firebase/app';\n\n\n@Component({\n  selector: 'app-group-join',\n  templateUrl: './group-join.page.html',\n  styleUrls: ['./group-join.page.scss'],\n})\nexport class GroupJoinPage implements OnInit {\n  loggedInUser: any;\n  groupId: any;\n  group: any = {};\n  termsAgreed = false;\n\n  constructor(\n    private dataProvider: DataService,\n    private route: ActivatedRoute,\n    private firestore: AngularFirestore,\n    public navCtrl: NavController\n  ) {\n    this.groupId = this.route.snapshot.params.id;\n    this.dataProvider.getCurrentUser().get().subscribe((u: any) => {\n      let user = u.data();\n      user.userId = firebase.auth().currentUser.uid;;\n      this.loggedInUser = user;\n    });\n  }\n\n  ngOnInit() {\n    this.getGroupData();\n  }\n\n  getGroupData() {\n    this.dataProvider.getGroup(this.groupId).snapshotChanges().subscribe((p: any) => {\n      let group = p.payload.data();\n      group.key = p.key;\n      this.group = group;\n    });\n  }\n\n  joinGroup() {\n    if (this.loggedInUser.groups) {\n      this.loggedInUser.groups.push(this.groupId);\n    } else {\n      this.loggedInUser.groups = [this.groupId];\n    }\n\n     // Update group data on the database.\n    this.dataProvider.getUser(this.loggedInUser.userId).update({\n      groups: this.loggedInUser.groups\n    }).then(() => {\n      // Add friend as members of the group.\n      this.group.members.push(firebase.auth().currentUser.uid);\n\n      // Update group data on the database.\n      this.dataProvider.getGroup(this.groupId).update({\n        members: this.group.members,\n        messages: this.group.messages\n      });\n    }).then(() => {\n      this.navCtrl.back();\n    });\n  }\n}\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Join Group</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-item lines=\\\"none\\\">\\n    <ion-row class=\\\"section\\\">\\n      <span class=\\\"heading\\\">Join {{group.name}}</span>\\n      <br>\\n      <span class=\\\"section-text\\\">Excitenly, you are about to join one of most interesting groups.</span>\\n    </ion-row>\\n  </ion-item>\\n  <ion-item lines=\\\"none\\\">\\n    <ion-row class=\\\"section\\\">\\n      <span class=\\\"heading kind\\\">Be kind</span>\\n      <br>\\n      <span class=\\\"section-text\\\">Be respectful of others and be kind. They are here to help you. If you believe someone is not behaving in the spirit, let us know.</span>\\n    </ion-row>\\n  </ion-item>\\n  <ion-item lines=\\\"none\\\">\\n    <ion-row class=\\\"section\\\">\\n      <span class=\\\"heading safe\\\">Be safe</span>\\n      <br>\\n      <span class=\\\"section-text\\\">Don't post your personal details like phone number, address etc in public posts.</span>\\n    </ion-row>\\n  </ion-item>\\n  <ion-item lines=\\\"none\\\">\\n  <ion-row class=\\\"section\\\">\\n    <span class=\\\"heading enjoy\\\">Enjoy</span>\\n    <br>\\n    <span class=\\\"section-text\\\">Remember, we are all in the same boat.</span>\\n  </ion-row>\\n</ion-item>\\n <ion-item lines=\\\"none\\\">\\n    <ion-row class=\\\"section\\\">\\n      <span class=\\\"heading last\\\">One last thing</span>\\n      <br>\\n      <span class=\\\"section-text\\\">To protect all members on the app we don't allow promoting, selling in our apps</span>\\n    </ion-row>\\n  </ion-item>\\n  <ion-item text-wrap lines=\\\"none\\\">\\n    <ion-row>\\n      <ion-col size=1>\\n    <ion-checkbox [(ngModel)]=\\\"termsAgreed\\\"></ion-checkbox>\\n  </ion-col>\\n    <ion-col  size=11>\\n    <ion-label text-wrap class=\\\"agree\\\">I agree to look out for and support other members on this group.</ion-label>\\n  </ion-col>\\n</ion-row>\\n</ion-item>\\n  <ion-item lines=\\\"none\\\">\\n  <ion-button color=\\\"secondary\\\" class=\\\"join ion-text-capitalize\\\" expand=\\\"block\\\" [disabled]=\\\"!termsAgreed\\\" (click)=\\\"joinGroup()\\\">Join &nbsp;<b>\\\"{{group.name}}\\\" </b>&nbsp; group</ion-button>\\n</ion-item>\\n</ion-content>\\n\";","export default \":host {\\n  --page-margin: var(--app-narrow-margin);\\n  --page-background: var(--app-background);\\n  --ion-font-family: \\\"HelveticaNeue\\\", \\\"Helvetica Neue\\\", Helvetica, \\\"Roboto\\\", \\\"Segoe UI\\\", Arial, sans-serif;\\n}\\n\\n.section {\\n  width: 100%;\\n}\\n\\n.section .heading {\\n  padding: var(--page-margin);\\n  padding-top: calc(var(--page-margin) * 2);\\n  font-family: \\\"HelveticaNeue\\\", \\\"Helvetica Neue\\\", Helvetica, \\\"Roboto\\\", \\\"Segoe UI\\\", Arial, sans-serif;\\n  font-weight: bold;\\n  font-size: 18px;\\n  line-height: 19px;\\n  -webkit-font-smoothing: subpixel-antialiased;\\n  -moz-osx-font-smoothing: auto;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  text-align: center;\\n  width: 100%;\\n}\\n\\n.section .kind {\\n  color: blue;\\n}\\n\\n.section .safe {\\n  color: orange;\\n}\\n\\n.section .enjoy {\\n  color: turquoise;\\n}\\n\\n.section .last {\\n  color: royalblue;\\n}\\n\\n.section .section-text {\\n  padding: var(--page-margin);\\n  font-family: \\\"HelveticaNeue\\\", \\\"Helvetica Neue\\\", Helvetica, \\\"Roboto\\\", \\\"Segoe UI\\\", Arial, sans-serif;\\n  font-weight: 400;\\n  font-size: 14px;\\n  line-height: 19px;\\n  -webkit-font-smoothing: subpixel-antialiased;\\n  -moz-osx-font-smoothing: auto;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  text-align: center;\\n}\\n\\n.agree {\\n  font-weight: bold;\\n}\\n\\n.join {\\n  width: 100%;\\n  height: 40px;\\n  font-family: \\\"HelveticaNeue\\\", \\\"Helvetica Neue\\\", Helvetica, \\\"Roboto\\\", \\\"Segoe UI\\\", Arial, sans-serif;\\n  font-weight: 400;\\n  font-size: 16px;\\n  text-align: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZ3JvdXAtam9pbi9ncm91cC1qb2luLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHVDQUFBO0VBQ0Esd0NBQUE7RUFDQSx3R0FBQTtBQUNKOztBQUVFO0VBQ0ksV0FBQTtBQUNOOztBQUNFO0VBQ0UsMkJBQUE7RUFDQSx5Q0FBQTtFQUNBLGtHQUFBO0VBQ0EsaUJBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7RUFDQSw0Q0FBQTtFQUNBLDZCQUFBO0VBQ0EsZ0JBQUE7RUFDQSx1QkFBQTtFQUNBLGtCQUFBO0VBQ0EsV0FBQTtBQUNKOztBQUVFO0VBQ0UsV0FBQTtBQUFKOztBQUdFO0VBQ0UsYUFBQTtBQURKOztBQUlFO0VBQ0UsZ0JBQUE7QUFGSjs7QUFLRTtFQUNFLGdCQUFBO0FBSEo7O0FBTUU7RUFDRSwyQkFBQTtFQUNBLGtHQUFBO0VBQ0EsZ0JBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7RUFDQSw0Q0FBQTtFQUNBLDZCQUFBO0VBQ0EsZ0JBQUE7RUFDQSx1QkFBQTtFQUNBLGtCQUFBO0FBSko7O0FBUUE7RUFDRSxpQkFBQTtBQUxGOztBQVFBO0VBQ0UsV0FBQTtFQUNBLFlBQUE7RUFDQSxrR0FBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLGtCQUFBO0FBTEYiLCJmaWxlIjoic3JjL2FwcC9ncm91cC1qb2luL2dyb3VwLWpvaW4ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xyXG4gICAgLS1wYWdlLW1hcmdpbjogdmFyKC0tYXBwLW5hcnJvdy1tYXJnaW4pO1xyXG4gICAgLS1wYWdlLWJhY2tncm91bmQ6IHZhcigtLWFwcC1iYWNrZ3JvdW5kKTtcclxuICAgIC0taW9uLWZvbnQtZmFtaWx5OiAnSGVsdmV0aWNhTmV1ZScsICdIZWx2ZXRpY2EgTmV1ZScsIEhlbHZldGljYSwgJ1JvYm90bycsICdTZWdvZSBVSScsIEFyaWFsLCBzYW5zLXNlcmlmO1xyXG4gIH1cclxuXHJcbiAgLnNlY3Rpb24ge1xyXG4gICAgICB3aWR0aDogMTAwJTtcclxuIFxyXG4gIC5oZWFkaW5nIHtcclxuICAgIHBhZGRpbmc6IHZhcigtLXBhZ2UtbWFyZ2luKTtcclxuICAgIHBhZGRpbmctdG9wOiBjYWxjKHZhcigtLXBhZ2UtbWFyZ2luKSAqIDIpIDtcclxuICAgIGZvbnQtZmFtaWx5OiAnSGVsdmV0aWNhTmV1ZScsICdIZWx2ZXRpY2EgTmV1ZScsIEhlbHZldGljYSwgJ1JvYm90bycsICdTZWdvZSBVSScsIEFyaWFsLCBzYW5zLXNlcmlmO1xyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICBmb250LXNpemU6IDE4cHg7XHJcbiAgICBsaW5lLWhlaWdodDogMTlweDtcclxuICAgIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IHN1YnBpeGVsLWFudGlhbGlhc2VkO1xyXG4gICAgLW1vei1vc3gtZm9udC1zbW9vdGhpbmc6IGF1dG87XHJcbiAgICBvdmVyZmxvdzogaGlkZGVuOyBcclxuICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgfVxyXG5cclxuICAua2luZCB7XHJcbiAgICBjb2xvcjogYmx1ZTtcclxuICB9XHJcblxyXG4gIC5zYWZlIHtcclxuICAgIGNvbG9yOiBvcmFuZ2U7XHJcbiAgfVxyXG5cclxuICAuZW5qb3kge1xyXG4gICAgY29sb3I6IHR1cnF1b2lzZVxyXG4gIH1cclxuXHJcbiAgLmxhc3Qge1xyXG4gICAgY29sb3I6IHJveWFsYmx1ZTtcclxuICB9XHJcblxyXG4gIC5zZWN0aW9uLXRleHQge1xyXG4gICAgcGFkZGluZzogdmFyKC0tcGFnZS1tYXJnaW4pIDtcclxuICAgIGZvbnQtZmFtaWx5OiAnSGVsdmV0aWNhTmV1ZScsICdIZWx2ZXRpY2EgTmV1ZScsIEhlbHZldGljYSwgJ1JvYm90bycsICdTZWdvZSBVSScsIEFyaWFsLCBzYW5zLXNlcmlmO1xyXG4gICAgZm9udC13ZWlnaHQ6IDQwMDtcclxuICAgIGZvbnQtc2l6ZTogMTRweDtcclxuICAgIGxpbmUtaGVpZ2h0OiAxOXB4O1xyXG4gICAgLXdlYmtpdC1mb250LXNtb290aGluZzogc3VicGl4ZWwtYW50aWFsaWFzZWQ7XHJcbiAgICAtbW96LW9zeC1mb250LXNtb290aGluZzogYXV0bztcclxuICAgIG92ZXJmbG93OiBoaWRkZW47IFxyXG4gICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgfVxyXG59XHJcblxyXG4uYWdyZWUge1xyXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG59XHJcblxyXG4uam9pbiB7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgaGVpZ2h0OiA0MHB4O1xyXG4gIGZvbnQtZmFtaWx5OiAnSGVsdmV0aWNhTmV1ZScsICdIZWx2ZXRpY2EgTmV1ZScsIEhlbHZldGljYSwgJ1JvYm90bycsICdTZWdvZSBVSScsIEFyaWFsLCBzYW5zLXNlcmlmO1xyXG4gIGZvbnQtd2VpZ2h0OiA0MDA7XHJcbiAgZm9udC1zaXplOiAxNnB4O1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxufSJdfQ== */\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { GroupJoinPage } from './group-join.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: GroupJoinPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [GroupJoinPage]\n})\nexport class GroupJoinPageModule {}\n"]}