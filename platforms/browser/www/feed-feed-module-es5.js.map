{"version":3,"sources":["src/app/feed/feed.page.html","src/app/feed/feed.module.ts","src/app/feed/feed.page.scss","src/app/feed/feed.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar class=\\\"filters-toolbar\\\">\\r\\n    <ion-row class=\\\"searchbar-row\\\" align-items-center>\\r\\n    <ion-col>\\r\\n        <ion-searchbar mode=\\\"ios\\\" class=\\\"searchbar\\\" placeholder=\\\"Search...\\\"></ion-searchbar>\\r\\n      </ion-col>\\r\\n      <ion-col class=\\\"call-to-action-col\\\">\\r\\n        <ion-button fill=\\\"clear\\\" color=\\\"secondary\\\" class=\\\"filters-btn\\\" routerLink=\\\"/messages\\\">\\r\\n          <ion-icon slot=\\\"icon-only\\\" name=\\\"notifications-outline\\\" ></ion-icon>\\r\\n          <ion-badge *ngIf=\\\"getUnreadMessagesCount() != null\\\">{{getUnreadMessagesCount()}}</ion-badge>\\r\\n        </ion-button>\\r\\n      </ion-col>\\r\\n      <ion-col class=\\\"call-to-action-col\\\">\\r\\n        <ion-button fill=\\\"clear\\\" color=\\\"secondary\\\" class=\\\"filters-btn\\\" (click)=\\\"showGroupOptions()\\\">\\r\\n          <ion-icon slot=\\\"icon-only\\\" name=\\\"add-circle\\\"></ion-icon>\\r\\n        </ion-button>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  </ion-toolbar>\\r\\n\\r\\n</ion-header>\\r\\n<!-- <ion-badge class=\\\"badge\\\" *ngIf=\\\"item.type === 'general'\\\" color=\\\"tertiary\\\">Post</ion-badge>\\r\\n<ion-badge class=\\\"badge\\\" *ngIf=\\\"item.type === 'event'\\\" color=\\\"warning\\\">Event</ion-badge>\\r\\n<ion-badge class=\\\"badge\\\" *ngIf=\\\"item.type === 'poll'\\\" color=\\\"medium\\\">Poll</ion-badge>\\r\\n<ion-badge class=\\\"badge\\\" *ngIf=\\\"item.type === 'resource'\\\" color=\\\"dark\\\">Resource</ion-badge>  -->\\r\\n\\r\\n\\r\\n<ion-content>\\r\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\r\\n    <ion-refresher-content\\r\\n      pullingIcon=\\\"chevron-down-circle-outline\\\"\\r\\n      pullingText=\\\"Pull to refresh\\\"\\r\\n      refreshingSpinner=\\\"circles\\\"\\r\\n      refreshingText=\\\"Refreshing...\\\">\\r\\n    </ion-refresher-content>\\r\\n  </ion-refresher>\\r\\n\\r\\n     <!-- Show Posts -->\\r\\n     <div *ngIf=\\\"posts && posts.length > 0\\\" >\\r\\n     <div class=\\\"listing-item\\\" *ngFor=\\\"let item of posts\\\" >\\r\\n      <ion-card>\\r\\n        <ion-card-header>\\r\\n          <ion-row>\\r\\n            <ion-col size=10>\\r\\n           <ion-card-subtitle class=\\\"addedBy\\\">\\r\\n            <img class=\\\"addedByImg\\\" src=\\\"{{item.avatar}}\\\" onError=\\\"this.src='./assets/images/default-dp.png'\\\" /> \\r\\n             <p><a class=\\\"addedByTitle\\\" (click)=\\\"viewUser(item.addedByUser.addedByKey)\\\" ><b>{{item.addedByUser.addedByUsername}}</b></a><!-- <img *ngIf=\\\"item.showNewIcon\\\" class=\\\"newIcon\\\" src=\\\"./assets/icon/new.svg\\\" />  -->\\r\\n              <br/>\\r\\n             <span class=\\\"addedByDate\\\">posted {{item.date.toDate() | DateFormat}}</span><br/>\\r\\n            <a (click)=\\\"viewGroup(item.groupId)\\\" class=\\\"addedByTitle\\\">in <b>{{item.groupName}}</b></a></p>\\r\\n          </ion-card-subtitle>\\r\\n        </ion-col>\\r\\n        <ion-col size=2>\\r\\n          <ion-buttons>\\r\\n            <ion-button (click)=\\\"showPostOptions(item)\\\">\\r\\n              <ion-icon slot=\\\"end\\\" name=\\\"chevron-down-outline\\\"></ion-icon>\\r\\n            </ion-button>\\r\\n          </ion-buttons>\\r\\n        </ion-col>\\r\\n        </ion-row>\\r\\n        </ion-card-header>\\r\\n        <ion-card-content class=\\\"message\\\" *ngIf=\\\"item.type === 'general'\\\">\\r\\n          <div (click)=\\\"viewPost(item)\\\">\\r\\n            <div>\\r\\n              <ion-slides class=\\\"slider\\\" pager=\\\"true\\\" [options]=\\\"slideOptsOne\\\" #slideWithNav>\\r\\n              <ion-slide *ngFor=\\\"let s of item.postMedia\\\">\\r\\n                <div class=\\\"bgSizeContain\\\" \\r\\n                [ngStyle]=\\\"{'background-image':'url('+s+')'}\\\">\\r\\n              </div>\\r\\n              </ion-slide>\\r\\n            </ion-slides>\\r\\n            </div>\\r\\n          <ion-label><b>{{item.title}}.</b> {{item.data.message}} <br/></ion-label>\\r\\n        </div>\\r\\n          <div class=\\\"tags-wrapper\\\">\\r\\n          <ion-row>\\r\\n            <div class=\\\"tags\\\" *ngFor=\\\"let tag of item.postTags\\\">\\r\\n              <span class=\\\"item-rating\\\">#{{tag.val}}</span>\\r\\n            </div>\\r\\n          </ion-row>\\r\\n          </div>\\r\\n          <div class=\\\"reactions\\\">\\r\\n          <ion-row >\\r\\n            <ion-col size=3>\\r\\n              <ion-buttons>\\r\\n                <ion-button (click)=\\\"submitReactionPost(item, 'Thanks')\\\">\\r\\n               <div *ngIf=\\\"item.showSmiley\\\"><ion-icon size=\\\"small\\\" class=\\\"icon\\\" src=\\\"./assets/icon/smile-active.svg\\\" ></ion-icon> <span class=\\\"text\\\">Thanks</span></div> \\r\\n               <div *ngIf=\\\"!item.showSmiley\\\"><ion-icon size=\\\"small\\\" class=\\\"icon\\\"  src=\\\"./assets/icon/smile.svg\\\" ></ion-icon> <span class=\\\"text\\\">Thanks</span></div> \\r\\n              </ion-button>\\r\\n              </ion-buttons> \\r\\n            </ion-col>\\r\\n            <ion-col size=3>\\r\\n              <ion-buttons>\\r\\n                <ion-button (click)=\\\"submitReactionPost(item, 'Hug')\\\">\\r\\n               <div *ngIf=\\\"item.showHug\\\"><ion-icon size=\\\"small\\\" class=\\\"icon\\\" src=\\\"./assets/icon/hug-active.svg\\\" ></ion-icon> <span class=\\\"text\\\">Hug</span></div> \\r\\n               <div *ngIf=\\\"!item.showHug\\\"><ion-icon size=\\\"small\\\" class=\\\"icon\\\"  src=\\\"./assets/icon/hug.svg\\\" ></ion-icon> <span class=\\\"text\\\">Hug</span></div> \\r\\n              </ion-button>\\r\\n              </ion-buttons> \\r\\n            </ion-col>\\r\\n            <ion-col size=2></ion-col>\\r\\n            <ion-col size=2>\\r\\n              <ion-buttons>\\r\\n                <ion-button (click)=\\\"showReactionsList(item)\\\">\\r\\n              <div><ion-icon size=\\\"small\\\" src=\\\"./assets/icon/smile-active.svg\\\" class=\\\"icon\\\"></ion-icon><ion-icon size=\\\"small\\\" src=\\\"./assets/icon/hug-active.svg\\\" class=\\\"icon\\\"></ion-icon> <span class=\\\"text\\\">{{item.totalReactionCount}}</span></div>\\r\\n            </ion-button>\\r\\n          </ion-buttons> \\r\\n            </ion-col>\\r\\n            <ion-col size=2>\\r\\n              <ion-buttons>\\r\\n                <ion-button>\\r\\n              <div><ion-icon size=\\\"small\\\" class=\\\"icon\\\" name=\\\"chatbox-outline\\\"></ion-icon> <span class=\\\"text\\\">{{item.totalReviewCount}}</span></div>\\r\\n            </ion-button>\\r\\n          </ion-buttons> \\r\\n            </ion-col>\\r\\n          </ion-row>\\r\\n          </div>\\r\\n        </ion-card-content>\\r\\n\\r\\n        <ion-card-content class=\\\"message\\\" *ngIf=\\\"item.type === 'event'\\\">\\r\\n          <div (click)=\\\"viewEvent(item)\\\">\\r\\n          <b>{{item.title}}.</b> <br/>{{item.data.eventDate}} at {{item.data.eventTime}}<br/><br/>\\r\\n            {{item.data.address}}<br/><br/>\\r\\n            {{item.data.link}}\\r\\n          </div>\\r\\n          <div class=\\\"tags-wrapper\\\">\\r\\n            <ion-row>\\r\\n              <div class=\\\"tags\\\" *ngFor=\\\"let tag of item.postTags\\\">\\r\\n                <span class=\\\"item-rating\\\">#{{tag.val}}</span>\\r\\n              </div>\\r\\n            </ion-row>\\r\\n            </div>\\r\\n          <div class=\\\"reactions\\\">\\r\\n            <ion-row>\\r\\n              <ion-col size=3>\\r\\n                <ion-buttons>\\r\\n                  <ion-button (click)=\\\"submitReactionPost(item, 'Thanks')\\\">\\r\\n                  <div *ngIf=\\\"item.showSmiley\\\"><ion-icon size=\\\"small\\\" class=\\\"icon\\\" src=\\\"./assets/icon/smile-active.svg\\\" ></ion-icon> <span class=\\\"text\\\">Thanks</span></div> \\r\\n                  <div *ngIf=\\\"!item.showSmiley\\\"><ion-icon size=\\\"small\\\" class=\\\"icon\\\"  src=\\\"./assets/icon/smile.svg\\\" ></ion-icon> <span class=\\\"text\\\">Thanks</span></div> \\r\\n                </ion-button>\\r\\n                </ion-buttons> \\r\\n              </ion-col>\\r\\n              <ion-col size=3>\\r\\n                <ion-buttons>\\r\\n                  <ion-button (click)=\\\"submitReactionPost(item, 'Checkin')\\\">\\r\\n                  <div *ngIf=\\\"item.showCheckin\\\"><ion-icon size=\\\"small\\\" class=\\\"icon\\\" src=\\\"./assets/icon/checkin-active.svg\\\" ></ion-icon> <span class=\\\"text\\\">Checkin</span></div> \\r\\n                  <div *ngIf=\\\"!item.showCheckin\\\"><ion-icon size=\\\"small\\\" class=\\\"icon\\\"  src=\\\"./assets/icon/checkin.svg\\\" ></ion-icon> <span class=\\\"text\\\">Checkin</span></div> \\r\\n                </ion-button>\\r\\n                </ion-buttons> \\r\\n              </ion-col>\\r\\n              <ion-col size=2></ion-col>\\r\\n              <ion-col size=2>\\r\\n                      <ion-buttons>\\r\\n                        <ion-button (click)=\\\"showReactionsList(item)\\\">\\r\\n                      <div><ion-icon size=\\\"small\\\" src=\\\"./assets/icon/smile-active.svg\\\" class=\\\"icon\\\"></ion-icon><ion-icon size=\\\"small\\\" src=\\\"./assets/icon/checkin-active.svg\\\" class=\\\"icon\\\"></ion-icon><span class=\\\"text\\\">{{item.totalReactionCount}}</span></div>\\r\\n                    </ion-button>\\r\\n                  </ion-buttons> \\r\\n              </ion-col>\\r\\n              <ion-col size=2>\\r\\n                      <ion-buttons>\\r\\n                        <ion-button>\\r\\n                          <div><ion-icon size=\\\"small\\\" class=\\\"icon\\\" name=\\\"chatbox-outline\\\"></ion-icon> <span class=\\\"text\\\">{{item.totalReviewCount}}</span></div>\\r\\n                        </ion-button>\\r\\n                  </ion-buttons> \\r\\n              </ion-col>\\r\\n             </ion-row>\\r\\n         </div>\\r\\n        </ion-card-content>\\r\\n\\r\\n        <ion-card-content class=\\\"message\\\" *ngIf=\\\"item.type === 'poll'\\\" >\\r\\n          <div (click)=\\\"viewPoll(item)\\\">\\r\\n          <b>{{item.title}}.</b><br/>\\r\\n          <ion-row  *ngFor=\\\"let pollOption of item.data.pollOptions\\\">\\r\\n            <ion-col >\\r\\n               <div><ion-icon class=\\\"poll-icon\\\" name=\\\"checkbox-outline\\\"></ion-icon> <span>{{pollOption.name}}</span></div>\\r\\n            </ion-col>\\r\\n          </ion-row>\\r\\n        </div>\\r\\n        <div class=\\\"tags-wrapper\\\">\\r\\n          <ion-row>\\r\\n            <div class=\\\"tags\\\" *ngFor=\\\"let tag of item.postTags\\\">\\r\\n              <span class=\\\"item-rating\\\">#{{tag.val}}</span>\\r\\n            </div>\\r\\n          </ion-row>\\r\\n          </div>\\r\\n\\r\\n                <ion-row class=\\\"info-row\\\" >\\r\\n           <ion-col size=\\\"8\\\">\\r\\n                     <span class=\\\"text\\\" *ngIf=\\\"!item.pollClosed\\\">Poll ends {{item.data.dateEnding.toDate() | DateFormat}}</span> \\r\\n                     <span class=\\\"text\\\" *ngIf=\\\"item.pollClosed\\\">Poll closed</span> \\r\\n                  </ion-col>\\r\\n            <ion-col size=\\\"1\\\">\\r\\n            </ion-col>\\r\\n                  <ion-col size=\\\"3\\\">\\r\\n                    <div><span class=\\\"text\\\">{{item.totalPollCount}} voted</span></div>\\r\\n                  </ion-col>\\r\\n                </ion-row>\\r\\n        </ion-card-content>\\r\\n        \\r\\n        <ion-card-content class=\\\"message\\\" *ngIf=\\\"item.type === 'resource'\\\">\\r\\n          <div (click)=\\\"viewResource(item)\\\">\\r\\n          <b>{{item.title}}.</b><br/>\\r\\n          <div *ngIf=\\\"item?.data.type == 'contact'\\\">\\r\\n            {{item.data.name}}<br/>\\r\\n            {{item.data.address}}<br/><br/>\\r\\n            {{item.data.email}}<br/>\\r\\n            {{item.data.phones}}<br/>\\r\\n          </div>\\r\\n          <div *ngIf=\\\"item?.data.type == 'upload'\\\">\\r\\n            <div *ngIf=\\\"item.data.uploadtype == 'location'\\\" [innerHtml]=\\\"item.data.url\\\"></div>\\r\\n            <div *ngIf=\\\"item.data.uploadtype == 'contact'\\\">\\r\\n            {{item.data.name}}<br/>\\r\\n            {{item.data.address}}<br/>\\r\\n            {{item.data.phones}}<br/>\\r\\n            {{item.data.email}}<br/>\\r\\n            </div>\\r\\n            <div *ngIf=\\\"item.data.uploadtype == 'image'\\\">\\r\\n            <img src=\\\"{{item.data.resolvedurl}}\\\" />\\r\\n            </div>\\r\\n            <div *ngIf=\\\"item.data.uploadtype == 'video'\\\">\\r\\n              <video controls width=\\\"100%\\\" src=\\\"{{item.data.resolvedurl}}\\\" ></video>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div *ngIf=\\\"item?.data.type == 'weblink'\\\">\\r\\n          {{item.data.metatitle}}<br/>\\r\\n          <img [src]=\\\"item.data.metaicon\\\"/> \\r\\n          {{item.data.metadescription}}<br/><br/>\\r\\n          <a href=\\\"{{item.data.metasite}}\\\">{{item.data.metasite}}</a>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"tags-wrapper\\\">\\r\\n          <ion-row>\\r\\n            <div class=\\\"tags\\\" *ngFor=\\\"let tag of item.postTags\\\">\\r\\n              <span class=\\\"item-rating\\\">#{{tag.val}}</span>\\r\\n            </div>\\r\\n          </ion-row>\\r\\n          </div>\\r\\n          <div class=\\\"reactions\\\">\\r\\n             <ion-row>\\r\\n              <ion-col size=3>\\r\\n                <ion-buttons>\\r\\n                <ion-button (click)=\\\"submitReactionPost(item, 'Thanks')\\\">\\r\\n               <div *ngIf=\\\"item.showSmiley\\\"><ion-icon size=\\\"small\\\" class=\\\"icon\\\" src=\\\"./assets/icon/smile-active.svg\\\" ></ion-icon> <span class=\\\"text\\\">Thanks</span></div> \\r\\n               <div *ngIf=\\\"!item.showSmiley\\\"><ion-icon size=\\\"small\\\" class=\\\"icon\\\"  src=\\\"./assets/icon/smile.svg\\\" ></ion-icon> <span class=\\\"text\\\">Thanks</span></div> \\r\\n                </ion-button>\\r\\n                </ion-buttons> \\r\\n              </ion-col>\\r\\n              <ion-col size=3>\\r\\n                   <ion-buttons>\\r\\n                   <ion-button (click)=\\\"submitReactionPost(item, 'Bookmark')\\\">\\r\\n                  <div *ngIf=\\\"item.showBookmark\\\"><ion-icon size=\\\"small\\\" class=\\\"icon\\\" src=\\\"./assets/icon/bookmark-active.svg\\\" ></ion-icon> <span class=\\\"text\\\">Bookmark</span></div> \\r\\n                  <div *ngIf=\\\"!item.showBookmark\\\"><ion-icon size=\\\"small\\\" class=\\\"icon\\\"  src=\\\"./assets/icon/bookmark.svg\\\" ></ion-icon> <span class=\\\"text\\\">Bookmark</span></div> \\r\\n                   </ion-button>\\r\\n                   </ion-buttons> \\r\\n              </ion-col>\\r\\n            <ion-col size=2></ion-col>\\r\\n            <ion-col size=2>\\r\\n                   <ion-buttons>\\r\\n                   <ion-button (click)=\\\"showReactionsList(item)\\\">\\r\\n                   <div><ion-icon size=\\\"small\\\" src=\\\"./assets/icon/bookmark-active.svg\\\" class=\\\"icon\\\"></ion-icon><ion-icon size=\\\"small\\\" src=\\\"./assets/icon/smile-active.svg\\\" class=\\\"icon\\\"></ion-icon><span class=\\\"text\\\">{{item.totalReactionCount}}</span></div>\\r\\n                 </ion-button>\\r\\n                 </ion-buttons> \\r\\n                 </ion-col>\\r\\n                 <ion-col size=2>\\r\\n                   <ion-buttons>\\r\\n                   <ion-button>\\r\\n                    <div><ion-icon size=\\\"small\\\" class=\\\"icon\\\" name=\\\"chatbox-outline\\\"></ion-icon> <span class=\\\"text\\\">{{item.totalReviewCount}}</span></div>\\r\\n                  </ion-button>\\r\\n                 </ion-buttons> \\r\\n                 </ion-col>\\r\\n            </ion-row>\\r\\n          \\r\\n          </div>\\r\\n        </ion-card-content>\\r\\n        <!-- Dont touch the tags below this line-->\\r\\n      </ion-card>\\r\\n     </div>\\r\\n     </div>\\r\\n     <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadData($event)\\\">\\r\\n      <ion-infinite-scroll-content\\r\\n        loadingSpinner=\\\"bubbles\\\"\\r\\n        loadingText=\\\"Loading more data...\\\">\\r\\n      </ion-infinite-scroll-content>\\r\\n    </ion-infinite-scroll>\\r\\n</ion-content>\\r\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport { SharedModule } from '../services/share.module';\nimport { IonicModule } from '@ionic/angular';\nimport { ComponentsModule } from '../components/components.module';\nimport { FeedPage } from './feed.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FeedPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    SharedModule,\n    IonicModule,\n    ComponentsModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [FeedPage]\n})\nexport class FeedPageModule {}\n","export default \":host {\\n  --page-margin: var(--app-narrow-margin);\\n  --page-background: var(--app-background);\\n}\\n\\nion-searchbar {\\n  --border-radius: 30px;\\n}\\n\\n.filters-toolbar {\\n  --padding-start: var(--page-margin);\\n  --padding-end: var(--page-margin);\\n}\\n\\n.filters-toolbar .searchbar-row {\\n  --ion-grid-column-padding: 0px;\\n}\\n\\n.filters-toolbar .searchbar-row .searchbar {\\n  padding: 0px;\\n  height: 30px;\\n  border-radius: 20px;\\n}\\n\\n.filters-toolbar .searchbar-row .call-to-action-col {\\n  max-width: -webkit-fit-content;\\n  max-width: -moz-fit-content;\\n  max-width: fit-content;\\n  flex-shrink: 0;\\n  -webkit-box-flex: 0;\\n          flex-grow: 0;\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-pack: end;\\n          justify-content: flex-end;\\n}\\n\\n.filters-toolbar .searchbar-row .call-to-action-col .filters-btn {\\n  --padding-start: 6px;\\n  --padding-end: 6px;\\n  margin: 0px;\\n  font-size: 15px;\\n  height: initial;\\n}\\n\\n.listing-item {\\n  background-color: var(--page-background);\\n}\\n\\n.icon {\\n  display: inline-block;\\n  vertical-align: middle;\\n}\\n\\n.poll-icon {\\n  display: inline-block;\\n  vertical-align: middle;\\n  padding-right: 5px;\\n}\\n\\n.text {\\n  display: inline-block;\\n  vertical-align: middle;\\n  padding-left: 3px;\\n  text-transform: capitalize !important;\\n  font-size: 12px;\\n}\\n\\n.addedByTitle {\\n  margin-left: 10px;\\n  line-height: 5px;\\n  text-decoration: none;\\n}\\n\\n.addedByDate {\\n  margin-left: 10px;\\n  font-style: italic;\\n  font-size: 12px;\\n}\\n\\n.addedByImg {\\n  width: 45px;\\n  float: left;\\n  vertical-align: middle;\\n}\\n\\n.newIcon {\\n  margin-left: 10px;\\n  height: 40px;\\n  vertical-align: middle;\\n}\\n\\n.message {\\n  font-family: \\\"HelveticaNeue\\\", \\\"Helvetica Neue\\\", Helvetica, \\\"Roboto\\\", \\\"Segoe UI\\\", Arial, sans-serif;\\n  font-weight: 400;\\n  font-size: 14px;\\n  line-height: 19px;\\n  -webkit-font-smoothing: subpixel-antialiased;\\n  -moz-osx-font-smoothing: auto;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\n\\n.message .slider {\\n  margin-bottom: 5px;\\n}\\n\\n.message .slider .bgSizeContain {\\n  background-repeat: no-repeat;\\n  background-position: center center;\\n  background-size: 100%;\\n  width: 100%;\\n  height: 200px;\\n  text-shadow: white 0px 0px 2px;\\n  font-size: 16px;\\n  border-radius: 10px;\\n}\\n\\n.message .reactions {\\n  margin-bottom: 0px;\\n  margin-left: -10px;\\n}\\n\\n.message .tags-wrapper {\\n  padding-top: 5px;\\n}\\n\\n.message .tags-wrapper .tags {\\n  padding-right: 5px;\\n}\\n\\n.message .tags-wrapper .tags .item-rating {\\n  background-color: rgba(var(--page-color-rgb), 0.35);\\n  padding-right: 15px;\\n  font-size: 12px;\\n  font-weight: bold;\\n  width: 100%;\\n  display: block;\\n  text-align: center;\\n  color: #aa6c39;\\n}\\n\\nion-slides {\\n  height: auto;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZmVlZC9DOlxcVXNlcnNcXHJvaGlzZXRoaVxcRG9jdW1lbnRzXFxpb25pY1xcZmlyZWNoYXQ0X3YyL3NyY1xcYXBwXFxmZWVkXFxmZWVkLnBhZ2Uuc2NzcyIsInNyYy9hcHAvZmVlZC9mZWVkLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNLLHVDQUFBO0VBQ0Esd0NBQUE7QUNDTDs7QURFRTtFQUNFLHFCQUFBO0FDQ0o7O0FERUE7RUFDSSxtQ0FBQTtFQUNBLGlDQUFBO0FDQ0o7O0FERUk7RUFDRSw4QkFBQTtBQ0FOOztBREVNO0VBQ0UsWUFBQTtFQUNBLFlBQUE7RUFDQSxtQkFBQTtBQ0FSOztBRE9NO0VBQ0UsOEJBQUE7RUFBQSwyQkFBQTtFQUFBLHNCQUFBO0VBQ0EsY0FBQTtFQUNBLG1CQUFBO1VBQUEsWUFBQTtFQUVBLG9CQUFBO0VBQUEsYUFBQTtFQUNBLHFCQUFBO1VBQUEseUJBQUE7QUNOUjs7QURRUTtFQUNFLG9CQUFBO0VBQ0Esa0JBQUE7RUFFQSxXQUFBO0VBQ0EsZUFBQTtFQUVBLGVBQUE7QUNSVjs7QURlQTtFQUNFLHdDQUFBO0FDWkY7O0FEZUE7RUFDRSxxQkFBQTtFQUNBLHNCQUFBO0FDWkY7O0FEZUM7RUFDQyxxQkFBQTtFQUNBLHNCQUFBO0VBQ0Esa0JBQUE7QUNaRjs7QURlQztFQUNFLHFCQUFBO0VBQ0Esc0JBQUE7RUFDQSxpQkFBQTtFQUNBLHFDQUFBO0VBQ0EsZUFBQTtBQ1pIOztBRGNDO0VBQ0UsaUJBQUE7RUFDQSxnQkFBQTtFQUNBLHFCQUFBO0FDWEg7O0FEY0M7RUFDQyxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtBQ1hGOztBRGNBO0VBQ0ksV0FBQTtFQUNBLFdBQUE7RUFDQSxzQkFBQTtBQ1hKOztBRGFFO0VBQ0UsaUJBQUE7RUFDQSxZQUFBO0VBQ0Esc0JBQUE7QUNWSjs7QURZRTtFQUNFLGtHQUFBO0VBQ0EsZ0JBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7RUFDQSw0Q0FBQTtFQUNBLDZCQUFBO0VBQ0EsZ0JBQUE7RUFDQSx1QkFBQTtBQ1RKOztBRFdJO0VBQ0Usa0JBQUE7QUNUTjs7QURVTTtFQUNFLDRCQUFBO0VBQ0Esa0NBQUE7RUFDQSxxQkFBQTtFQUNBLFdBQUE7RUFDQSxhQUFBO0VBQ0EsOEJBQUE7RUFDQSxlQUFBO0VBR0EsbUJBQUE7QUNSUjs7QURZSTtFQUNFLGtCQUFBO0VBQ0Esa0JBQUE7QUNWTjs7QURZSTtFQUNFLGdCQUFBO0FDVk47O0FEWU07RUFDRSxrQkFBQTtBQ1ZSOztBRFlNO0VBQ0UsbURBQUE7RUFDQSxtQkFBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtFQUNBLFdBQUE7RUFDQSxjQUFBO0VBQ0Esa0JBQUE7RUFDQSxjQUFBO0FDVlI7O0FEZ0JFO0VBQ0UsWUFBQTtBQ2JKIiwiZmlsZSI6InNyYy9hcHAvZmVlZC9mZWVkLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcclxuICAgICAtLXBhZ2UtbWFyZ2luOiB2YXIoLS1hcHAtbmFycm93LW1hcmdpbik7XHJcbiAgICAgLS1wYWdlLWJhY2tncm91bmQ6IHZhcigtLWFwcC1iYWNrZ3JvdW5kKTtcclxuICB9XHJcbiAgXHJcbiAgaW9uLXNlYXJjaGJhciB7XHJcbiAgICAtLWJvcmRlci1yYWRpdXM6IDMwcHg7XHJcbiAgfVxyXG5cclxuLmZpbHRlcnMtdG9vbGJhciB7XHJcbiAgICAtLXBhZGRpbmctc3RhcnQ6IHZhcigtLXBhZ2UtbWFyZ2luKTtcclxuICAgIC0tcGFkZGluZy1lbmQ6IHZhcigtLXBhZ2UtbWFyZ2luKTtcclxuICAgIC8vIC0tcGFkZGluZy10b3A6IHZhcigtLXBhZ2UtbWFyZ2luKTtcclxuXHJcbiAgICAuc2VhcmNoYmFyLXJvdyB7XHJcbiAgICAgIC0taW9uLWdyaWQtY29sdW1uLXBhZGRpbmc6IDBweDtcclxuICBcclxuICAgICAgLnNlYXJjaGJhciB7XHJcbiAgICAgICAgcGFkZGluZzogMHB4O1xyXG4gICAgICAgIGhlaWdodDozMHB4O1xyXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7XHJcbiAgICAgICAgLy8gb3ZlcnJpZGUgSW9uaWMgZml4ZWQgaGVpZ2h0XHJcbiAgICAgICAgLy8gaGVpZ2h0OiAxMDAlO1xyXG4gICAgICAgIC8vIExlYXJuIG1vcmUgYWJvdXQgQ1NTIGNvbnRhaW4gcHJvcGVydHkgaGVyZTogaHR0cHM6Ly90ZXJtdmFkZXIuZ2l0aHViLmlvL2Nzcy1jb250YWluL1xyXG4gICAgICAgIC8vICBjb250YWluOiBjb250ZW50O1xyXG4gICAgICB9XHJcbiAgXHJcbiAgICAgIC5jYWxsLXRvLWFjdGlvbi1jb2wge1xyXG4gICAgICAgIG1heC13aWR0aDogZml0LWNvbnRlbnQ7XHJcbiAgICAgICAgZmxleC1zaHJpbms6IDA7XHJcbiAgICAgICAgZmxleC1ncm93OiAwO1xyXG4gIFxyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcclxuICBcclxuICAgICAgICAuZmlsdGVycy1idG4ge1xyXG4gICAgICAgICAgLS1wYWRkaW5nLXN0YXJ0OiA2cHg7XHJcbiAgICAgICAgICAtLXBhZGRpbmctZW5kOiA2cHg7XHJcbiAgXHJcbiAgICAgICAgICBtYXJnaW46IDBweDtcclxuICAgICAgICAgIGZvbnQtc2l6ZTogMTVweDtcclxuICAgICAgICAgIC8vIG92ZXJyaWRlIElvbmljIGZpeGVkIGhlaWdodFxyXG4gICAgICAgICAgaGVpZ2h0OiBpbml0aWFsO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICB9XHJcbiAgICBcclxuLmxpc3RpbmctaXRlbSB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tcGFnZS1iYWNrZ3JvdW5kKTtcclxuIH1cclxuXHJcbi5pY29uIHtcclxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcclxuIH1cclxuIFxyXG4gLnBvbGwtaWNvbiB7XHJcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XHJcbiAgcGFkZGluZy1yaWdodDogNXB4O1xyXG4gfVxyXG5cclxuIC50ZXh0e1xyXG4gICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XHJcbiAgIHBhZGRpbmctbGVmdDogM3B4O1xyXG4gICB0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZSAhaW1wb3J0YW50O1xyXG4gICBmb250LXNpemU6IDEycHg7XHJcbiB9XHJcbiAuYWRkZWRCeVRpdGxlIHtcclxuICAgbWFyZ2luLWxlZnQ6IDEwcHg7XHJcbiAgIGxpbmUtaGVpZ2h0OiA1cHg7XHJcbiAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxuICAvLyAgbGV0dGVyLXNwYWNpbmc6IDFweDtcclxuIH1cclxuIC5hZGRlZEJ5RGF0ZSB7XHJcbiAgbWFyZ2luLWxlZnQ6IDEwcHg7XHJcbiAgZm9udC1zdHlsZTogaXRhbGljO1xyXG4gIGZvbnQtc2l6ZTogMTJweDtcclxuICB9XHJcbiAgXHJcbi5hZGRlZEJ5SW1nIHtcclxuICAgIHdpZHRoOiA0NXB4O1xyXG4gICAgZmxvYXQ6IGxlZnQ7XHJcbiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xyXG4gIH1cclxuICAubmV3SWNvbiB7XHJcbiAgICBtYXJnaW4tbGVmdDogMTBweDtcclxuICAgIGhlaWdodDogNDBweDtcclxuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XHJcbiAgfVxyXG4gIC5tZXNzYWdlIHtcclxuICAgIGZvbnQtZmFtaWx5OiAnSGVsdmV0aWNhTmV1ZScsICdIZWx2ZXRpY2EgTmV1ZScsIEhlbHZldGljYSwgJ1JvYm90bycsICdTZWdvZSBVSScsIEFyaWFsLCBzYW5zLXNlcmlmO1xyXG4gICAgZm9udC13ZWlnaHQ6IDQwMDtcclxuICAgIGZvbnQtc2l6ZTogMTRweDtcclxuICAgIGxpbmUtaGVpZ2h0OiAxOXB4O1xyXG4gICAgLXdlYmtpdC1mb250LXNtb290aGluZzogc3VicGl4ZWwtYW50aWFsaWFzZWQ7XHJcbiAgICAtbW96LW9zeC1mb250LXNtb290aGluZzogYXV0bztcclxuICAgIG92ZXJmbG93OiBoaWRkZW47IFxyXG4gICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XHJcblxyXG4gICAgLnNsaWRlciB7XHJcbiAgICAgIG1hcmdpbi1ib3R0b206IDVweDtcclxuICAgICAgLmJnU2l6ZUNvbnRhaW4ge1xyXG4gICAgICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XHJcbiAgICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyIGNlbnRlcjtcclxuICAgICAgICBiYWNrZ3JvdW5kLXNpemU6IDEwMCU7XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgaGVpZ2h0OiAyMDBweDtcclxuICAgICAgICB0ZXh0LXNoYWRvdzogd2hpdGUgMHB4IDBweCAycHg7XHJcbiAgICAgICAgZm9udC1zaXplOiAxNnB4O1xyXG4gICAgICAgIC13ZWJraXQtYm9yZGVyLXJhZGl1czogMTBweDtcclxuICAgICAgICAtbW96LWJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDtcclxuICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAucmVhY3Rpb25zIHtcclxuICAgICAgbWFyZ2luLWJvdHRvbTogMHB4O1xyXG4gICAgICBtYXJnaW4tbGVmdDogLTEwcHg7XHJcbiAgICB9IFxyXG4gICAgLnRhZ3Mtd3JhcHBlciB7XHJcbiAgICAgIHBhZGRpbmctdG9wOiA1cHg7XHJcbiAgICAgXHJcbiAgICAgIC50YWdzIHtcclxuICAgICAgICBwYWRkaW5nLXJpZ2h0OiA1cHg7XHJcblxyXG4gICAgICAuaXRlbS1yYXRpbmcge1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEodmFyKC0tcGFnZS1jb2xvci1yZ2IpLCAuMzUpO1xyXG4gICAgICAgIHBhZGRpbmctcmlnaHQ6IDE1cHg7XHJcbiAgICAgICAgZm9udC1zaXplOiAxMnB4O1xyXG4gICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgICBjb2xvcjogI2FhNmMzOTtcclxuICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpb24tc2xpZGVzIHtcclxuICAgIGhlaWdodDogYXV0bztcclxuICB9XHJcbiIsIjpob3N0IHtcbiAgLS1wYWdlLW1hcmdpbjogdmFyKC0tYXBwLW5hcnJvdy1tYXJnaW4pO1xuICAtLXBhZ2UtYmFja2dyb3VuZDogdmFyKC0tYXBwLWJhY2tncm91bmQpO1xufVxuXG5pb24tc2VhcmNoYmFyIHtcbiAgLS1ib3JkZXItcmFkaXVzOiAzMHB4O1xufVxuXG4uZmlsdGVycy10b29sYmFyIHtcbiAgLS1wYWRkaW5nLXN0YXJ0OiB2YXIoLS1wYWdlLW1hcmdpbik7XG4gIC0tcGFkZGluZy1lbmQ6IHZhcigtLXBhZ2UtbWFyZ2luKTtcbn1cbi5maWx0ZXJzLXRvb2xiYXIgLnNlYXJjaGJhci1yb3cge1xuICAtLWlvbi1ncmlkLWNvbHVtbi1wYWRkaW5nOiAwcHg7XG59XG4uZmlsdGVycy10b29sYmFyIC5zZWFyY2hiYXItcm93IC5zZWFyY2hiYXIge1xuICBwYWRkaW5nOiAwcHg7XG4gIGhlaWdodDogMzBweDtcbiAgYm9yZGVyLXJhZGl1czogMjBweDtcbn1cbi5maWx0ZXJzLXRvb2xiYXIgLnNlYXJjaGJhci1yb3cgLmNhbGwtdG8tYWN0aW9uLWNvbCB7XG4gIG1heC13aWR0aDogZml0LWNvbnRlbnQ7XG4gIGZsZXgtc2hyaW5rOiAwO1xuICBmbGV4LWdyb3c6IDA7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XG59XG4uZmlsdGVycy10b29sYmFyIC5zZWFyY2hiYXItcm93IC5jYWxsLXRvLWFjdGlvbi1jb2wgLmZpbHRlcnMtYnRuIHtcbiAgLS1wYWRkaW5nLXN0YXJ0OiA2cHg7XG4gIC0tcGFkZGluZy1lbmQ6IDZweDtcbiAgbWFyZ2luOiAwcHg7XG4gIGZvbnQtc2l6ZTogMTVweDtcbiAgaGVpZ2h0OiBpbml0aWFsO1xufVxuXG4ubGlzdGluZy1pdGVtIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tcGFnZS1iYWNrZ3JvdW5kKTtcbn1cblxuLmljb24ge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG59XG5cbi5wb2xsLWljb24ge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG4gIHBhZGRpbmctcmlnaHQ6IDVweDtcbn1cblxuLnRleHQge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG4gIHBhZGRpbmctbGVmdDogM3B4O1xuICB0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZSAhaW1wb3J0YW50O1xuICBmb250LXNpemU6IDEycHg7XG59XG5cbi5hZGRlZEJ5VGl0bGUge1xuICBtYXJnaW4tbGVmdDogMTBweDtcbiAgbGluZS1oZWlnaHQ6IDVweDtcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xufVxuXG4uYWRkZWRCeURhdGUge1xuICBtYXJnaW4tbGVmdDogMTBweDtcbiAgZm9udC1zdHlsZTogaXRhbGljO1xuICBmb250LXNpemU6IDEycHg7XG59XG5cbi5hZGRlZEJ5SW1nIHtcbiAgd2lkdGg6IDQ1cHg7XG4gIGZsb2F0OiBsZWZ0O1xuICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xufVxuXG4ubmV3SWNvbiB7XG4gIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICBoZWlnaHQ6IDQwcHg7XG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG59XG5cbi5tZXNzYWdlIHtcbiAgZm9udC1mYW1pbHk6IFwiSGVsdmV0aWNhTmV1ZVwiLCBcIkhlbHZldGljYSBOZXVlXCIsIEhlbHZldGljYSwgXCJSb2JvdG9cIiwgXCJTZWdvZSBVSVwiLCBBcmlhbCwgc2Fucy1zZXJpZjtcbiAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgZm9udC1zaXplOiAxNHB4O1xuICBsaW5lLWhlaWdodDogMTlweDtcbiAgLXdlYmtpdC1mb250LXNtb290aGluZzogc3VicGl4ZWwtYW50aWFsaWFzZWQ7XG4gIC1tb3otb3N4LWZvbnQtc21vb3RoaW5nOiBhdXRvO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbn1cbi5tZXNzYWdlIC5zbGlkZXIge1xuICBtYXJnaW4tYm90dG9tOiA1cHg7XG59XG4ubWVzc2FnZSAuc2xpZGVyIC5iZ1NpemVDb250YWluIHtcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyIGNlbnRlcjtcbiAgYmFja2dyb3VuZC1zaXplOiAxMDAlO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAyMDBweDtcbiAgdGV4dC1zaGFkb3c6IHdoaXRlIDBweCAwcHggMnB4O1xuICBmb250LXNpemU6IDE2cHg7XG4gIC13ZWJraXQtYm9yZGVyLXJhZGl1czogMTBweDtcbiAgLW1vei1ib3JkZXItcmFkaXVzOiAxMHB4O1xuICBib3JkZXItcmFkaXVzOiAxMHB4O1xufVxuLm1lc3NhZ2UgLnJlYWN0aW9ucyB7XG4gIG1hcmdpbi1ib3R0b206IDBweDtcbiAgbWFyZ2luLWxlZnQ6IC0xMHB4O1xufVxuLm1lc3NhZ2UgLnRhZ3Mtd3JhcHBlciB7XG4gIHBhZGRpbmctdG9wOiA1cHg7XG59XG4ubWVzc2FnZSAudGFncy13cmFwcGVyIC50YWdzIHtcbiAgcGFkZGluZy1yaWdodDogNXB4O1xufVxuLm1lc3NhZ2UgLnRhZ3Mtd3JhcHBlciAudGFncyAuaXRlbS1yYXRpbmcge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKHZhcigtLXBhZ2UtY29sb3ItcmdiKSwgMC4zNSk7XG4gIHBhZGRpbmctcmlnaHQ6IDE1cHg7XG4gIGZvbnQtc2l6ZTogMTJweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIHdpZHRoOiAxMDAlO1xuICBkaXNwbGF5OiBibG9jaztcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBjb2xvcjogI2FhNmMzOTtcbn1cblxuaW9uLXNsaWRlcyB7XG4gIGhlaWdodDogYXV0bztcbn0iXX0= */\"","import { Component, OnInit, ElementRef, ViewChild } from '@angular/core';\r\nimport { DataService } from '../services/data.service';\r\nimport { NavController, ActionSheetController, AlertController, ModalController, IonRouterOutlet, IonInfiniteScroll } from '@ionic/angular';\r\nimport { LoadingService } from '../services/loading.service';\r\nimport { LocalNotifications } from '@ionic-native/local-notifications/ngx';\r\n\r\nimport { ActivatedRoute, Router, NavigationExtras } from '@angular/router';\r\nimport { AngularFirestore } from '@angular/fire/firestore';\r\nimport { AngularFireAuth } from '@angular/fire/auth';\r\nimport { NgAnalyzeModulesHost } from '@angular/compiler';\r\nimport { ReactionListModalPage } from '../reaction-list-modal/reaction-list-modal.page';\r\nimport * as firebase from 'firebase';\r\nimport { FCM } from '@ionic-native/fcm/ngx';\r\nimport { Platform } from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-feed',\r\n  templateUrl: './feed.page.html',\r\n  styleUrls: ['./feed.page.scss'],\r\n})\r\nexport class FeedPage implements OnInit {\r\n  @ViewChild(IonInfiniteScroll, {static: true}) infiniteScroll: IonInfiniteScroll;\r\n  [x: string]: any;\r\n  pushes: any = [];\r\n  unreadMessagesCount: any;\r\n  friendRequestCount: any;\r\n  unreadGroupMessagesCount: any;\r\n  groupList: any;\r\n  groupsInfo: any;\r\n  conversationList: any;\r\n  conversationsInfo: any;\r\n  notifications: any = [];\r\n  private title: any;\r\n  private groupId: any;\r\n  private posts: any = [];\r\n  private memberofGroups: any = [];\r\n  private loggedInUser: any;\r\n  private loggedInUserId: any;\r\n  private firstDataSet: any;\r\n  private lastDataSet: any;\r\n  private maxNoOfPosts: any = 1000;\r\n\r\n  slideOptsOne = {\r\n    initialSlide: 0,\r\n    slidesPerView: 1,\r\n    autoplay: false\r\n   };\r\n  constructor(\r\n    public dataProvider: DataService,\r\n    public navCtrl: NavController,\r\n    public modalCtrl: ModalController,\r\n    public firestore: AngularFirestore,\r\n    public alertCtrl: AlertController,\r\n    private routerOutlet: IonRouterOutlet,\r\n    public loadingProvider: LoadingService,\r\n    public actionSheet: ActionSheetController,\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private afAuth: AngularFireAuth,\r\n    private localNotifications: LocalNotifications,\r\n    private fcm: FCM, \r\n    public plt: Platform\r\n    ) { \r\n      this.plt.ready()\r\n      .then(() => {\r\n        this.fcm.onNotification().subscribe(data => {\r\n          if (data.wasTapped) {\r\n            console.log(\"Received in background\");\r\n          } else {\r\n            console.log(\"Received in foreground\");\r\n          };\r\n        });\r\n\r\n        this.fcm.onTokenRefresh().subscribe(token => {\r\n          // Register your new token in your back-end if you want\r\n          // backend.registerToken(token);\r\n          console.log('token', token);\r\n        });\r\n      });\r\n    }\r\n\r\n    subscribeToTopic() {\r\n      this.fcm.subscribeToTopic('enappd');\r\n    }\r\n    getToken() {\r\n      this.fcm.getToken().then(token => {\r\n        // Register your new token in your back-end if you want\r\n        // backend.registerToken(token);\r\n      });\r\n    }\r\n    unsubscribeFromTopic() {\r\n      this.fcm.unsubscribeFromTopic('enappd');\r\n    }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n    this.loggedInUserId = firebase.auth().currentUser.uid;\r\n   // Get Posts\r\n    this.dataProvider.getCurrentUser().get().subscribe((user) => {\r\n     this.notifications = user.data().notifications;\r\n     this.loggedInUser = user.data();\r\n     this.getFeedData();\r\n    });\r\n  }\r\n\r\n  getFeedData() {\r\n    this.firstDataSet = this.firestore.collection('posts').ref\r\n    .where('groupId', 'in', this.loggedInUser.groups)\r\n    .orderBy('date', 'desc')\r\n    .limit(5);\r\n    this.firstDataSet.get().then((po: any) => {\r\n    this.lastDataSet = po.docs[po.docs.length - 1];\r\n    this.posts = [];\r\n    this.loadEachPostData(po);\r\n});\r\n  }\r\n  addOrUpdatePost(post) {\r\n    if (!this.posts) {\r\n      this.posts = [post];\r\n    } else {\r\n      let index = -1;\r\n      for (let i = 0; i < this.posts.length; i++) {\r\n        if (this.posts[i].key == post.key) {\r\n          index = i;\r\n        }\r\n      }\r\n      if (index > -1) {\r\n        this.posts[index] = post;\r\n      } else {\r\n        this.posts.push(post);\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  // Add or update conversaion for real-time sync of unreadMessagesCount.\r\n  addOrUpdateConversation(conversation) {\r\n    if (!this.conversationList) {\r\n      this.conversationList = [conversation];\r\n    } else {\r\n      let index = -1;\r\n      for (let i = 0; i < this.conversationList.length; i++) {\r\n        if (this.conversationList[i].$key == conversation.$key) {\r\n          index = i;\r\n        }\r\n      }\r\n      if (index > -1) {\r\n        this.conversationList[index] = conversation;\r\n      } else {\r\n        this.conversationList.push(conversation);\r\n      }\r\n    }\r\n    this.computeUnreadMessagesCount();\r\n  }\r\n\r\n  // Compute all conversation's unreadMessages.\r\n  computeUnreadMessagesCount() {\r\n    this.unreadMessagesCount = 0;\r\n    if (this.conversationList) {\r\n      for (let i = 0; i < this.conversationList.length; i++) {\r\n        this.unreadMessagesCount += this.conversationList[i].messages.length - this.conversationsInfo[i].messagesRead;\r\n        if (this.unreadMessagesCount == 0) {\r\n          this.unreadMessagesCount = null;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  getUnreadMessagesCount() {\r\n    if (this.unreadMessagesCount) {\r\n      if (this.unreadMessagesCount > 0) {\r\n        return this.unreadMessagesCount;\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  showGroupOptions() {\r\n    const action = this.actionSheet.create({\r\n      header: 'Create a new ...',\r\n      backdropDismiss: true,\r\n      mode: 'md',\r\n      cssClass: 'GroupAction',\r\n      buttons: [{\r\n        text: 'Post',\r\n        icon: 'chatbubbles-outline',\r\n        cssClass: 'actionicon',\r\n        handler: () => {\r\n          this.newPost();\r\n        }\r\n      }, {\r\n        text: 'Resource',\r\n        icon: 'document-outline',\r\n        handler: () => {\r\n          this.newResource();\r\n        }\r\n      }, {\r\n        text: 'Poll',\r\n        icon: 'podium-outline',\r\n        handler: () => {\r\n          this.newPoll();\r\n        }\r\n      }, {\r\n        text: 'Event',\r\n        icon: 'calendar-outline',\r\n        cssClass: 'cancelAction',\r\n        handler: () => {\r\n          this.newEvent();\r\n        }\r\n      }, {\r\n        text: 'Cancel',\r\n        icon: 'close',\r\n        role: 'cancel',\r\n        handler: () => {\r\n          console.log('Cancel clicked');\r\n        }\r\n      }]\r\n    }).then(r => r.present());\r\n  }\r\n\r\n  showPostOptions(post) {\r\n    const action = this.actionSheet.create({\r\n      header: 'Post options',\r\n      backdropDismiss: true,\r\n      mode: 'md',\r\n      cssClass: 'GroupAction',\r\n      buttons: this.createPostOptionButtons(post)\r\n    }).then(r => r.present());\r\n  }\r\n\r\n  newPoll() {\r\n    this.router.navigateByUrl('/new-poll/' + this.groupId);\r\n  }\r\n\r\n  newPost() {\r\n    this.router.navigateByUrl('/new-post/' + this.groupId);\r\n  }\r\n\r\n  newResource() {\r\n    this.router.navigateByUrl('/new-resource/' + this.groupId);\r\n  }\r\n\r\n  newEvent() {\r\n    this.router.navigateByUrl('/new-event/' + this.groupId);\r\n  }\r\n\r\n  submitReactionPost(post, reactionType) {\r\n    switch (reactionType) {\r\n      case 'Thanks': {\r\n        if (!post.showSmiley) {\r\n          this.addPostReaction(post, reactionType);\r\n          post.showSmiley = true;\r\n          post.totalReactionCount += 1;\r\n        } else {\r\n          this.removePostReaction(post, reactionType);\r\n          post.showSmiley = false;\r\n          post.totalReactionCount -= 1;\r\n        }\r\n        break;\r\n      }\r\n\r\n      case 'Hug': {\r\n        if (!post.showHug) {\r\n          this.addPostReaction(post, reactionType);\r\n          post.showHug = true;\r\n          post.totalReactionCount += 1;\r\n        } else {\r\n          this.removePostReaction(post, reactionType);\r\n          post.showHug = false;\r\n          post.totalReactionCount -= 1;\r\n        }\r\n        break;\r\n      }\r\n\r\n      case 'Checkin': {\r\n        if (!post.showCheckin) {\r\n          this.addPostReaction(post, reactionType);\r\n          post.showCheckin = true;\r\n          post.totalReactionCount += 1;\r\n        } else {\r\n          this.removePostReaction(post, reactionType);\r\n          post.showCheckin = false;\r\n          post.totalReactionCount -= 1;\r\n        }\r\n        break;\r\n      }\r\n\r\n      case 'Bookmark': {\r\n        if (!post.showBookmark) {\r\n          this.addPostReaction(post, reactionType);\r\n          post.showBookmark = true;\r\n          post.totalReactionCount += 1;\r\n        } else {\r\n          this.removePostReaction(post, reactionType);\r\n          post.showBookmark = false;\r\n          post.totalReactionCount -= 1;\r\n        }\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  addPostReaction(post, reactionType) {\r\n    // first find the post in the collection\r\n    const postIndex = this.posts.findIndex(el => el.key ===  post.key);\r\n    const p = this.posts[postIndex];\r\n    this.dataProvider.getCurrentUser().get().subscribe((account: any) => {\r\n      if (account) {\r\n      let reaction = {\r\n        key: '',\r\n        dateCreated: new Date(),\r\n        addedByUser: {\r\n                      addedByKey: this.dataProvider.getCurrentUserId(),\r\n                      addedByUsername: account.data().username,\r\n                      addedByImg: account.data().img\r\n                    },\r\n        reactionType\r\n    };\r\n\r\n      if (postIndex >= 0) {\r\n      this.dataProvider.updatePostReactions(post.key, reaction);\r\n    }\r\n  }\r\n  });\r\n  }\r\n\r\n  removePostReaction(post, reactionType) {\r\n    // first find the post in the collection\r\n    const postIndex = this.posts.findIndex(el => el.key ===  post.key);\r\n    const p = this.posts[postIndex];\r\n\r\n    const found = false;\r\n    if (p.reactions !== undefined) {\r\n      let values = Object.keys(p.reactions).map(function(e) {\r\n        return p.reactions[e];\r\n      });\r\n\r\n      const reaction = post.reactions.find(\r\n        el => el.addedByUser.addedByKey === this.dataProvider.getCurrentUserId()\r\n        && el.reactionType === reactionType);\r\n\r\n      console.log('reaction.key', reaction);\r\n      this.dataProvider.removePostReaction(post.key, reaction.key);\r\n    }\r\n  }\r\n\r\n  async showReactionsList(post) {\r\n    if (post.totalReactionCount === 0) {\r\n      return;\r\n    }\r\n   // first find the post in the collection\r\n    const postIndex = this.posts.findIndex(el => el.key ===  post.key);\r\n    const p = this.posts[postIndex];\r\n    const modal = await this.modalCtrl.create({\r\n      component: ReactionListModalPage,\r\n      swipeToClose: true,\r\n      presentingElement: this.routerOutlet.nativeEl,\r\n      componentProps: {\r\n        reactions: p.reactions\r\n      }\r\n    });\r\n    return await modal.present();\r\n  }\r\n\r\n  viewPost(post) {\r\n    this.router.navigateByUrl('post/' + post.key);\r\n  }\r\n\r\n  viewEvent(post) {\r\n    this.router.navigateByUrl('post/' + post.key);\r\n  }\r\n\r\n  viewPoll(post) {\r\n    this.router.navigateByUrl('post/' + post.key);\r\n  }\r\n\r\n  viewResource(post) {\r\n    this.router.navigateByUrl('post/' + post.key);\r\n  }\r\n\r\n  viewUser(userId) {\r\n    let loggedInUserId = this.dataProvider.getCurrentUserId();\r\n    console.log(loggedInUserId, userId);\r\n    if (loggedInUserId === userId) {\r\n      this.router.navigateByUrl('/profile');\r\n    } else {\r\n      this.router.navigateByUrl('/userinfo/' + userId);\r\n    }\r\n  }\r\n\r\n  viewGroup(groupId) {\r\n    this.router.navigateByUrl('/group/' + groupId);\r\n  }\r\n\r\n  followPost(post) {\r\n    if (!this.notifications) {\r\n      this.notifications = [post.key];\r\n    } else {\r\n      this.notifications.push(post.key);\r\n    }\r\n\r\n    this.dataProvider.getUser(this.loggedInUserId).update({\r\n      notifications: this.notifications\r\n    }).then(() => {\r\n      this.loadingProvider.showToast('You will be notified when there are new replies');\r\n    });\r\n  }\r\n\r\n  unFollowPost(post) {\r\n    const index = this.notifications.indexOf(post.key, 0);\r\n    if (index > -1) {\r\n      this.notifications.splice(index, 1);\r\n    }\r\n\r\n    this.dataProvider.getUser(this.loggedInUserId).update({\r\n      notifications: this.notifications\r\n    }).then(() => {\r\n      this.loadingProvider.showToast('You won\\'t get notifications for this post');\r\n    });\r\n  }\r\n\r\n  reportPost(post) {\r\n    this.dataProvider.addReports(this.loggedInUserId, post).then(() => {\r\n      this.loadingProvider.showToast('Thank you for reporting the post.');\r\n    });\r\n  }\r\n\r\n  deletePost(post) {\r\n    this.alertCtrl.create({\r\n      header: 'Delete Post',\r\n      message: 'Are you sure you want to delete this post?',\r\n      buttons: [\r\n        {\r\n          text: 'Cancel'\r\n        },\r\n        {\r\n          text: 'Yes',\r\n          handler: data => {\r\n             this.firestore.doc('posts/' + post.key).delete();\r\n          }\r\n        }\r\n      ]\r\n    }).then(r => r.present());\r\n  }\r\n\r\n  createPostOptionButtons(post) {\r\n    let buttons = [];\r\n    \r\n    let cancelButton = {\r\n      text: 'Cancel',\r\n      icon: 'close',\r\n      role: 'cancel',\r\n      handler: () => {\r\n        console.log('Cancel clicked');\r\n      }\r\n    };\r\n\r\n    let reportButton = {\r\n      text: 'Report Post',\r\n      icon: 'flag-outline',\r\n      handler: () => {\r\n        this.reportPost(post);\r\n       }\r\n      };\r\n    let notificationButton = {};\r\n\r\n    if (post.addedByUser.addedByKey === this.loggedInUserId) {\r\n      const deletePostButton = {\r\n        text: 'Delete Post',\r\n        icon: 'trash-outline',\r\n        cssClass: 'actionicon',\r\n        handler: () => {\r\n          this.deletePost(post);\r\n        }\r\n      };\r\n      buttons.push(deletePostButton);\r\n    } else {\r\n      if (this.notifications && this.notifications.some(el => el === post.key)) {\r\n        notificationButton = {\r\n            text: 'Turn Off Notifications',\r\n            icon: 'notifications-off-outline',\r\n            cssClass: 'actionicon',\r\n            handler: () => {\r\n              this.unFollowPost(post);\r\n            }\r\n          };\r\n      } else {\r\n        notificationButton = {\r\n          text: 'Turn On Notifications',\r\n          icon: 'notifications-outline',\r\n          cssClass: 'actionicon',\r\n          handler: () => {\r\n            this.followPost(post);\r\n          }\r\n        };\r\n      }\r\n      buttons.push(notificationButton);\r\n  }\r\n    buttons.push(reportButton);\r\n    buttons.push(cancelButton);\r\n    return buttons;\r\n  }\r\n\r\n  loadData(event) {\r\n    if ( this.posts.length > this.maxNoOfPosts ) {\r\n      event.target.disabled = true;\r\n    } else {\r\n      if (this.lastDataSet) {\r\n      this.nextDataSet = this.firestore.collection('posts').ref\r\n                          .where('groupId', 'in', this.loggedInUser.groups)\r\n                          .orderBy('date', 'desc')\r\n                          .startAfter(this.lastDataSet).limit(5);\r\n      this.nextDataSet.onSnapshot((po: any) => {\r\n      this.lastDataSet = po.docs[po.docs.length - 1];\r\n      console.log('po.docs.length', po.docs.length);\r\n      if (po.docs.length > 0) {\r\n        this.loadEachPostData(po);\r\n      }\r\n      event.target.complete();\r\n        });\r\n      } else {\r\n        event.target.complete();\r\n      }\r\n    }\r\n  }\r\n\r\n  loadEachPostData(po: any) {\r\n    po.forEach(p => {\r\n      let post: any;\r\n      post = p.data();\r\n      post.key = p.id;\r\n      const startDate = new Date(post.date);\r\n    // Do your operations\r\n      const endDate   = new Date();\r\n      const seconds = (endDate.getTime() - startDate.getTime()) / 1000;\r\n      if (seconds > 120) {\r\n      post.showNewIcon = false;\r\n    } else {\r\n      post.showNewIcon = true;\r\n    }\r\n\r\n      if (post.type === 'poll') {\r\n        const today = new Date();\r\n        const de = post.data.dateEnding.toDate();\r\n        if (post.de < today) {\r\n          post.pollClosed = true;\r\n        } else {\r\n          post.pollClosed = false;\r\n        }\r\n      }\r\n      // get reactions list\r\n      this.firestore.collection('posts').doc(post.key).collection('reactions').snapshotChanges().subscribe((reactions: any) => {\r\n        post.reactions = [];\r\n        reactions.forEach(element => {\r\n        let reaction = element.payload.doc.data();\r\n        reaction.key = element.payload.doc.id;\r\n        post.reactions.push(reaction);\r\n      });\r\n\r\n        // Check for Thanks\r\n        if (reactions) {\r\n        let foundSmiley = false;\r\n        if (post.reactions !== undefined) {\r\n            foundSmiley = post.reactions.some(el => el.addedByUser.addedByKey === this.dataProvider.getCurrentUserId() \r\n                                          && el.reactionType === 'Thanks');\r\n          }\r\n        if (foundSmiley) {\r\n            post.showSmiley = true;\r\n          } else {\r\n            post.showSmiley = false;\r\n          }\r\n          // Check for Hugs\r\n        let foundHug = false;\r\n        if (post.reactions !== undefined) {\r\n            foundHug = post.reactions.some(el => el.addedByUser.addedByKey === this.dataProvider.getCurrentUserId() \r\n                                        && el.reactionType === 'Hug');\r\n          }\r\n        if (foundHug) {\r\n            post.showHug = true;\r\n          } else {\r\n            post.showHug = false;\r\n          }\r\n\r\n        // Check for Checkin\r\n        let foundCheckin = false;\r\n        if (post.reactions !== undefined) {\r\n          foundCheckin = post.reactions.some(el => el.addedByUser.addedByKey === this.dataProvider.getCurrentUserId() \r\n                                        && el.reactionType === 'Checkin');\r\n          }\r\n        if (foundCheckin) {\r\n            post.showCheckin = true;\r\n          } else {\r\n            post.showCheckin = false;\r\n          }\r\n\r\n        // Check for Bookmark\r\n        let foundBookmark = false;\r\n        if (post.reactions !== undefined) {\r\n          foundBookmark = post.reactions.some(el => el.addedByUser.addedByKey === this.dataProvider.getCurrentUserId() \r\n                                        && el.reactionType === 'Bookmark');\r\n          }\r\n        if (foundBookmark) {\r\n            post.showBookmark = true;\r\n          } else {\r\n            post.showBookmark = false;\r\n          }\r\n      }\r\n      });\r\n      post.postTags = post.postTags.filter(x => x.isChecked !== false);\r\n      this.addOrUpdatePost(post);\r\n    });\r\n  }\r\n\r\n  doRefresh(event) {\r\n    this.getFeedData();\r\n    event.target.complete();\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///","file":"feed-feed-module-es5.js"}