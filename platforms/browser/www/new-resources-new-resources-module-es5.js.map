{"version":3,"sources":["webpack:///src/app/new-resources/new-resources.page.html","webpack:///src/app/new-resources/new-resources.page.scss","webpack:///src/app/new-resources/new-resources.page.ts","webpack:///src/app/new-resources/new-resources.module.ts"],"names":["NewResourcesPage","route","dataProvider","loadingProvider","alertCtrl","afAuth","router","camera","keyboard","actionSheet","contacts","geolocation","imageProvider","http","firestore","postTags","metaicon","metadescription","metatitle","step","validations","title","type","message","name","address","phones","email","tags","link","groupId","snapshot","params","id","group","contactForm","required","compose","pattern","tagsSelected","uploadForm","weblinkForm","forEach","o","i","control","controls","push","getCurrentUser","snapshotChanges","subscribe","value","user","payload","data","addedByUser","addedByKey","userId","addedByUsername","username","addedByImg","img","resource","date","groupName","totalReactionCount","totalReviewCount","groups","collection","ref","where","FieldPath","documentId","get","then","g","key","addOrUpdateUserGroup","tab","console","log","getGroup","groupTags","element","val","isChecked","addContactTagControls","addLinkTagControls","addUploadTagControls","index","length","$event","getDummyData","account","navigateByUrl","show","Date","replace","addResourceToDatabase","metasite","getMeta","responseType","res","description","hide","action","create","header","backdropDismiss","mode","buttons","text","handler","uploadGroupPhotoResource","PictureSourceType","CAMERA","url","uploadtype","PHOTOLIBRARY","uploadGroupVideoResource","pickContact","displayName","givenName","familyName","addresses","phoneNumbers","emails","err","getCurrentPosition","timeout","locationMessage","coords","latitude","longitude","confirm","r","present","locationErr","JSON","stringify","role","addPost","success","postId","resourceId","posts","undefined","update","selector","template","routes","path","component","NewResourcesPageModule","imports","forChild","declarations"],"mappings":"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","file":"new-resources-new-resources-module-es5.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>{{title}}</ion-title>\\r\\n    <ion-buttons *ngIf=\\\"step==2\\\" slot=\\\"end\\\">\\r\\n      <ion-button *ngIf=\\\"tab=='contact'\\\" color=\\\"secondary\\\" class=\\\"ion-text-capitalize\\\" [disabled]=\\\"!contactForm.valid\\\" (click)=\\\"submitContactForm()\\\">Post</ion-button>\\r\\n      <ion-button *ngIf=\\\"tab=='upload'\\\" color=\\\"secondary\\\" class=\\\"ion-text-capitalize\\\" [disabled]=\\\"!uploadForm.valid\\\" (click)=\\\"submitUploadForm()\\\">Post</ion-button>\\r\\n      <ion-button *ngIf=\\\"tab=='link'\\\" color=\\\"secondary\\\" class=\\\"ion-text-capitalize\\\" [disabled]=\\\"!weblinkForm.valid\\\" (click)=\\\"submitLinkForm()\\\">Post</ion-button>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n  <ion-segment *ngIf=\\\"step==2\\\" color=\\\"secondary\\\" [(ngModel)]=\\\"tab\\\" (ionChange)=\\\"segmentChanged($event)\\\">\\r\\n    <ion-segment-button value=\\\"contact\\\">\\r\\n      Contact\\r\\n    </ion-segment-button>\\r\\n    <ion-segment-button value=\\\"upload\\\">\\r\\n      Upload\\r\\n    </ion-segment-button>\\r\\n    <ion-segment-button value=\\\"link\\\">\\r\\n      Link\\r\\n    </ion-segment-button>\\r\\n  </ion-segment>\\r\\n</ion-header> \\r\\n\\r\\n<ion-content  class=\\\"forms-validations-content\\\">\\r\\n  <div *ngIf=\\\"step==1\\\"> \\r\\n    <div *ngIf=\\\"groups && groups.length > 0\\\">\\r\\n      <ion-list>\\r\\n        <ion-item text-wrap *ngFor=\\\"let group of groups\\\" (click)=\\\"selectGroup(group.$key)\\\">\\r\\n          <ion-thumbnail slot=\\\"start\\\">\\r\\n            <img src=\\\"{{group.img}}\\\" onError=\\\"this.src='./assets/images/default-group.png'\\\">\\r\\n          </ion-thumbnail>\\r\\n          <ion-label>\\r\\n              <b>{{group.name}}</b><br/>\\r\\n              {{group.description}}\\r\\n          </ion-label>\\r\\n        </ion-item>\\r\\n      </ion-list>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div *ngIf=\\\"step==2\\\">\\r\\n  <div [ngSwitch]=\\\"tab\\\">\\r\\n    <div *ngSwitchCase=\\\"'contact'\\\">\\r\\n      <form class=\\\"validations-form\\\" [formGroup]=\\\"contactForm\\\" (ngSubmit)=\\\"submitContactForm()\\\">\\r\\n        <ion-list class=\\\"inputs-list\\\" lines=\\\"full\\\">\\r\\n          <ion-list-header class=\\\"header\\\">\\r\\n            posting in &nbsp;<ion-label><b>{{group.name}}</b></ion-label>\\r\\n          </ion-list-header>\\r\\n          <ion-item class=\\\"input-item\\\">\\r\\n            <ion-input type=\\\"text\\\" formControlName=\\\"title\\\" clearInput placeholder=\\\"Enter a short description\\\"></ion-input>\\r\\n          </ion-item>\\r\\n          <ion-item class=\\\"input-item\\\">\\r\\n            <ion-input type=\\\"text\\\" formControlName=\\\"name\\\" clearInput placeholder=\\\"Enter the name of the contact\\\"></ion-input>\\r\\n          </ion-item>\\r\\n          <ion-item class=\\\"input-item\\\">\\r\\n            <ion-textarea rows=\\\"6\\\"  formControlName=\\\"address\\\" clearInput placeholder=\\\"Enter the full address of the contact\\\"></ion-textarea>\\r\\n          </ion-item>\\r\\n          <ion-item class=\\\"input-item\\\">\\r\\n            <ion-input type=\\\"text\\\" formControlName=\\\"phones\\\" clearInput placeholder=\\\"Enter one or more phone numbers (comma separated)\\\"></ion-input>\\r\\n          </ion-item>\\r\\n          <ion-item class=\\\"input-item\\\">\\r\\n            <ion-input type=\\\"text\\\" formControlName=\\\"email\\\" clearInput placeholder=\\\"Enter an email address if available\\\"></ion-input>\\r\\n          </ion-item>\\r\\n        </ion-list>\\r\\n        <ion-list class=\\\"inputs-list\\\" lines=\\\"full\\\">\\r\\n          <ion-list-header>\\r\\n            <ion-label class=\\\"header-title\\\">Select relevant tags</ion-label>\\r\\n          </ion-list-header>\\r\\n    \\r\\n          <div class=\\\"reviews-wrapper\\\">\\r\\n          <ion-row>\\r\\n            <div class=\\\"tags\\\" formArrayName=\\\"tags\\\" *ngFor=\\\"let entry of contactForm.controls.tags.controls; let i = index\\\">\\r\\n              <ion-label *ngIf=\\\"postTags[i] === undefined || !postTags[i].isChecked\\\" class=\\\"item-rating\\\" [attr.ratingBase]=\\\"0\\\">{{postTags[i].val}}</ion-label>\\r\\n              <ion-label *ngIf=\\\"postTags[i] !== undefined && postTags[i].isChecked\\\" class=\\\"item-rating\\\" [attr.ratingBase]=\\\"1\\\">{{postTags[i].val}}</ion-label>  \\r\\n              <ion-checkbox slot=\\\"start\\\" [formControlName]=\\\"i\\\" [(ngModel)]=\\\"postTags[i].isChecked\\\"></ion-checkbox>\\r\\n            </div>\\r\\n          </ion-row>\\r\\n  \\r\\n          <div class=\\\"error-container\\\">\\r\\n            <ng-container *ngFor=\\\"let validation of validations.tags\\\">\\r\\n              <div class=\\\"error-message\\\" *ngIf=\\\"contactForm.get('tags').hasError(validation.type) && (contactForm.get('tags').dirty || contactForm.get('tags').touched)\\\">\\r\\n                <ion-icon name=\\\"information-circle-outline\\\"></ion-icon>\\r\\n                <span>{{ validation.message }}</span>\\r\\n              </div>\\r\\n            </ng-container>\\r\\n          </div>\\r\\n          </div>\\r\\n        </ion-list>\\r\\n  \\r\\n        <!-- <ion-button class=\\\"submit-btn\\\" type=\\\"submit\\\" expand=\\\"block\\\" fill=\\\"outline\\\" [disabled]=\\\"!contactForm.valid\\\">Submit</ion-button> -->\\r\\n\\r\\n      </form>\\r\\n    </div>\\r\\n    <div *ngSwitchCase=\\\"'upload'\\\">\\r\\n   <form class=\\\"validations-form\\\" [formGroup]=\\\"uploadForm\\\" (ngSubmit)=\\\"submitUploadForm()\\\">\\r\\n        <ion-list class=\\\"inputs-list\\\" lines=\\\"full\\\">\\r\\n          <ion-list-header class=\\\"header\\\">\\r\\n            posting in &nbsp;<ion-label><b>{{group.name}}</b></ion-label>\\r\\n          </ion-list-header>\\r\\n          <ion-item class=\\\"input-item\\\">\\r\\n            <ion-input type=\\\"text\\\" formControlName=\\\"title\\\" clearInput placeholder=\\\"Enter a short description\\\"></ion-input>\\r\\n          </ion-item>\\r\\n          <ion-item class=\\\"input-item\\\">\\r\\n            <ion-buttons>\\r\\n              <ion-button expand=\\\"block\\\" color=\\\"secondary\\\" (click)=\\\"upload()\\\"><ion-icon name=\\\"attach\\\"></ion-icon>Attach a File/Document</ion-button>\\r\\n            </ion-buttons>\\r\\n          </ion-item>\\r\\n        </ion-list>\\r\\n        <ion-list class=\\\"inputs-list\\\" lines=\\\"full\\\">\\r\\n          <ion-list-header>\\r\\n            <ion-label class=\\\"header-title\\\">Select relevant tags</ion-label>\\r\\n          </ion-list-header>\\r\\n    \\r\\n          <div class=\\\"reviews-wrapper\\\">\\r\\n          <ion-row>\\r\\n            <div class=\\\"tags\\\" formArrayName=\\\"tags\\\" *ngFor=\\\"let entry of uploadForm.controls.tags.controls; let i = index\\\">\\r\\n              <ion-label *ngIf=\\\"postTags[i] === undefined || !postTags[i].isChecked\\\" class=\\\"item-rating\\\" [attr.ratingBase]=\\\"0\\\">{{postTags[i].val}}</ion-label>\\r\\n              <ion-label *ngIf=\\\"postTags[i] !== undefined && postTags[i].isChecked\\\" class=\\\"item-rating\\\" [attr.ratingBase]=\\\"1\\\">{{postTags[i].val}}</ion-label>  \\r\\n              <ion-checkbox slot=\\\"start\\\" [formControlName]=\\\"i\\\" [(ngModel)]=\\\"postTags[i].isChecked\\\"></ion-checkbox>\\r\\n            </div>\\r\\n          </ion-row>\\r\\n  \\r\\n          <div class=\\\"error-container\\\">\\r\\n            <ng-container *ngFor=\\\"let validation of validations.tags\\\">\\r\\n              <div class=\\\"error-message\\\" *ngIf=\\\"uploadForm.get('tags').hasError(validation.type) && (uploadForm.get('tags').dirty || uploadForm.get('tags').touched)\\\">\\r\\n                <ion-icon name=\\\"information-circle-outline\\\"></ion-icon>\\r\\n                <span>{{ validation.message }}</span>\\r\\n              </div>\\r\\n            </ng-container>\\r\\n          </div>\\r\\n          </div>\\r\\n        </ion-list>\\r\\n  \\r\\n        <!-- <ion-button class=\\\"submit-btn\\\" type=\\\"submit\\\" expand=\\\"block\\\" fill=\\\"outline\\\" [disabled]=\\\"!uploadForm.valid\\\">Submit</ion-button> -->\\r\\n\\r\\n      </form>\\r\\n    </div>\\r\\n    <div *ngSwitchCase=\\\"'link'\\\">\\r\\n      <form class=\\\"validations-form\\\" [formGroup]=\\\"weblinkForm\\\" (ngSubmit)=\\\"submitLinkForm()\\\">\\r\\n        <ion-list class=\\\"inputs-list\\\" lines=\\\"full\\\">\\r\\n          <ion-list-header class=\\\"header\\\">\\r\\n            posting in &nbsp;<ion-label><b>{{group.name}}</b></ion-label>\\r\\n          </ion-list-header>\\r\\n          <ion-item class=\\\"input-item\\\">\\r\\n            <ion-input type=\\\"text\\\" formControlName=\\\"title\\\" clearInput placeholder=\\\"Enter a short description\\\"></ion-input>\\r\\n          </ion-item>\\r\\n          <ion-item class=\\\"input-item\\\">\\r\\n            <ion-input type=\\\"text\\\" formControlName=\\\"link\\\" clearInput placeholder=\\\"Paste or type the link\\\" (focusout)=\\\"linkFocusOut()\\\"></ion-input>\\r\\n          </ion-item>\\r\\n          <div>\\r\\n            <hr/>\\r\\n            <div>\\r\\n              <div>\\r\\n                <img *ngIf=\\\"metaicon\\\" [src]=\\\"metaicon\\\"/>      \\r\\n              </div>\\r\\n              <div>\\r\\n                <h2>{{metatitle}}</h2>\\r\\n                <span>{{metadescription}}</span>\\r\\n              </div>\\r\\n              <div> <h6></h6>{{metasite}}</div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </ion-list>\\r\\n          <ion-list class=\\\"inputs-list\\\" lines=\\\"full\\\">\\r\\n            <ion-list-header>\\r\\n              <ion-label class=\\\"header-title\\\">Select relevant tags</ion-label>\\r\\n            </ion-list-header>\\r\\n      \\r\\n            <div class=\\\"reviews-wrapper\\\">\\r\\n            <ion-row>\\r\\n              <div class=\\\"tags\\\" formArrayName=\\\"tags\\\" *ngFor=\\\"let entry of weblinkForm.controls.tags.controls; let i = index\\\">\\r\\n                <ion-label *ngIf=\\\"postTags[i] === undefined || !postTags[i].isChecked\\\" class=\\\"item-rating\\\" [attr.ratingBase]=\\\"0\\\">{{postTags[i].val}}</ion-label>\\r\\n                <ion-label *ngIf=\\\"postTags[i] !== undefined && postTags[i].isChecked\\\" class=\\\"item-rating\\\" [attr.ratingBase]=\\\"1\\\">{{postTags[i].val}}</ion-label>  \\r\\n                <ion-checkbox slot=\\\"start\\\" [formControlName]=\\\"i\\\" [(ngModel)]=\\\"postTags[i].isChecked\\\"></ion-checkbox>\\r\\n              </div>\\r\\n            </ion-row>\\r\\n    \\r\\n            <div class=\\\"error-container\\\"> \\r\\n              <ng-container *ngFor=\\\"let validation of validations.tags\\\">\\r\\n                <div class=\\\"error-message\\\" *ngIf=\\\"weblinkForm.get('tags').hasError(validation.type) && (weblinkForm.get('tags').dirty || weblinkForm.get('tags').touched)\\\">\\r\\n                  <ion-icon name=\\\"information-circle-outline\\\"></ion-icon>\\r\\n                  <span>{{ validation.message }}</span>\\r\\n                </div>\\r\\n              </ng-container>\\r\\n            </div>\\r\\n            </div>\\r\\n          </ion-list>\\r\\n  \\r\\n        <!-- <ion-button class=\\\"submit-btn\\\" type=\\\"submit\\\" expand=\\\"block\\\" fill=\\\"outline\\\" [disabled]=\\\"!weblinkForm.valid\\\">Submit</ion-button> -->\\r\\n\\r\\n      </form> \\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n</ion-content>\";","export default \":host {\\n  --page-margin: var(--app-narrow-margin);\\n}\\n\\n.forms-validations-content .validations-form {\\n  margin-bottom: calc(var(--page-margin) * 2);\\n}\\n\\n.forms-validations-content .validations-form .inputs-list {\\n  padding: var(--page-margin) var(--page-margin) calc(var(--page-margin) * 2);\\n}\\n\\n.forms-validations-content .validations-form .inputs-list .header {\\n  font-size: 14px;\\n}\\n\\n.forms-validations-content .validations-form .inputs-list .error-container .error-message {\\n  margin: calc(var(--page-margin) / 2) 0px;\\n  display: flex;\\n  align-items: center;\\n  color: var(--ion-color-danger);\\n  font-size: 14px;\\n}\\n\\n.forms-validations-content .validations-form .inputs-list .error-container .error-message ion-icon {\\n  -webkit-padding-end: calc(var(--page-margin) / 2);\\n          padding-inline-end: calc(var(--page-margin) / 2);\\n  flex-shrink: 0;\\n}\\n\\n.forms-validations-content .validations-form .submit-btn {\\n  margin: var(--page-margin);\\n}\\n\\n.forms-validations-content .tags {\\n  padding-right: 5px;\\n  padding-bottom: 5px;\\n}\\n\\n.forms-validations-content .tags .item-rating {\\n  background-color: rgba(var(--page-color-rgb), 0.35);\\n  color: var(--ion-color-lightest);\\n  border-radius: var(--app-narrow-radius);\\n  padding-top: calc(var(--page-margin) / 3);\\n  padding-bottom: calc(var(--page-margin) / 3);\\n  padding-left: calc(var(--page-margin) / 2);\\n  padding-right: calc(var(--page-margin) / 2);\\n  font-size: 12px;\\n  font-weight: 600;\\n  width: 100%;\\n  display: block;\\n  text-align: center;\\n}\\n\\n.forms-validations-content .tags .item-rating[ratingBase=\\\"0\\\"] {\\n  background-color: #bbb2b2;\\n}\\n\\n.forms-validations-content .tags .item-rating[ratingBase=\\\"1\\\"] {\\n  background-color: #e0c77c;\\n}\\n\\n.forms-validations-content .tags ion-checkbox {\\n  margin: 0px;\\n  width: 50px;\\n  align-content: center;\\n  --border-width: 0px;\\n  --color-checked: transparent;\\n  margin-left: 9px;\\n  margin-top: -20px;\\n  display: block;\\n  opacity: 0;\\n}\\n\\n.uploads {\\n  margin: 5px;\\n}\\n\\n.uploads .img-wrap {\\n  position: relative;\\n  display: inline-block;\\n  font-size: 0;\\n  padding: 5px;\\n}\\n\\n.uploads .img-wrap .close {\\n  position: absolute;\\n  top: -2px;\\n  right: -7px;\\n  z-index: 100;\\n  background-color: #FFF;\\n  padding: 5px 2px 2px;\\n  color: #000;\\n  cursor: pointer;\\n  text-align: center;\\n  font-size: 22px;\\n  line-height: 10px;\\n  border-radius: 50%;\\n}\\n\\n.uploads .img-wrap:hover .close {\\n  opacity: 1;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbmV3LXJlc291cmNlcy9uZXctcmVzb3VyY2VzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLHVDQUFBO0FBQ0Y7O0FBR0c7RUFDQywyQ0FBQTtBQUFKOztBQUVJO0VBQ0UsMkVBQUE7QUFBTjs7QUFFTTtFQUNFLGVBQUE7QUFBUjs7QUFHUTtFQUNFLHdDQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsOEJBQUE7RUFDQSxlQUFBO0FBRFY7O0FBR1U7RUFDRSxpREFBQTtVQUFBLGdEQUFBO0VBQ0EsY0FBQTtBQURaOztBQU9JO0VBQ0UsMEJBQUE7QUFMTjs7QUFTRTtFQUNFLGtCQUFBO0VBQ0EsbUJBQUE7QUFQSjs7QUFRRTtFQUVFLG1EQUFBO0VBQ1EsZ0NBQUE7RUFDQSx1Q0FBQTtFQUNBLHlDQUFBO0VBQ0EsNENBQUE7RUFDQSwwQ0FBQTtFQUNBLDJDQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0VBQ0EsV0FBQTtFQUNBLGNBQUE7RUFDQSxrQkFBQTtBQVBaOztBQVFZO0VBQ0UseUJBQUE7QUFOZDs7QUFRWTtFQUNFLHlCQUFBO0FBTmQ7O0FBU0U7RUFDRSxXQUFBO0VBQ0EsV0FBQTtFQUNBLHFCQUFBO0VBQ0EsbUJBQUE7RUFDQSw0QkFBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7RUFDQSxjQUFBO0VBQ0EsVUFBQTtBQVBKOztBQWFBO0VBQ0UsV0FBQTtBQVZGOztBQVdBO0VBQ0Usa0JBQUE7RUFDQSxxQkFBQTtFQUNBLFlBQUE7RUFDQSxZQUFBO0FBVEY7O0FBV0E7RUFDRSxrQkFBQTtFQUNBLFNBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLHNCQUFBO0VBQ0Esb0JBQUE7RUFDQSxXQUFBO0VBQ0EsZUFBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7QUFURjs7QUFXQTtFQUNFLFVBQUE7QUFURiIsImZpbGUiOiJzcmMvYXBwL25ldy1yZXNvdXJjZXMvbmV3LXJlc291cmNlcy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XHJcbiAgLS1wYWdlLW1hcmdpbjogdmFyKC0tYXBwLW5hcnJvdy1tYXJnaW4pO1xyXG59XHJcblxyXG4uZm9ybXMtdmFsaWRhdGlvbnMtY29udGVudCB7XHJcbiAgIC52YWxpZGF0aW9ucy1mb3JtIHtcclxuICAgIG1hcmdpbi1ib3R0b206IGNhbGModmFyKC0tcGFnZS1tYXJnaW4pICogMik7XHJcblxyXG4gICAgLmlucHV0cy1saXN0IHtcclxuICAgICAgcGFkZGluZzogdmFyKC0tcGFnZS1tYXJnaW4pIHZhcigtLXBhZ2UtbWFyZ2luKSBjYWxjKHZhcigtLXBhZ2UtbWFyZ2luKSAqIDIpO1xyXG5cclxuICAgICAgLmhlYWRlciB7XHJcbiAgICAgICAgZm9udC1zaXplOiAxNHB4O1xyXG4gICAgICB9XHJcbiAgICAgIC5lcnJvci1jb250YWluZXIge1xyXG4gICAgICAgIC5lcnJvci1tZXNzYWdlIHtcclxuICAgICAgICAgIG1hcmdpbjogY2FsYyh2YXIoLS1wYWdlLW1hcmdpbikgLyAyKSAwcHg7XHJcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAgICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFuZ2VyKTtcclxuICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDtcclxuXHJcbiAgICAgICAgICBpb24taWNvbiB7XHJcbiAgICAgICAgICAgIHBhZGRpbmctaW5saW5lLWVuZDogY2FsYyh2YXIoLS1wYWdlLW1hcmdpbikgLyAyKTtcclxuICAgICAgICAgICAgZmxleC1zaHJpbms6IDA7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAuc3VibWl0LWJ0biB7XHJcbiAgICAgIG1hcmdpbjogdmFyKC0tcGFnZS1tYXJnaW4pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLnRhZ3Mge1xyXG4gICAgcGFkZGluZy1yaWdodDogNXB4O1xyXG4gICAgcGFkZGluZy1ib3R0b206IDVweDtcclxuICAuaXRlbS1yYXRpbmcge1xyXG4gICAgLy8gRGVmYXVsdCBiYWNrZ3JvdW5kXHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKHZhcigtLXBhZ2UtY29sb3ItcmdiKSwgLjM1KTtcclxuICAgICAgICAgICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1saWdodGVzdCk7XHJcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLWFwcC1uYXJyb3ctcmFkaXVzKTtcclxuICAgICAgICAgICAgcGFkZGluZy10b3A6IGNhbGModmFyKC0tcGFnZS1tYXJnaW4pIC8gMyk7XHJcbiAgICAgICAgICAgIHBhZGRpbmctYm90dG9tOiBjYWxjKHZhcigtLXBhZ2UtbWFyZ2luKSAvIDMpO1xyXG4gICAgICAgICAgICBwYWRkaW5nLWxlZnQ6IGNhbGModmFyKC0tcGFnZS1tYXJnaW4pIC8gMik7XHJcbiAgICAgICAgICAgIHBhZGRpbmctcmlnaHQ6IGNhbGModmFyKC0tcGFnZS1tYXJnaW4pIC8gMik7XHJcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDtcclxuICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgICAgICAgICZbcmF0aW5nQmFzZT1cIjBcIl0ge1xyXG4gICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNiYmIyYjI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgJltyYXRpbmdCYXNlPVwiMVwiXSB7XHJcbiAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2UwYzc3YztcclxuICAgICAgICAgICAgfVxyXG4gIH1cclxuICBpb24tY2hlY2tib3gge1xyXG4gICAgbWFyZ2luOiAwcHg7XHJcbiAgICB3aWR0aDogNTBweDtcclxuICAgIGFsaWduLWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIC0tYm9yZGVyLXdpZHRoOiAwcHg7XHJcbiAgICAtLWNvbG9yLWNoZWNrZWQ6IHRyYW5zcGFyZW50O1xyXG4gICAgbWFyZ2luLWxlZnQ6IDlweDtcclxuICAgIG1hcmdpbi10b3A6IC0yMHB4O1xyXG4gICAgZGlzcGxheTpibG9jaztcclxuICAgIG9wYWNpdHk6IDA7XHJcbiAgfVxyXG4gIFxyXG59XHJcbn1cclxuXHJcbi51cGxvYWRzIHtcclxuICBtYXJnaW46IDVweDtcclxuLmltZy13cmFwIHtcclxuICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gIGZvbnQtc2l6ZTogMDtcclxuICBwYWRkaW5nOiA1cHg7XHJcbn1cclxuLmltZy13cmFwIC5jbG9zZSB7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIHRvcDogLTJweDtcclxuICByaWdodDogLTdweDtcclxuICB6LWluZGV4OiAxMDA7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI0ZGRjtcclxuICBwYWRkaW5nOiA1cHggMnB4IDJweDtcclxuICBjb2xvcjogIzAwMDtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIGZvbnQtc2l6ZTogMjJweDtcclxuICBsaW5lLWhlaWdodDogMTBweDtcclxuICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbn1cclxuLmltZy13cmFwOmhvdmVyIC5jbG9zZSB7XHJcbiAgb3BhY2l0eTogMTtcclxufVxyXG59XHJcblxyXG4iXX0= */\";","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, Validators, FormControl, FormArray } from '@angular/forms';\r\nimport { DataService } from '../services/data.service';\r\nimport { LoadingService } from '../services/loading.service';\r\nimport { AlertController, ActionSheetController } from '@ionic/angular';\r\nimport { AngularFireAuth } from '@angular/fire/auth';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Camera } from '@ionic-native/camera/ngx';\r\nimport { ImageService } from '../services/image.service';\r\nimport { Contacts } from '@ionic-native/contacts/ngx';\r\nimport { Keyboard } from '@ionic-native/keyboard/ngx';\r\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\r\nimport { HttpClient, HttpClientModule } from '@angular/common/http';\r\nimport { CheckboxCheckedValidator } from '../validators/checkbox-checked.validator';\r\nimport * as firebase from 'firebase/app';\r\nimport { AngularFirestore } from '@angular/fire/firestore';\r\n\r\n@Component({\r\n  selector: 'app-new-resources',\r\n  templateUrl: './new-resources.page.html',\r\n  styleUrls: ['./new-resources.page.scss'],\r\n})\r\nexport class NewResourcesPage implements OnInit {\r\n  private resource: any;\r\n  private title: any;\r\n  private user: any;\r\n  private contactForm: FormGroup;\r\n  private uploadForm: FormGroup;\r\n  private weblinkForm: FormGroup;\r\n  private postTags: any = [];\r\n  private tab: any;\r\n  private groupId: any;\r\n  private group: any;\r\n  private resourceId: any;\r\n  private metaicon: any = '';\r\n  private metadescription: any = '';\r\n  private metatitle: any = '';\r\n  private metasite: any;\r\n  private segment: any;\r\n  require: any;\r\n  private addedByUser: any;\r\n  private step: any = 1;\r\n  groups: any;\r\n\r\n\r\n  validations = {\r\n    title: [\r\n      { type: 'required', message: 'Title is a required field.' }\r\n    ],\r\n    name: [\r\n      { type: 'required', message: 'Name is a required field.' }\r\n    ],\r\n    address: [\r\n      { type: 'required', message: 'Address is a required field.' }\r\n    ],\r\n    phones: [\r\n      { type: 'required', message: 'Phone is a required field.' }\r\n    ],\r\n    email: [\r\n      { type: 'pattern', message: 'Enter a valid email.' }\r\n    ],\r\n    tags: [\r\n      { type: 'required', message: 'Please select at least one tag.' }\r\n    ],\r\n    link: [\r\n      { type: 'pattern', message: 'Please enter a correct weblink.' }\r\n    ]\r\n    };\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private dataProvider: DataService,\r\n    private loadingProvider: LoadingService,\r\n    public alertCtrl: AlertController,\r\n    private afAuth: AngularFireAuth,\r\n    private router: Router,\r\n    public camera: Camera,\r\n    public keyboard: Keyboard,\r\n    public actionSheet: ActionSheetController,\r\n    public contacts: Contacts,\r\n    public geolocation: Geolocation,\r\n    public imageProvider: ImageService,\r\n    private http: HttpClient,\r\n    public firestore: AngularFirestore\r\n  ) {\r\n    this.groupId = this.route.snapshot.params.id;\r\n\r\n    this.group = {name: ''}\r\n    if (this.groupId === 'undefined') {\r\n      this.step = 1;\r\n    } else {\r\n      this.step = 2;\r\n    }\r\n\r\n    this.contactForm = new FormGroup(\r\n      {\r\n        title: new FormControl('', Validators.required),\r\n        name: new FormControl('', Validators.required),\r\n        address: new FormControl('', Validators.required),\r\n        phones: new FormControl(''),\r\n        email: new FormControl('', Validators.compose([\r\n          Validators.pattern('^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$')\r\n        ])),\r\n        tags: new FormArray([], CheckboxCheckedValidator.tagsSelected(1))\r\n    });\r\n\r\n    this.uploadForm = new FormGroup(\r\n    {\r\n      title: new FormControl('', Validators.required),\r\n      tags: new FormArray([], CheckboxCheckedValidator.tagsSelected(1))\r\n    });\r\n\r\n    this.weblinkForm = new FormGroup(\r\n    {\r\n      title: new FormControl('', Validators.required),\r\n      link: new FormControl('', Validators.compose([\r\n          Validators.pattern('(?:(?:(?:ht|f)tp)s?://)?[\\\\w_-]+(?:\\\\.[\\\\w_-]+)+([\\\\w.,@?^=%&:/~+#-]*[\\\\w@?^=%&/~+#-])?')\r\n        ])),\r\n        tags: new FormArray([], CheckboxCheckedValidator.tagsSelected(1))\r\n    });\r\n  }\r\n\r\n  ionViewDidEnter() { }\r\n\r\n  addContactTagControls() {\r\n    this.postTags.forEach((o, i) => {\r\n      const control = new FormControl(i === 0); // if first item set to true, else false\r\n      (this.contactForm.controls.tags as FormArray).push(control);\r\n    });\r\n  }\r\n\r\n  addLinkTagControls() {\r\n    this.postTags.forEach((o, i) => {\r\n      const control = new FormControl(i === 0); // if first item set to true, else false\r\n      (this.weblinkForm.controls.tags as FormArray).push(control);\r\n    });\r\n  }\r\n\r\n  addUploadTagControls() {\r\n    this.postTags.forEach((o, i) => {\r\n      const control = new FormControl(i === 0); // if first item set to true, else false\r\n      (this.uploadForm.controls.tags as FormArray).push(control);\r\n    });\r\n  }\r\n\r\n  ngOnInit() { \r\n    this.dataProvider.getCurrentUser().snapshotChanges().subscribe((value: any) => {\r\n      this.user = value.payload.data();\r\n      this.addedByUser = {\r\n      addedByKey: value.payload.data().userId,\r\n      addedByUsername: value.payload.data().username,\r\n      addedByImg: value.payload.data().img\r\n    };\r\n\r\n    // Initialize\r\n      this.resource = {\r\n      addedByUser: this.addedByUser,\r\n      date: '',\r\n      title: '',\r\n      postTags: [],\r\n      groupId: '',\r\n      groupName: '',\r\n      type: 'resource',\r\n      data: {name: '', address: '', phones: '', email: '', type: ''},\r\n      totalReactionCount: 0,\r\n      totalReviewCount: 0\r\n    };\r\n\r\n      if (this.step === 1) {\r\n      this.title = 'Select a group ...';\r\n      // Get User Groups List\r\n      if (this.user.groups) {\r\n        this.firestore.collection('groups').ref\r\n        .where(firebase.firestore.FieldPath.documentId(), 'in', this.user.groups)\r\n        .get().then((group: any) => {\r\n          this.groups = [];\r\n          group.forEach(g => {\r\n            let group: any;\r\n            group = g.data();\r\n            group.key = g.id;\r\n            this.addOrUpdateUserGroup(group);\r\n          });\r\n        });\r\n      }\r\n      } else {\r\n        this.tab = 'contact';\r\n        // Get group information\r\n        this.groupId = this.route.snapshot.params.id;\r\n        console.log('this.route.snapshot.params.id', this.route.snapshot.params.id);\r\n        this.dataProvider.getGroup(this.groupId).snapshotChanges().subscribe((group) => {\r\n            this.group = group.payload.data();\r\n            this.postTags = [];\r\n            console.log('this.group', group.payload.data());\r\n            this.group.groupTags.forEach((element: any) => {\r\n              this.postTags.push({val: element, isChecked: false});\r\n            });\r\n            this.addContactTagControls();\r\n            this.addLinkTagControls();\r\n            this.addUploadTagControls();\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  addOrUpdateUserGroup(group) {\r\n    if (!this.groups) {\r\n      this.groups = [group];\r\n    } else {\r\n      let index = -1;\r\n      for (let i = 0; i < this.groups.length; i++) {\r\n        if (this.groups[i].key == group.key) {\r\n          index = i;\r\n        }\r\n      }\r\n      if (index > -1) {\r\n        this.groups[index] = group;\r\n      } else {\r\n        this.groups.push(group);\r\n      }\r\n    }\r\n  }\r\n\r\n  segmentChanged($event) {\r\n    if (this.tab === 'contact') {\r\n      this.getDummyData();\r\n    } else if (this.tab === 'upload') {\r\n      this.getDummyData();\r\n    } else if (this.tab === 'link') {\r\n      this.getDummyData();\r\n    }\r\n  }\r\n\r\n  // This method is required in segmentChanged call else tabs won't load properly\r\n  getDummyData() {\r\n    this.dataProvider.getCurrentUser().snapshotChanges().subscribe((account: any) => {\r\n      console.log(account);\r\n    });\r\n  }\r\n\r\n  // Proceed to userInfo page.\r\n  viewUser(userId) {\r\n    this.router.navigateByUrl('/userinfo/' + userId);\r\n  }\r\n\r\n  // Proceed with group creation.\r\n  submitContactForm() {\r\n    this.loadingProvider.show();\r\n\r\n    // Add resource info and date.\r\n    this.resource.date = new Date();\r\n    this.resource.title = this.contactForm.value.title;\r\n    this.resource.postTags = [];\r\n    this.resource.postTags = this.postTags;\r\n    this.resource.groupId = this.groupId;\r\n    this.resource.groupName = this.group.name;\r\n\r\n    this.resource.data.type = 'contact';\r\n    this.resource.data.name = this.contactForm.value.name;\r\n    this.resource.data.address = this.contactForm.value.address.replace(/(?:\\r\\n|\\r|\\n)/g, '<br>');\r\n    this.resource.data.phones = this.contactForm.value.phones;\r\n    this.resource.data.email = this.contactForm.value.email;\r\n\r\n    this.addResourceToDatabase();\r\n   }\r\n\r\n   submitLinkForm() {\r\n    this.loadingProvider.show();\r\n\r\n    // Add resource info and date.\r\n    this.resource.date = new Date();\r\n    this.resource.title = this.weblinkForm.value.title;\r\n    this.resource.postTags = [];\r\n    this.resource.postTags = this.postTags;\r\n    this.resource.groupId = this.groupId;\r\n    this.resource.groupName = this.group.name;\r\n\r\n    this.resource.data.type = 'weblink';\r\n    this.resource.data.metaicon = this.metaicon;\r\n    this.resource.data.metasite = this.weblinkForm.value.link;\r\n    this.resource.data.metatitle = this.metatitle;\r\n    this.resource.data.metadescription = this.metadescription;\r\n\r\n    this.addResourceToDatabase();\r\n   }\r\n\r\n   submitUploadForm() {\r\n    this.addResourceToDatabase();\r\n   }\r\n\r\n   linkFocusOut() {\r\n    this.loadingProvider.show();\r\n    const getMeta = require('lets-get-meta');\r\n    this.http.get(\r\n      this.weblinkForm.value.link,\r\n      {responseType: 'text'}\r\n      )\r\n    .subscribe(res => {\r\n      const o = getMeta(res);\r\n      this.metaicon = o['og:image'];\r\n      this.metadescription = o.description;\r\n      this.metatitle = o['og:title'];\r\n\r\n      console.log('link', this.metaicon);\r\n      console.log('link', this.metatitle);\r\n      \r\n      this.loadingProvider.hide();\r\n    });\r\n  }\r\n\r\n  upload() {\r\n    // Add resource info and date.\r\n    this.resource.date = new Date();\r\n    this.resource.title = this.contactForm.value.title;\r\n    this.resource.postTags = [];\r\n    this.resource.postTags = this.postTags;\r\n    this.resource.groupId = this.groupId;\r\n    this.resource.groupName = this.group.name;\r\n\r\n    const action = this.actionSheet.create({\r\n      header: 'Choose attachments',\r\n      backdropDismiss: true,\r\n      mode: 'md',\r\n      buttons: [{\r\n        text: 'Camera',\r\n        handler: () => {\r\n          this.imageProvider.uploadGroupPhotoResource(this.groupId, this.camera.PictureSourceType.CAMERA).then((url) => {\r\n            this.resource.data.type = 'upload';\r\n            this.resource.data.url = url;\r\n            this.resource.data.uploadtype = 'image';\r\n          });\r\n        }\r\n      }, {\r\n        text: 'Photo Library',\r\n        handler: () => {\r\n          this.imageProvider.uploadGroupPhotoResource(this.groupId, this.camera.PictureSourceType.PHOTOLIBRARY).then((url) => {\r\n            this.resource.data.type = 'upload';\r\n            this.resource.data.url = url;\r\n            this.resource.data.uploadtype = 'image';\r\n          });\r\n        }\r\n      },\r\n      {\r\n        text: 'Video',\r\n        handler: () => {\r\n          this.imageProvider.uploadGroupVideoResource(this.groupId).then(url => {\r\n            this.resource.data.type = 'upload';\r\n            this.resource.data.uploadtype = 'video';\r\n            this.resource.data.url = url;\r\n          });\r\n        }\r\n      }\r\n        , {\r\n        text: 'Contact',\r\n        handler: () => {\r\n          this.contacts.pickContact().then(data => {\r\n            let name;\r\n            if (data.displayName !== null) { name = data.displayName; } else { name = data.name.givenName + '' + data.name.familyName; }\r\n            this.resource.data.type = 'upload';\r\n            this.resource.data.uploadtype = 'contact';\r\n            this.resource.data.name = name;\r\n            this.resource.data.address = data.addresses;\r\n            this.resource.data.phones = data.phoneNumbers;\r\n            this.resource.data.email = data.emails;\r\n          }, err => {\r\n            console.log(err);\r\n          });\r\n        }\r\n      }, {\r\n        text: 'Location',\r\n        handler: () => {\r\n          this.geolocation.getCurrentPosition({\r\n            timeout: 5000\r\n          }).then(res => {\r\n            const locationMessage = 'Location:<br> lat:' + res.coords.latitude + '<br> lng:' + res.coords.longitude;\r\n            // tslint:disable-next-line: max-line-length\r\n            const url = '<a href=\\'https://www.google.com/maps/search/' + res.coords.latitude + ',' + res.coords.longitude + '\\'>View on Map</a>';\r\n            const confirm = this.alertCtrl.create({\r\n              header: 'Your Location',\r\n              message: locationMessage,\r\n              buttons: [{\r\n                text: 'cancel',\r\n                handler: () => {\r\n                  console.log('canceled');\r\n                }\r\n              }, {\r\n                text: 'Share',\r\n                handler: () => {\r\n                  this.resource.data.type = 'upload';\r\n                  this.resource.data.url = url;\r\n                  this.resource.data.uploadtype = 'location';\r\n                }\r\n              }]\r\n            }).then(r => r.present());\r\n          }, locationErr => {\r\n            console.log('Location Error' + JSON.stringify(locationErr));\r\n          });\r\n        }\r\n      }, {\r\n        text: 'cancel',\r\n        role: 'cancel',\r\n        handler: () => {\r\n          console.log('cancelled');\r\n        }\r\n      }]\r\n    }).then(r => r.present());\r\n  }\r\n\r\n\r\n  addResourceToDatabase() {\r\n    // Add resource to database.\r\n    this.dataProvider.addPost(this.resource).then((success) => {\r\n      const postId = success.id;\r\n\r\n      this.resourceId = postId;\r\n      if (this.group.posts === undefined) {\r\n        this.group.posts = [];\r\n      }\r\n      this.group.posts.push(this.resourceId);\r\n\r\n      // Update group data on the database.\r\n      this.dataProvider.getGroup(this.groupId).update({\r\n        posts: this.group.posts\r\n      }).then(() => {\r\n        this.loadingProvider.hide();\r\n      });\r\n    });\r\n\r\n    this.router.navigateByUrl('tabs/tab4');\r\n  }\r\n\r\n  \r\n  selectGroup(groupId) {\r\n    this.groupId = groupId;\r\n    console.log('groupId', groupId);\r\n    this.step = 2;\r\n    this.title = 'Resource';\r\n    this.tab = 'contact';\r\n    this.dataProvider.getGroup(this.groupId).snapshotChanges().subscribe((group) => {\r\n      this.group = group.payload.data();\r\n      this.group.groupTags.forEach((element: any) => {\r\n        this.postTags.push({val: element, isChecked: false});\r\n      });\r\n      this.addContactTagControls();\r\n      this.addLinkTagControls();\r\n      this.addUploadTagControls();\r\n  });\r\n}\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { SharedModule } from '../services/share.module';\r\nimport { NewResourcesPage } from './new-resources.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: NewResourcesPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    SharedModule,\r\n    ReactiveFormsModule,\r\n    HttpClientModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [NewResourcesPage]\r\n})\r\nexport class NewResourcesPageModule {}\r\n"]}