<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>{{title}}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="contact-card-content">
  <div *ngIf="resource.type == 'contact'" >
  <ion-row class="user-details-wrapper">
   
    <ion-col class="user-info-wrapper" size="12">
      <h3 class="user-name">{{resource.name}}</h3>
    </ion-col>
    <ion-col class="user-stats-wrapper" size="6">
      <span class="user-stat-value">1553</span>
      <span class="user-stat-name">Pins</span>
    </ion-col>
    <ion-col class="user-stats-wrapper" size="6">
      <span class="user-stat-value">537</span>
      <span class="user-stat-name">comments</span>
    </ion-col>

  </ion-row>
  <ion-row class="user-preferences-wrapper">
    <ion-col size="12">
      <h4 class="preference-name">Address</h4>
      <p class="preference-value">
        {{resource.address}}
      </p>
    </ion-col>
    <br/>
    <ion-col size="12">
      <h4 class="preference-name">Email</h4>
      <p class="preference-value">
        {{resource.email}}
      </p>
    </ion-col>
    <br/>
    <ion-col size="12">
      <h4 class="preference-name">Mobile</h4>
      <p class="preference-value">
        {{resource.phones}}
      </p>
    </ion-col>

  </ion-row>

  <hr class="details-divider">
  <div class="reviews-wrapper">
    <h3 class="detail-title">Selected Tags</h3>
 
      <ion-row class="checkbox-tags rounded-checkbox-tags user-preferences-wrapper">
    <ion-item  *ngFor="let entry of resource.resourceTags" lines="none" class="checkbox-tag rounded-tag">
      <div>
        <ion-label class="tag-label">{{entry.val}}</ion-label>
      <ion-checkbox [(ngModel)]="entry.isChecked"></ion-checkbox>
    </div>
    </ion-item>
  </ion-row>
</div>

  <hr class="details-divider">
  <div class="reviews-wrapper">
    <h3 class="detail-title">Reviews</h3>
    <ion-buttons slot="end"> 
		<ion-button (click)="openReviewModal()" ><ion-icon name="create"></ion-icon></ion-button>
    </ion-buttons>
    <div class="reviews-list">
      <div class="review-item" *ngFor="let review of reviews">
        <ion-row class="review-user">

          <ion-col  class="user-brief-wrapper">
            <h5 class="review-user-name">
              {{review.addedByUsername}}
            </h5>
            <ion-row class="details-scores user-scores">
              <ion-col class="score-item user-score">
                <ion-icon class="score-icon" src="./assets/sample-icons/food/reviews.svg"></ion-icon>
                <div class="score-value">
                  {{review.rating}}
                </div>
                <span class="score-title">Reviews</span>
              </ion-col>
            </ion-row>
          </ion-col>
          <ion-col class="review-info-wrapper">
            <span class="review-date">
              {{review.dateCreated | DateFormat}}
            </span>
            <div class="review-rating" [attr.ratingBase]="review.avgRating | floor">
             2.3
            </div>
          </ion-col>
        </ion-row>
        <p class="review-message">
          {{review.review}}
        </p>
        <ion-row class="details-scores review-scores">
          <ion-col class="score-item review-score" *ngFor="let rating of review.ratings">
            <ion-icon *ngIf="rating.concept" class="score-icon" [src]="(rating.concept) ? './assets/sample-icons/food/' + rating.concept + '-rate.svg' : ''"></ion-icon>
            <div class="score-value">
              1.2
            </div>
          </ion-col>
        </ion-row>
      </div>
    </div>
    <hr class="details-divider">
    <ion-button class="all-reviews-btn" color="dark" expand="block" fill="clear">READ ALL REVIEWS ({{ details?.reviews?.length }})</ion-button>
    <hr class="details-divider">
    <ion-button class="write-reviews-btn" color="dark" (click)="openReviewModal()" expand="block" fill="solid">Write a review</ion-button>
  </div>
 
</div>

</ion-content>
